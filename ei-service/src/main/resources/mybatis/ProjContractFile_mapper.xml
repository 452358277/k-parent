<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ProjContractFile">
	<!-- 基本信息 -->
	<resultMap id="ProjContractFileResult2" type="com.ppmg.ei.model.ProjContractFileModel" extends="ProjContractFileResult">
		<collection property="fileLists" ofType="com.ppmg.ei.model.EiTAttachmentModel" column="CONTRACT_FILE">
			<result column="FILE_ATT_ID" property="fileId" jdbcType="VARCHAR" />
			<result column="FILE_ATT_SOURCE" property="fileSource" jdbcType="VARCHAR" />
			<result column="FILE_ATT_NAME" property="fileOldName" jdbcType="VARCHAR" />
			<result column="FILE_ATT_URL" property="filePath" jdbcType="VARCHAR" />
			<result column="FILE_ATT_SIZE" property="fileSize" jdbcType="VARCHAR" />
		</collection>
	</resultMap>
	<!-- start autocreate -->

	<resultMap id="ProjContractFileResult" type="com.ppmg.ei.model.ProjContractFileModel">
		<result column="FILE_ID" property="fileId" jdbcType="VARCHAR" />
		<result column="PROJ_ID" property="projId" jdbcType="VARCHAR" />
		<result column="FILE_TYPE" property="fileType" jdbcType="VARCHAR" />
		<result column="FILE_TITLE" property="fileTitle" jdbcType="VARCHAR" />
		<result column="FIRST_PARTY" property="firstParty" jdbcType="VARCHAR" />
		<result column="SECOND_PARTY" property="secondParty" jdbcType="VARCHAR" />
		<result column="DRAFTSMAN" property="draftsman" jdbcType="VARCHAR" />
		<result column="DRAFT_DT" property="draftDt" jdbcType="TIMESTAMP" />
		<result column="DIRECTOR_COUNT" property="directorCount" jdbcType="NUMERIC" />
		<result column="YH_DIRE_COUNT" property="yhDireCount" jdbcType="NUMERIC" />
		<result column="SUPERVISOR_COUNT" property="supervisorCount" jdbcType="NUMERIC" />
		<result column="YH_SUPE_COUNT" property="yhSupeCount" jdbcType="NUMERIC" />
		<result column="CONTRACT_FILE" property="contractFile" jdbcType="VARCHAR" />
		<result column="REMARK" property="remark" jdbcType="VARCHAR" />
		<result column="FINAL_FILE" property="finalFile" jdbcType="VARCHAR" />
		<result column="STATUS" property="status" jdbcType="VARCHAR" />
		<result column="CREATE_BY" property="createBy" jdbcType="VARCHAR" />
		<result column="CREATE_DT" property="createDt" jdbcType="TIMESTAMP" />
		<result column="UPDATE_BY" property="updateBy" jdbcType="VARCHAR" />
		<result column="UPDATE_DT" property="updateDt" jdbcType="TIMESTAMP" />
		<result column="PROCESS_INST_ID" property="processInstId" jdbcType="VARCHAR" />
		<result column="PROJ_GUID" property="projGuid" jdbcType="VARCHAR" />
		<result column="PROCESSVERSIONINSTANCEGUID" property="processversioninstanceguid" jdbcType="VARCHAR" />
		<result column="SVG_PK_GUID" property="svgPkGuid" jdbcType="VARCHAR" />
		<result column="SVG_ATTA_GUID" property="svgAttaGuid" jdbcType="VARCHAR" />
		<result column="SIGN_DT" property="signDt" jdbcType="TIMESTAMP" />
		<result column="SIGN_AMOUNT" property="signAmount" jdbcType="NUMERIC" />
		<result column="SIGN_AMOUNT_CURR" property="signAmountCurr" jdbcType="VARCHAR" />
		<result column="SIGN_AMOUNT_RMB" property="signAmountRmb" jdbcType="NUMERIC" />
		<result column="AFTER_FUNDER_ID" property="afterFunderId" jdbcType="VARCHAR" />
		<result column="END_AGREE_AMONT" property="endAgreeAmont" jdbcType="NUMERIC" />
		<result column="END_AGREE_AMONT_CURR" property="endAgreeAmontCurr" jdbcType="VARCHAR" />
		<result column="END_AGREE_AMONT_RMB" property="endAgreeAmontRmb" jdbcType="NUMERIC" />
		<result column="THIS_AGREE_AMONT" property="thisAgreeAmont" jdbcType="NUMERIC" />
		<result column="THIS_AGREE_AMONT_CURR" property="thisAgreeAmontCurr" jdbcType="VARCHAR" />
		<result column="THIS_AGREE_AMONT_RMB" property="thisAgreeAmontRmb" jdbcType="NUMERIC" />
		<result column="PROJ_ID_PI" property="projIdPi" jdbcType="VARCHAR" />
		<result column="CSID" property="csid" jdbcType="VARCHAR" />
		<result column="OBJECT_ID" property="objectId" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT_NAME" property="projObjectName" jdbcType="VARCHAR" />
		<result column="GROUP_ID" property="groupId" jdbcType="VARCHAR" />
		<result column="SHARE_RATIO" property="shareRatio" jdbcType="NUMERIC" />
		<result column="SUB_FUND_AMONT" property="subFundAmont" jdbcType="NUMERIC" />
		<result column="SUB_FUND_AMONT_CURR" property="subFundAmontCurr" jdbcType="VARCHAR" />
		<result column="SUB_FUND_AMONT_RMB" property="subFundAmontRmb" jdbcType="NUMERIC" />
		<result column="CURRENT_AMOUNT" property="currentAmount" jdbcType="NUMERIC" />
		<result column="CURRENT_AMOUNT_CURR" property="currentAmountCurr" jdbcType="VARCHAR" />
		<result column="CURRENT_AMOUNT_RMB" property="currentAmountRmb" jdbcType="NUMERIC" />
		<result column="CURRENT_RATIO" property="currentRatio" jdbcType="NUMERIC" />
		<result column="MAJOR_TERM" property="majorTerm" jdbcType="VARCHAR" />
		<result column="FILE_INFO_ID" property="fileInfoId" jdbcType="VARCHAR" />
		<result column="SIGN_QUIT" property="signQuit" jdbcType="VARCHAR" />
	</resultMap>

	<insert id="insert" parameterType="com.ppmg.ei.model.ProjContractFileModel">
		INSERT INTO TZ_T_PROJ_CONTRACT_FILE (FILE_ID,PROJ_ID,FILE_TYPE,FILE_TITLE,FIRST_PARTY,SECOND_PARTY,DRAFTSMAN,DRAFT_DT,DIRECTOR_COUNT,YH_DIRE_COUNT,SUPERVISOR_COUNT,YH_SUPE_COUNT,CONTRACT_FILE,REMARK,FINAL_FILE,STATUS,CREATE_BY,CREATE_DT,UPDATE_BY,UPDATE_DT,PROCESS_INST_ID,PROJ_GUID,PROCESSVERSIONINSTANCEGUID,SVG_PK_GUID,SVG_ATTA_GUID,SIGN_DT,SIGN_AMOUNT,SIGN_AMOUNT_CURR,SIGN_AMOUNT_RMB,AFTER_FUNDER_ID,END_AGREE_AMONT,END_AGREE_AMONT_CURR,END_AGREE_AMONT_RMB,THIS_AGREE_AMONT,THIS_AGREE_AMONT_CURR,THIS_AGREE_AMONT_RMB,PROJ_ID_PI,CSID,OBJECT_ID,PROJ_OBJECT_NAME,GROUP_ID,SHARE_RATIO,SUB_FUND_AMONT,SUB_FUND_AMONT_CURR,SUB_FUND_AMONT_RMB,CURRENT_AMOUNT,CURRENT_AMOUNT_CURR,CURRENT_AMOUNT_RMB,CURRENT_RATIO,MAJOR_TERM,FILE_INFO_ID,SIGN_QUIT) values(#{fileId,jdbcType=VARCHAR},#{projId,jdbcType=VARCHAR},#{fileType,jdbcType=VARCHAR},#{fileTitle,jdbcType=VARCHAR},#{firstParty,jdbcType=VARCHAR},#{secondParty,jdbcType=VARCHAR},#{draftsman,jdbcType=VARCHAR},#{draftDt,jdbcType=TIMESTAMP},#{directorCount,jdbcType=NUMERIC},#{yhDireCount,jdbcType=NUMERIC},#{supervisorCount,jdbcType=NUMERIC},#{yhSupeCount,jdbcType=NUMERIC},#{contractFile,jdbcType=VARCHAR},#{remark,jdbcType=VARCHAR},#{finalFile,jdbcType=VARCHAR},#{status,jdbcType=VARCHAR},#{createBy,jdbcType=VARCHAR},#{createDt,jdbcType=TIMESTAMP},#{updateBy,jdbcType=VARCHAR},#{updateDt,jdbcType=TIMESTAMP},#{processInstId,jdbcType=VARCHAR},#{projGuid,jdbcType=VARCHAR},#{processversioninstanceguid,jdbcType=VARCHAR},#{svgPkGuid,jdbcType=VARCHAR},#{svgAttaGuid,jdbcType=VARCHAR},#{signDt,jdbcType=TIMESTAMP},#{signAmount,jdbcType=NUMERIC},#{signAmountCurr,jdbcType=VARCHAR},#{signAmountRmb,jdbcType=NUMERIC},#{afterFunderId,jdbcType=VARCHAR},#{endAgreeAmont,jdbcType=NUMERIC},#{endAgreeAmontCurr,jdbcType=VARCHAR},#{endAgreeAmontRmb,jdbcType=NUMERIC},#{thisAgreeAmont,jdbcType=NUMERIC},#{thisAgreeAmontCurr,jdbcType=VARCHAR},#{thisAgreeAmontRmb,jdbcType=NUMERIC},#{projIdPi,jdbcType=VARCHAR},#{csid,jdbcType=VARCHAR},#{objectId,jdbcType=VARCHAR},#{projObjectName,jdbcType=VARCHAR},#{groupId,jdbcType=VARCHAR},#{shareRatio,jdbcType=NUMERIC},#{subFundAmont,jdbcType=NUMERIC},#{subFundAmontCurr,jdbcType=VARCHAR},#{subFundAmontRmb,jdbcType=NUMERIC},#{currentAmount,jdbcType=NUMERIC},#{currentAmountCurr,jdbcType=VARCHAR},#{currentAmountRmb,jdbcType=NUMERIC},#{currentRatio,jdbcType=NUMERIC},#{majorTerm,jdbcType=VARCHAR},#{fileInfoId,jdbcType=VARCHAR},#{signQuit,jdbcType=VARCHAR})
	</insert>

	<insert id="insertBatch" parameterType="List">
		INSERT INTO TZ_T_PROJ_CONTRACT_FILE (FILE_ID,PROJ_ID,FILE_TYPE,FILE_TITLE,FIRST_PARTY,SECOND_PARTY,DRAFTSMAN,DRAFT_DT,DIRECTOR_COUNT,YH_DIRE_COUNT,SUPERVISOR_COUNT,YH_SUPE_COUNT,CONTRACT_FILE,REMARK,FINAL_FILE,STATUS,CREATE_BY,CREATE_DT,UPDATE_BY,UPDATE_DT,PROCESS_INST_ID,PROJ_GUID,PROCESSVERSIONINSTANCEGUID,SVG_PK_GUID,SVG_ATTA_GUID,SIGN_DT,SIGN_AMOUNT,SIGN_AMOUNT_CURR,SIGN_AMOUNT_RMB,AFTER_FUNDER_ID,END_AGREE_AMONT,END_AGREE_AMONT_CURR,END_AGREE_AMONT_RMB,THIS_AGREE_AMONT,THIS_AGREE_AMONT_CURR,THIS_AGREE_AMONT_RMB,PROJ_ID_PI,CSID,OBJECT_ID,PROJ_OBJECT_NAME,GROUP_ID,SHARE_RATIO,SUB_FUND_AMONT,SUB_FUND_AMONT_CURR,SUB_FUND_AMONT_RMB,CURRENT_AMOUNT,CURRENT_AMOUNT_CURR,CURRENT_AMOUNT_RMB,CURRENT_RATIO,MAJOR_TERM,FILE_INFO_ID,SIGN_QUIT)
		<foreach collection="list" item="item" index="index" separator="union all">
			( select
				#{item.fileId,jdbcType=VARCHAR},
				#{item.projId,jdbcType=VARCHAR},
				#{item.fileType,jdbcType=VARCHAR},
				#{item.fileTitle,jdbcType=VARCHAR},
				#{item.firstParty,jdbcType=VARCHAR},
				#{item.secondParty,jdbcType=VARCHAR},
				#{item.draftsman,jdbcType=VARCHAR},
				#{item.draftDt,jdbcType=TIMESTAMP},
				#{item.directorCount,jdbcType=NUMERIC},
				#{item.yhDireCount,jdbcType=NUMERIC},
				#{item.supervisorCount,jdbcType=NUMERIC},
				#{item.yhSupeCount,jdbcType=NUMERIC},
				#{item.contractFile,jdbcType=VARCHAR},
				#{item.remark,jdbcType=VARCHAR},
				#{item.finalFile,jdbcType=VARCHAR},
				#{item.status,jdbcType=VARCHAR},
				#{item.createBy,jdbcType=VARCHAR},
				#{item.createDt,jdbcType=TIMESTAMP},
				#{item.updateBy,jdbcType=VARCHAR},
				#{item.updateDt,jdbcType=TIMESTAMP},
				#{item.processInstId,jdbcType=VARCHAR},
				#{item.projGuid,jdbcType=VARCHAR},
				#{item.processversioninstanceguid,jdbcType=VARCHAR},
				#{item.svgPkGuid,jdbcType=VARCHAR},
				#{item.svgAttaGuid,jdbcType=VARCHAR},
				#{item.signDt,jdbcType=TIMESTAMP},
				#{item.signAmount,jdbcType=NUMERIC},
				#{item.signAmountCurr,jdbcType=VARCHAR},
				#{item.signAmountRmb,jdbcType=NUMERIC},
				#{item.afterFunderId,jdbcType=VARCHAR},
				#{item.endAgreeAmont,jdbcType=NUMERIC},
				#{item.endAgreeAmontCurr,jdbcType=VARCHAR},
				#{item.endAgreeAmontRmb,jdbcType=NUMERIC},
				#{item.thisAgreeAmont,jdbcType=NUMERIC},
				#{item.thisAgreeAmontCurr,jdbcType=VARCHAR},
				#{item.thisAgreeAmontRmb,jdbcType=NUMERIC},
				#{item.projIdPi,jdbcType=VARCHAR},
				#{item.csid,jdbcType=VARCHAR},
				#{item.objectId,jdbcType=VARCHAR},
				#{item.projObjectName,jdbcType=VARCHAR},
				#{item.groupId,jdbcType=VARCHAR},
				#{item.shareRatio,jdbcType=NUMERIC},
				#{item.subFundAmont,jdbcType=NUMERIC},
				#{item.subFundAmontCurr,jdbcType=VARCHAR},
				#{item.subFundAmontRmb,jdbcType=NUMERIC},
				#{item.currentAmount,jdbcType=NUMERIC},
				#{item.currentAmountCurr,jdbcType=VARCHAR},
				#{item.currentAmountRmb,jdbcType=NUMERIC},
				#{item.currentRatio,jdbcType=NUMERIC},
			    #{item.majorTerm,jdbcType=VARCHAR},
			    #{item.fileInfoId,jdbcType=VARCHAR},
			   #{item.signQuit,jdbcType=VARCHAR}
		 	from dual)
		</foreach>
	</insert>

	<delete id="deleteById" parameterType="String">
		DELETE FROM  TZ_T_PROJ_CONTRACT_FILE WHERE FILE_ID = #{fileId,jdbcType=VARCHAR}
	</delete>

	<delete id="deletePK" parameterType="com.ppmg.ei.model.ProjContractFileModel">
		DELETE FROM TZ_T_PROJ_CONTRACT_FILE
		<where>
			<if test="fileId != null and fileId != ''" >
				FILE_ID = #{fileId,jdbcType=VARCHAR}
			</if>
			<if test="projId != null and projId != ''" >
				AND PROJ_ID = #{projId,jdbcType=VARCHAR}
			</if>
			<if test="fileType != null and fileType != ''" >
				AND FILE_TYPE = #{fileType,jdbcType=VARCHAR}
			</if>
			<if test="fileTitle != null and fileTitle != ''" >
				AND FILE_TITLE = #{fileTitle,jdbcType=VARCHAR}
			</if>
			<if test="firstParty != null and firstParty != ''" >
				AND FIRST_PARTY = #{firstParty,jdbcType=VARCHAR}
			</if>
			<if test="secondParty != null and secondParty != ''" >
				AND SECOND_PARTY = #{secondParty,jdbcType=VARCHAR}
			</if>
			<if test="draftsman != null and draftsman != ''" >
				AND DRAFTSMAN = #{draftsman,jdbcType=VARCHAR}
			</if>
			<if test="draftDt != null" >
				AND DRAFT_DT = #{draftDt,jdbcType=VARCHAR}
			</if>
			<if test="directorCount != null and directorCount != ''" >
				AND DIRECTOR_COUNT = #{directorCount,jdbcType=NUMERIC}
			</if>
			<if test="yhDireCount != null and yhDireCount != ''" >
				AND YH_DIRE_COUNT = #{yhDireCount,jdbcType=NUMERIC}
			</if>
			<if test="supervisorCount != null and supervisorCount != ''" >
				AND SUPERVISOR_COUNT = #{supervisorCount,jdbcType=NUMERIC}
			</if>
			<if test="yhSupeCount != null and yhSupeCount != ''" >
				AND YH_SUPE_COUNT = #{yhSupeCount,jdbcType=NUMERIC}
			</if>
			<if test="contractFile != null and contractFile != ''" >
				AND CONTRACT_FILE = #{contractFile,jdbcType=VARCHAR}
			</if>
			<if test="remark != null and remark != ''" >
				AND REMARK = #{remark,jdbcType=VARCHAR}
			</if>
			<if test="finalFile != null and finalFile != ''" >
				AND FINAL_FILE = #{finalFile,jdbcType=VARCHAR}
			</if>
			<if test="status != null and status != ''" >
				AND STATUS = #{status,jdbcType=VARCHAR}
			</if>
			<if test="createBy != null and createBy != ''" >
				AND CREATE_BY = #{createBy,jdbcType=VARCHAR}
			</if>
			<if test="createDt != null" >
				AND CREATE_DT = #{createDt,jdbcType=VARCHAR}
			</if>
			<if test="updateBy != null and updateBy != ''" >
				AND UPDATE_BY = #{updateBy,jdbcType=VARCHAR}
			</if>
			<if test="updateDt != null" >
				AND UPDATE_DT = #{updateDt,jdbcType=VARCHAR}
			</if>
			<if test="processInstId != null and processInstId != ''" >
				AND PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR}
			</if>
			<if test="projGuid != null and projGuid != ''" >
				AND PROJ_GUID = #{projGuid,jdbcType=VARCHAR}
			</if>
			<if test="processversioninstanceguid != null and processversioninstanceguid != ''" >
				AND PROCESSVERSIONINSTANCEGUID = #{processversioninstanceguid,jdbcType=VARCHAR}
			</if>
			<if test="svgPkGuid != null and svgPkGuid != ''" >
				AND SVG_PK_GUID = #{svgPkGuid,jdbcType=VARCHAR}
			</if>
			<if test="svgAttaGuid != null and svgAttaGuid != ''" >
				AND SVG_ATTA_GUID = #{svgAttaGuid,jdbcType=VARCHAR}
			</if>
			<if test="signDt != null" >
				AND SIGN_DT = #{signDt,jdbcType=VARCHAR}
			</if>
			<if test="signAmount != null and signAmount != ''" >
				AND SIGN_AMOUNT = #{signAmount,jdbcType=NUMERIC}
			</if>
			<if test="signAmountCurr != null and signAmountCurr != ''" >
				AND SIGN_AMOUNT_CURR = #{signAmountCurr,jdbcType=VARCHAR}
			</if>
			<if test="signAmountRmb != null and signAmountRmb != ''" >
				AND SIGN_AMOUNT_RMB = #{signAmountRmb,jdbcType=NUMERIC}
			</if>
			<if test="afterFunderId != null and afterFunderId != ''" >
				AND AFTER_FUNDER_ID = #{afterFunderId,jdbcType=VARCHAR}
			</if>
			<if test="endAgreeAmont != null and endAgreeAmont != ''" >
				AND END_AGREE_AMONT = #{endAgreeAmont,jdbcType=NUMERIC}
			</if>
			<if test="endAgreeAmontCurr != null and endAgreeAmontCurr != ''" >
				AND END_AGREE_AMONT_CURR = #{endAgreeAmontCurr,jdbcType=VARCHAR}
			</if>
			<if test="endAgreeAmontRmb != null and endAgreeAmontRmb != ''" >
				AND END_AGREE_AMONT_RMB = #{endAgreeAmontRmb,jdbcType=NUMERIC}
			</if>
			<if test="thisAgreeAmont != null and thisAgreeAmont != ''" >
				AND THIS_AGREE_AMONT = #{thisAgreeAmont,jdbcType=NUMERIC}
			</if>
			<if test="thisAgreeAmontCurr != null and thisAgreeAmontCurr != ''" >
				AND THIS_AGREE_AMONT_CURR = #{thisAgreeAmontCurr,jdbcType=VARCHAR}
			</if>
			<if test="thisAgreeAmontRmb != null and thisAgreeAmontRmb != ''" >
				AND THIS_AGREE_AMONT_RMB = #{thisAgreeAmontRmb,jdbcType=NUMERIC}
			</if>
			<if test="projIdPi != null and projIdPi != ''" >
				AND PROJ_ID_PI = #{projIdPi,jdbcType=VARCHAR}
			</if>
			<if test="csid != null and csid != ''" >
				AND CSID = #{csid,jdbcType=VARCHAR}
			</if>
			<if test="objectId != null and objectId != ''" >
				AND OBJECT_ID = #{objectId,jdbcType=VARCHAR}
			</if>
			<if test="projObjectName != null and projObjectName != ''" >
				AND PROJ_OBJECT_NAME = #{projObjectName,jdbcType=VARCHAR}
			</if>
			<if test="groupId != null and groupId != ''" >
				AND GROUP_ID = #{groupId,jdbcType=VARCHAR}
			</if>
			<if test="shareRatio != null and shareRatio != ''" >
				AND SHARE_RATIO = #{shareRatio,jdbcType=NUMERIC}
			</if>
			<if test="subFundAmont != null and subFundAmont != ''" >
				AND SUB_FUND_AMONT = #{subFundAmont,jdbcType=NUMERIC}
			</if>
			<if test="subFundAmontCurr != null and subFundAmontCurr != ''" >
				AND SUB_FUND_AMONT_CURR = #{subFundAmontCurr,jdbcType=VARCHAR}
			</if>
			<if test="subFundAmontRmb != null and subFundAmontRmb != ''" >
				AND SUB_FUND_AMONT_RMB = #{subFundAmontRmb,jdbcType=NUMERIC}
			</if>
			<if test="currentAmount != null and currentAmount != ''" >
				AND CURRENT_AMOUNT = #{currentAmount,jdbcType=NUMERIC}
			</if>
			<if test="currentAmountCurr != null and currentAmountCurr != ''" >
				AND CURRENT_AMOUNT_CURR = #{currentAmountCurr,jdbcType=VARCHAR}
			</if>
			<if test="currentAmountRmb != null and currentAmountRmb != ''" >
				AND CURRENT_AMOUNT_RMB = #{currentAmountRmb,jdbcType=NUMERIC}
			</if>
			<if test="currentRatio != null and currentRatio != ''" >
				AND CURRENT_RATIO = #{currentRatio,jdbcType=NUMERIC}
			</if>
			<if test="majorTerm != null and majorTerm != ''" >
				AND MAJOR_TERM = #{majorTerm,jdbcType=VARCHAR}
			</if>
			<if test="fileInfoId != null and fileInfoId != ''" >
				AND FILE_INFO_ID = #{fileInfoId,jdbcType=VARCHAR}
			</if>
			<if test="signQuit != null and signQuit != ''" >
				AND SIGN_QUIT = #{signQuit,jdbcType=VARCHAR}
			</if>
		</where>
	</delete>

	<delete id="deleteBatch" parameterType="List">
		DELETE FROM  TZ_T_PROJ_CONTRACT_FILE WHERE FILE_ID IN
		<foreach collection="array" item="item" open="(" separator="," close=")">
			#{item}
		</foreach>
	</delete>

	<update id="updatePK" parameterType="com.ppmg.ei.model.ProjContractFileModel">
		UPDATE TZ_T_PROJ_CONTRACT_FILE 
		<set>
			<if test="fileId != null and fileId != ''" >
				FILE_ID = #{fileId,jdbcType=VARCHAR},
			</if>
			<if test="projId != null and projId != ''" >
				PROJ_ID = #{projId,jdbcType=VARCHAR},
			</if>
			<if test="fileType != null and fileType != ''" >
				FILE_TYPE = #{fileType,jdbcType=VARCHAR},
			</if>
			<if test="fileTitle != null and fileTitle != ''" >
				FILE_TITLE = #{fileTitle,jdbcType=VARCHAR},
			</if>
			<if test="firstParty != null and firstParty != ''" >
				FIRST_PARTY = #{firstParty,jdbcType=VARCHAR},
			</if>
			<if test="secondParty != null and secondParty != ''" >
				SECOND_PARTY = #{secondParty,jdbcType=VARCHAR},
			</if>
			<if test="draftsman != null and draftsman != ''" >
				DRAFTSMAN = #{draftsman,jdbcType=VARCHAR},
			</if>
			<if test="draftDt != null" >
				DRAFT_DT = #{draftDt,jdbcType=TIMESTAMP},
			</if>
			<if test="directorCount != null and directorCount != ''" >
				DIRECTOR_COUNT = #{directorCount,jdbcType=NUMERIC},
			</if>
			<if test="yhDireCount != null and yhDireCount != ''" >
				YH_DIRE_COUNT = #{yhDireCount,jdbcType=NUMERIC},
			</if>
			<if test="supervisorCount != null and supervisorCount != ''" >
				SUPERVISOR_COUNT = #{supervisorCount,jdbcType=NUMERIC},
			</if>
			<if test="yhSupeCount != null and yhSupeCount != ''" >
				YH_SUPE_COUNT = #{yhSupeCount,jdbcType=NUMERIC},
			</if>
			<if test="contractFile != null and contractFile != ''" >
				CONTRACT_FILE = #{contractFile,jdbcType=VARCHAR},
			</if>
			<if test="remark != null and remark != ''" >
				REMARK = #{remark,jdbcType=VARCHAR},
			</if>
			<if test="finalFile != null and finalFile != ''" >
				FINAL_FILE = #{finalFile,jdbcType=VARCHAR},
			</if>
			<if test="status != null and status != ''" >
				STATUS = #{status,jdbcType=VARCHAR},
			</if>
			<if test="createBy != null and createBy != ''" >
				CREATE_BY = #{createBy,jdbcType=VARCHAR},
			</if>
			<if test="createDt != null" >
				CREATE_DT = #{createDt,jdbcType=TIMESTAMP},
			</if>
			<if test="updateBy != null and updateBy != ''" >
				UPDATE_BY = #{updateBy,jdbcType=VARCHAR},
			</if>
			<if test="updateDt != null" >
				UPDATE_DT = #{updateDt,jdbcType=TIMESTAMP},
			</if>
			<if test="processInstId != null and processInstId != ''" >
				PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR},
			</if>
			<if test="projGuid != null and projGuid != ''" >
				PROJ_GUID = #{projGuid,jdbcType=VARCHAR},
			</if>
			<if test="processversioninstanceguid != null and processversioninstanceguid != ''" >
				PROCESSVERSIONINSTANCEGUID = #{processversioninstanceguid,jdbcType=VARCHAR},
			</if>
			<if test="svgPkGuid != null and svgPkGuid != ''" >
				SVG_PK_GUID = #{svgPkGuid,jdbcType=VARCHAR},
			</if>
			<if test="svgAttaGuid != null and svgAttaGuid != ''" >
				SVG_ATTA_GUID = #{svgAttaGuid,jdbcType=VARCHAR},
			</if>
			<if test="signDt != null" >
				SIGN_DT = #{signDt,jdbcType=TIMESTAMP},
			</if>
			<if test="signAmount != null " >
				SIGN_AMOUNT = #{signAmount,jdbcType=NUMERIC},
			</if>
			<if test="signAmountCurr != null and signAmountCurr != ''" >
				SIGN_AMOUNT_CURR = #{signAmountCurr,jdbcType=VARCHAR},
			</if>
			<if test="signAmountRmb != null and signAmountRmb != ''" >
				SIGN_AMOUNT_RMB = #{signAmountRmb,jdbcType=NUMERIC},
			</if>
			<if test="afterFunderId != null and afterFunderId != ''" >
				AFTER_FUNDER_ID = #{afterFunderId,jdbcType=VARCHAR},
			</if>
			<if test="endAgreeAmont != null and endAgreeAmont != ''" >
				END_AGREE_AMONT = #{endAgreeAmont,jdbcType=NUMERIC},
			</if>
			<if test="endAgreeAmontCurr != null and endAgreeAmontCurr != ''" >
				END_AGREE_AMONT_CURR = #{endAgreeAmontCurr,jdbcType=VARCHAR},
			</if>
			<if test="endAgreeAmontRmb != null and endAgreeAmontRmb != ''" >
				END_AGREE_AMONT_RMB = #{endAgreeAmontRmb,jdbcType=NUMERIC},
			</if>
			<if test="thisAgreeAmont != null and thisAgreeAmont != ''" >
				THIS_AGREE_AMONT = #{thisAgreeAmont,jdbcType=NUMERIC},
			</if>
			<if test="thisAgreeAmontCurr != null and thisAgreeAmontCurr != ''" >
				THIS_AGREE_AMONT_CURR = #{thisAgreeAmontCurr,jdbcType=VARCHAR},
			</if>
			<if test="thisAgreeAmontRmb != null and thisAgreeAmontRmb != ''" >
				THIS_AGREE_AMONT_RMB = #{thisAgreeAmontRmb,jdbcType=NUMERIC},
			</if>
			<if test="projIdPi != null and projIdPi != ''" >
				PROJ_ID_PI = #{projIdPi,jdbcType=VARCHAR},
			</if>
			<if test="csid != null and csid != ''" >
				CSID = #{csid,jdbcType=VARCHAR},
			</if>
			<if test="objectId != null and objectId != ''" >
				OBJECT_ID = #{objectId,jdbcType=VARCHAR},
			</if>
			<if test="projObjectName != null and projObjectName != ''" >
				PROJ_OBJECT_NAME = #{projObjectName,jdbcType=VARCHAR},
			</if>
			<if test="groupId != null and groupId != ''" >
				GROUP_ID = #{groupId,jdbcType=VARCHAR},
			</if>
			<if test="shareRatio != null and shareRatio != ''" >
				SHARE_RATIO = #{shareRatio,jdbcType=NUMERIC},
			</if>
			<if test="subFundAmont != null and subFundAmont != ''" >
				SUB_FUND_AMONT = #{subFundAmont,jdbcType=NUMERIC},
			</if>
			<if test="subFundAmontCurr != null and subFundAmontCurr != ''" >
				SUB_FUND_AMONT_CURR = #{subFundAmontCurr,jdbcType=VARCHAR},
			</if>
			<if test="subFundAmontRmb != null and subFundAmontRmb != ''" >
				SUB_FUND_AMONT_RMB = #{subFundAmontRmb,jdbcType=NUMERIC},
			</if>
			<if test="currentAmount != null and currentAmount != ''" >
				CURRENT_AMOUNT = #{currentAmount,jdbcType=NUMERIC},
			</if>
			<if test="currentAmountCurr != null and currentAmountCurr != ''" >
				CURRENT_AMOUNT_CURR = #{currentAmountCurr,jdbcType=VARCHAR},
			</if>
			<if test="currentAmountRmb != null and currentAmountRmb != ''" >
				CURRENT_AMOUNT_RMB = #{currentAmountRmb,jdbcType=NUMERIC},
			</if>
			<if test="currentRatio != null and currentRatio != ''" >
				CURRENT_RATIO = #{currentRatio,jdbcType=NUMERIC},
			</if>
			<if test="majorTerm != null and majorTerm != ''" >
				 MAJOR_TERM = #{majorTerm,jdbcType=VARCHAR},
			</if>
			<if test="fileInfoId != null and fileInfoId != ''" >
				 FILE_INFO_ID = #{fileInfoId,jdbcType=VARCHAR},
			</if>
			<if test="signQuit != null and signQuit != ''" >
				 SIGN_QUIT = #{signQuit,jdbcType=VARCHAR},
			</if>
		</set>
		WHERE FILE_ID = #{fileId,jdbcType=VARCHAR}
	</update>

	<select id="selectById" parameterType="String" resultMap="ProjContractFileResult">
		SELECT * FROM TZ_T_PROJ_CONTRACT_FILE WHERE FILE_ID = #{fileId,jdbcType=VARCHAR}
	</select>

	<select id="selectBy" parameterType="com.ppmg.ei.model.ProjContractFileModel" resultMap="ProjContractFileResult">
		SELECT * FROM TZ_T_PROJ_CONTRACT_FILE
		<where>
			<if test="fileId != null and fileId != ''" >
				FILE_ID = #{fileId,jdbcType=VARCHAR}
			</if>
			<if test="projId != null and projId != ''" >
				AND PROJ_ID = #{projId,jdbcType=VARCHAR}
			</if>
			<if test="fileType != null and fileType != ''" >
				AND FILE_TYPE = #{fileType,jdbcType=VARCHAR}
			</if>
			<if test="fileTitle != null and fileTitle != ''" >
				AND FILE_TITLE = #{fileTitle,jdbcType=VARCHAR}
			</if>
			<if test="firstParty != null and firstParty != ''" >
				AND FIRST_PARTY = #{firstParty,jdbcType=VARCHAR}
			</if>
			<if test="secondParty != null and secondParty != ''" >
				AND SECOND_PARTY = #{secondParty,jdbcType=VARCHAR}
			</if>
			<if test="draftsman != null and draftsman != ''" >
				AND DRAFTSMAN = #{draftsman,jdbcType=VARCHAR}
			</if>
			<if test="draftDt != null" >
				AND DRAFT_DT = #{draftDt,jdbcType=VARCHAR}
			</if>
			<if test="directorCount != null and directorCount != ''" >
				AND DIRECTOR_COUNT = #{directorCount,jdbcType=NUMERIC}
			</if>
			<if test="yhDireCount != null and yhDireCount != ''" >
				AND YH_DIRE_COUNT = #{yhDireCount,jdbcType=NUMERIC}
			</if>
			<if test="supervisorCount != null and supervisorCount != ''" >
				AND SUPERVISOR_COUNT = #{supervisorCount,jdbcType=NUMERIC}
			</if>
			<if test="yhSupeCount != null and yhSupeCount != ''" >
				AND YH_SUPE_COUNT = #{yhSupeCount,jdbcType=NUMERIC}
			</if>
			<if test="contractFile != null and contractFile != ''" >
				AND CONTRACT_FILE = #{contractFile,jdbcType=VARCHAR}
			</if>
			<if test="remark != null and remark != ''" >
				AND REMARK = #{remark,jdbcType=VARCHAR}
			</if>
			<if test="finalFile != null and finalFile != ''" >
				AND FINAL_FILE = #{finalFile,jdbcType=VARCHAR}
			</if>
			<if test="status != null and status != ''" >
				AND STATUS = #{status,jdbcType=VARCHAR}
			</if>
			<if test="createBy != null and createBy != ''" >
				AND CREATE_BY = #{createBy,jdbcType=VARCHAR}
			</if>
			<if test="createDt != null" >
				AND CREATE_DT = #{createDt,jdbcType=VARCHAR}
			</if>
			<if test="updateBy != null and updateBy != ''" >
				AND UPDATE_BY = #{updateBy,jdbcType=VARCHAR}
			</if>
			<if test="updateDt != null" >
				AND UPDATE_DT = #{updateDt,jdbcType=VARCHAR}
			</if>
			<if test="processInstId != null and processInstId != ''" >
				AND PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR}
			</if>
			<if test="projGuid != null and projGuid != ''" >
				AND PROJ_GUID = #{projGuid,jdbcType=VARCHAR}
			</if>
			<if test="processversioninstanceguid != null and processversioninstanceguid != ''" >
				AND PROCESSVERSIONINSTANCEGUID = #{processversioninstanceguid,jdbcType=VARCHAR}
			</if>
			<if test="svgPkGuid != null and svgPkGuid != ''" >
				AND SVG_PK_GUID = #{svgPkGuid,jdbcType=VARCHAR}
			</if>
			<if test="svgAttaGuid != null and svgAttaGuid != ''" >
				AND SVG_ATTA_GUID = #{svgAttaGuid,jdbcType=VARCHAR}
			</if>
			<if test="signDt != null" >
				AND SIGN_DT = #{signDt,jdbcType=VARCHAR}
			</if>
			<if test="signAmount != null and signAmount != ''" >
				AND SIGN_AMOUNT = #{signAmount,jdbcType=NUMERIC}
			</if>
			<if test="signAmountCurr != null and signAmountCurr != ''" >
				AND SIGN_AMOUNT_CURR = #{signAmountCurr,jdbcType=VARCHAR}
			</if>
			<if test="signAmountRmb != null and signAmountRmb != ''" >
				AND SIGN_AMOUNT_RMB = #{signAmountRmb,jdbcType=NUMERIC}
			</if>
			<if test="afterFunderId != null and afterFunderId != ''" >
				AND AFTER_FUNDER_ID = #{afterFunderId,jdbcType=VARCHAR}
			</if>
			<if test="endAgreeAmont != null and endAgreeAmont != ''" >
				AND END_AGREE_AMONT = #{endAgreeAmont,jdbcType=NUMERIC}
			</if>
			<if test="endAgreeAmontCurr != null and endAgreeAmontCurr != ''" >
				AND END_AGREE_AMONT_CURR = #{endAgreeAmontCurr,jdbcType=VARCHAR}
			</if>
			<if test="endAgreeAmontRmb != null and endAgreeAmontRmb != ''" >
				AND END_AGREE_AMONT_RMB = #{endAgreeAmontRmb,jdbcType=NUMERIC}
			</if>
			<if test="thisAgreeAmont != null and thisAgreeAmont != ''" >
				AND THIS_AGREE_AMONT = #{thisAgreeAmont,jdbcType=NUMERIC}
			</if>
			<if test="thisAgreeAmontCurr != null and thisAgreeAmontCurr != ''" >
				AND THIS_AGREE_AMONT_CURR = #{thisAgreeAmontCurr,jdbcType=VARCHAR}
			</if>
			<if test="thisAgreeAmontRmb != null and thisAgreeAmontRmb != ''" >
				AND THIS_AGREE_AMONT_RMB = #{thisAgreeAmontRmb,jdbcType=NUMERIC}
			</if>
			<if test="projIdPi != null and projIdPi != ''" >
				AND PROJ_ID_PI = #{projIdPi,jdbcType=VARCHAR}
			</if>
			<if test="csid != null and csid != ''" >
				AND CSID = #{csid,jdbcType=VARCHAR}
			</if>
			<if test="objectId != null and objectId != ''" >
				AND OBJECT_ID = #{objectId,jdbcType=VARCHAR}
			</if>
			<if test="projObjectName != null and projObjectName != ''" >
				AND PROJ_OBJECT_NAME = #{projObjectName,jdbcType=VARCHAR}
			</if>
			<if test="groupId != null and groupId != ''" >
				AND GROUP_ID = #{groupId,jdbcType=VARCHAR}
			</if>
			<if test="shareRatio != null and shareRatio != ''" >
				AND SHARE_RATIO = #{shareRatio,jdbcType=NUMERIC}
			</if>
			<if test="subFundAmont != null and subFundAmont != ''" >
				AND SUB_FUND_AMONT = #{subFundAmont,jdbcType=NUMERIC}
			</if>
			<if test="subFundAmontCurr != null and subFundAmontCurr != ''" >
				AND SUB_FUND_AMONT_CURR = #{subFundAmontCurr,jdbcType=VARCHAR}
			</if>
			<if test="subFundAmontRmb != null and subFundAmontRmb != ''" >
				AND SUB_FUND_AMONT_RMB = #{subFundAmontRmb,jdbcType=NUMERIC}
			</if>
			<if test="currentAmount != null and currentAmount != ''" >
				AND CURRENT_AMOUNT = #{currentAmount,jdbcType=NUMERIC}
			</if>
			<if test="currentAmountCurr != null and currentAmountCurr != ''" >
				AND CURRENT_AMOUNT_CURR = #{currentAmountCurr,jdbcType=VARCHAR}
			</if>
			<if test="currentAmountRmb != null and currentAmountRmb != ''" >
				AND CURRENT_AMOUNT_RMB = #{currentAmountRmb,jdbcType=NUMERIC}
			</if>
			<if test="currentRatio != null and currentRatio != ''" >
				AND CURRENT_RATIO = #{currentRatio,jdbcType=NUMERIC}
			</if>
			<if test="majorTerm != null and majorTerm != ''" >
				AND MAJOR_TERM = #{majorTerm,jdbcType=VARCHAR}
			</if>
			<if test="fileInfoId != null and fileInfoId != ''" >
				AND FILE_INFO_ID = #{fileInfoId,jdbcType=VARCHAR}
			</if>
			<if test="signQuit != null and signQuit != ''" >
				AND SIGN_QUIT = #{signQuit,jdbcType=VARCHAR}
			</if>
		</where>
	</select>

	<sql id="searchSql">
		SELECT F.*,A1.FILE_OLD_NAME FILE_ATT_NAME,A1.FILE_ID FILE_ATT_ID,'EI' FILE_ATT_SOURCE,
			'/eiweb/uploadServlet?method=getExistFile'||chr(38)||'sessionKey='||A1.File_Id|| chr(38)||'fileName='||A1.FILE_NAME||chr(38)||'fieldToken='||A1.FIELD_TOKEN||chr(38)||'fileOldName='||A1.FILE_OLD_NAME||chr(38)||'isNew=Y' FILE_ATT_URL,
			RTrim(to_char(NVL(A1.FILE_SIZE, 0) / 1024, 'FM99999999990'), '.') || 'KB' AS FILE_ATT_SIZE
		FROM TZ_T_PROJ_CONTRACT_FILE F
		LEFT JOIN EI_T_ATTACHMENT A1 ON F.CONTRACT_FILE = A1.FIELD_TOKEN
		<where>
			<include refid="searchCondition.searchClause" />
		</where>
		ORDER BY F.DRAFT_DT DESC
	</sql>

	<select id="selectListPage" resultMap="ProjContractFileResult2" parameterType="com.founder.ssm.core.common.SearchCondition">
		<include refid="searchSql" />
	</select>

	<select id="selectByListPage" resultMap="ProjContractFileResult" parameterType="com.founder.ssm.core.common.SearchCondition">
		select * from TZ_T_PROJ_CONTRACT_FILE
		<where>
			<![CDATA[and nvl(SIGN_QUIT,'2')>0]]>
			<include refid="searchCondition.searchClause" />
		</where>
		order by UPDATE_DT desc
	</select>


	<select id="selectCount" resultType="Integer" parameterType="com.founder.ssm.core.common.SearchCondition">
		SELECT COUNT(*) FROM (
			<include refid="searchSql" />
		) t 
	</select>

	<select id="selectCountBy" resultType="Integer" parameterType="com.ppmg.ei.model.ProjContractFileModel">
		SELECT COUNT(*) FROM TZ_T_PROJ_CONTRACT_FILE
		<where>
			<if test="fileId != null and fileId != ''" >
				FILE_ID = #{fileId,jdbcType=VARCHAR}
			</if>
			<if test="projId != null and projId != ''" >
				AND PROJ_ID = #{projId,jdbcType=VARCHAR}
			</if>
			<if test="fileType != null and fileType != ''" >
				AND FILE_TYPE = #{fileType,jdbcType=VARCHAR}
			</if>
			<if test="fileTitle != null and fileTitle != ''" >
				AND FILE_TITLE = #{fileTitle,jdbcType=VARCHAR}
			</if>
			<if test="firstParty != null and firstParty != ''" >
				AND FIRST_PARTY = #{firstParty,jdbcType=VARCHAR}
			</if>
			<if test="secondParty != null and secondParty != ''" >
				AND SECOND_PARTY = #{secondParty,jdbcType=VARCHAR}
			</if>
			<if test="draftsman != null and draftsman != ''" >
				AND DRAFTSMAN = #{draftsman,jdbcType=VARCHAR}
			</if>
			<if test="draftDt != null" >
				AND DRAFT_DT = #{draftDt,jdbcType=VARCHAR}
			</if>
			<if test="directorCount != null and directorCount != ''" >
				AND DIRECTOR_COUNT = #{directorCount,jdbcType=NUMERIC}
			</if>
			<if test="yhDireCount != null and yhDireCount != ''" >
				AND YH_DIRE_COUNT = #{yhDireCount,jdbcType=NUMERIC}
			</if>
			<if test="supervisorCount != null and supervisorCount != ''" >
				AND SUPERVISOR_COUNT = #{supervisorCount,jdbcType=NUMERIC}
			</if>
			<if test="yhSupeCount != null and yhSupeCount != ''" >
				AND YH_SUPE_COUNT = #{yhSupeCount,jdbcType=NUMERIC}
			</if>
			<if test="contractFile != null and contractFile != ''" >
				AND CONTRACT_FILE = #{contractFile,jdbcType=VARCHAR}
			</if>
			<if test="remark != null and remark != ''" >
				AND REMARK = #{remark,jdbcType=VARCHAR}
			</if>
			<if test="finalFile != null and finalFile != ''" >
				AND FINAL_FILE = #{finalFile,jdbcType=VARCHAR}
			</if>
			<if test="status != null and status != ''" >
				AND STATUS = #{status,jdbcType=VARCHAR}
			</if>
			<if test="createBy != null and createBy != ''" >
				AND CREATE_BY = #{createBy,jdbcType=VARCHAR}
			</if>
			<if test="createDt != null" >
				AND CREATE_DT = #{createDt,jdbcType=VARCHAR}
			</if>
			<if test="updateBy != null and updateBy != ''" >
				AND UPDATE_BY = #{updateBy,jdbcType=VARCHAR}
			</if>
			<if test="updateDt != null" >
				AND UPDATE_DT = #{updateDt,jdbcType=VARCHAR}
			</if>
			<if test="processInstId != null and processInstId != ''" >
				AND PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR}
			</if>
			<if test="projGuid != null and projGuid != ''" >
				AND PROJ_GUID = #{projGuid,jdbcType=VARCHAR}
			</if>
			<if test="processversioninstanceguid != null and processversioninstanceguid != ''" >
				AND PROCESSVERSIONINSTANCEGUID = #{processversioninstanceguid,jdbcType=VARCHAR}
			</if>
			<if test="svgPkGuid != null and svgPkGuid != ''" >
				AND SVG_PK_GUID = #{svgPkGuid,jdbcType=VARCHAR}
			</if>
			<if test="svgAttaGuid != null and svgAttaGuid != ''" >
				AND SVG_ATTA_GUID = #{svgAttaGuid,jdbcType=VARCHAR}
			</if>
			<if test="signDt != null" >
				AND SIGN_DT = #{signDt,jdbcType=VARCHAR}
			</if>
			<if test="signAmount != null and signAmount != ''" >
				AND SIGN_AMOUNT = #{signAmount,jdbcType=NUMERIC}
			</if>
			<if test="signAmountCurr != null and signAmountCurr != ''" >
				AND SIGN_AMOUNT_CURR = #{signAmountCurr,jdbcType=VARCHAR}
			</if>
			<if test="signAmountRmb != null and signAmountRmb != ''" >
				AND SIGN_AMOUNT_RMB = #{signAmountRmb,jdbcType=NUMERIC}
			</if>
			<if test="afterFunderId != null and afterFunderId != ''" >
				AND AFTER_FUNDER_ID = #{afterFunderId,jdbcType=VARCHAR}
			</if>
			<if test="endAgreeAmont != null and endAgreeAmont != ''" >
				AND END_AGREE_AMONT = #{endAgreeAmont,jdbcType=NUMERIC}
			</if>
			<if test="endAgreeAmontCurr != null and endAgreeAmontCurr != ''" >
				AND END_AGREE_AMONT_CURR = #{endAgreeAmontCurr,jdbcType=VARCHAR}
			</if>
			<if test="endAgreeAmontRmb != null and endAgreeAmontRmb != ''" >
				AND END_AGREE_AMONT_RMB = #{endAgreeAmontRmb,jdbcType=NUMERIC}
			</if>
			<if test="thisAgreeAmont != null and thisAgreeAmont != ''" >
				AND THIS_AGREE_AMONT = #{thisAgreeAmont,jdbcType=NUMERIC}
			</if>
			<if test="thisAgreeAmontCurr != null and thisAgreeAmontCurr != ''" >
				AND THIS_AGREE_AMONT_CURR = #{thisAgreeAmontCurr,jdbcType=VARCHAR}
			</if>
			<if test="thisAgreeAmontRmb != null and thisAgreeAmontRmb != ''" >
				AND THIS_AGREE_AMONT_RMB = #{thisAgreeAmontRmb,jdbcType=NUMERIC}
			</if>
			<if test="projIdPi != null and projIdPi != ''" >
				AND PROJ_ID_PI = #{projIdPi,jdbcType=VARCHAR}
			</if>
			<if test="csid != null and csid != ''" >
				AND CSID = #{csid,jdbcType=VARCHAR}
			</if>
			<if test="objectId != null and objectId != ''" >
				AND OBJECT_ID = #{objectId,jdbcType=VARCHAR}
			</if>
			<if test="projObjectName != null and projObjectName != ''" >
				AND PROJ_OBJECT_NAME = #{projObjectName,jdbcType=VARCHAR}
			</if>
			<if test="groupId != null and groupId != ''" >
				AND GROUP_ID = #{groupId,jdbcType=VARCHAR}
			</if>
			<if test="shareRatio != null and shareRatio != ''" >
				AND SHARE_RATIO = #{shareRatio,jdbcType=NUMERIC}
			</if>
			<if test="subFundAmont != null and subFundAmont != ''" >
				AND SUB_FUND_AMONT = #{subFundAmont,jdbcType=NUMERIC}
			</if>
			<if test="subFundAmontCurr != null and subFundAmontCurr != ''" >
				AND SUB_FUND_AMONT_CURR = #{subFundAmontCurr,jdbcType=VARCHAR}
			</if>
			<if test="subFundAmontRmb != null and subFundAmontRmb != ''" >
				AND SUB_FUND_AMONT_RMB = #{subFundAmontRmb,jdbcType=NUMERIC}
			</if>
			<if test="currentAmount != null and currentAmount != ''" >
				AND CURRENT_AMOUNT = #{currentAmount,jdbcType=NUMERIC}
			</if>
			<if test="currentAmountCurr != null and currentAmountCurr != ''" >
				AND CURRENT_AMOUNT_CURR = #{currentAmountCurr,jdbcType=VARCHAR}
			</if>
			<if test="currentAmountRmb != null and currentAmountRmb != ''" >
				AND CURRENT_AMOUNT_RMB = #{currentAmountRmb,jdbcType=NUMERIC}
			</if>
			<if test="currentRatio != null and currentRatio != ''" >
				AND CURRENT_RATIO = #{currentRatio,jdbcType=NUMERIC}
			</if>
			<if test="majorTerm != null and majorTerm != ''" >
				AND MAJOR_TERM = #{majorTerm,jdbcType=VARCHAR}
			</if>
			<if test="fileInfoId != null and fileInfoId != ''" >
				AND FILE_INFO_ID = #{fileInfoId,jdbcType=VARCHAR}
			</if>
			<if test="signQuit != null and signQuit != ''" >
				AND SIGN_QUIT = #{signQuit,jdbcType=VARCHAR}
			</if>
		</where>
	</select>

	<select id="selectList" parameterType="com.ppmg.ei.model.ProjContractFileModel" resultMap="ProjContractFileResult">
		SELECT * FROM TZ_T_PROJ_CONTRACT_FILE
		<where>
			STATUS !=9
			<if test="fileId != null and fileId != ''" >
				AND	FILE_ID = #{fileId,jdbcType=VARCHAR}
			</if>
			<if test="projId != null and projId != ''" >
				AND PROJ_ID = #{projId,jdbcType=VARCHAR}
			</if>
			<if test="fileType != null and fileType != ''" >
				AND FILE_TYPE = #{fileType,jdbcType=VARCHAR}
			</if>
			<if test="fileTitle != null and fileTitle != ''" >
				AND FILE_TITLE = #{fileTitle,jdbcType=VARCHAR}
			</if>
			<if test="firstParty != null and firstParty != ''" >
				AND FIRST_PARTY = #{firstParty,jdbcType=VARCHAR}
			</if>
			<if test="secondParty != null and secondParty != ''" >
				AND SECOND_PARTY = #{secondParty,jdbcType=VARCHAR}
			</if>
			<if test="draftsman != null and draftsman != ''" >
				AND DRAFTSMAN = #{draftsman,jdbcType=VARCHAR}
			</if>
			<if test="draftDt != null" >
				AND DRAFT_DT = #{draftDt,jdbcType=VARCHAR}
			</if>
			<if test="directorCount != null and directorCount != ''" >
				AND DIRECTOR_COUNT = #{directorCount,jdbcType=NUMERIC}
			</if>
			<if test="yhDireCount != null and yhDireCount != ''" >
				AND YH_DIRE_COUNT = #{yhDireCount,jdbcType=NUMERIC}
			</if>
			<if test="supervisorCount != null and supervisorCount != ''" >
				AND SUPERVISOR_COUNT = #{supervisorCount,jdbcType=NUMERIC}
			</if>
			<if test="yhSupeCount != null and yhSupeCount != ''" >
				AND YH_SUPE_COUNT = #{yhSupeCount,jdbcType=NUMERIC}
			</if>
			<if test="contractFile != null and contractFile != ''" >
				AND CONTRACT_FILE = #{contractFile,jdbcType=VARCHAR}
			</if>
			<if test="remark != null and remark != ''" >
				AND REMARK = #{remark,jdbcType=VARCHAR}
			</if>
			<if test="finalFile != null and finalFile != ''" >
				AND FINAL_FILE = #{finalFile,jdbcType=VARCHAR}
			</if>
			<if test="status != null and status != ''" >
				AND STATUS = #{status,jdbcType=VARCHAR}
			</if>
			<if test="createBy != null and createBy != ''" >
				AND CREATE_BY = #{createBy,jdbcType=VARCHAR}
			</if>
			<if test="createDt != null" >
				AND CREATE_DT = #{createDt,jdbcType=VARCHAR}
			</if>
			<if test="updateBy != null and updateBy != ''" >
				AND UPDATE_BY = #{updateBy,jdbcType=VARCHAR}
			</if>
			<if test="updateDt != null" >
				AND UPDATE_DT = #{updateDt,jdbcType=VARCHAR}
			</if>
			<if test="processInstId != null and processInstId != ''" >
				AND PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR}
			</if>
			<if test="projGuid != null and projGuid != ''" >
				AND PROJ_GUID = #{projGuid,jdbcType=VARCHAR}
			</if>
			<if test="processversioninstanceguid != null and processversioninstanceguid != ''" >
				AND PROCESSVERSIONINSTANCEGUID = #{processversioninstanceguid,jdbcType=VARCHAR}
			</if>
			<if test="svgPkGuid != null and svgPkGuid != ''" >
				AND SVG_PK_GUID = #{svgPkGuid,jdbcType=VARCHAR}
			</if>
			<if test="svgAttaGuid != null and svgAttaGuid != ''" >
				AND SVG_ATTA_GUID = #{svgAttaGuid,jdbcType=VARCHAR}
			</if>
			<if test="signDt != null" >
				AND SIGN_DT = #{signDt,jdbcType=VARCHAR}
			</if>
			<if test="signAmount != null and signAmount != ''" >
				AND SIGN_AMOUNT = #{signAmount,jdbcType=NUMERIC}
			</if>
			<if test="signAmountCurr != null and signAmountCurr != ''" >
				AND SIGN_AMOUNT_CURR = #{signAmountCurr,jdbcType=VARCHAR}
			</if>
			<if test="signAmountRmb != null and signAmountRmb != ''" >
				AND SIGN_AMOUNT_RMB = #{signAmountRmb,jdbcType=NUMERIC}
			</if>
			<if test="afterFunderId != null and afterFunderId != ''" >
				AND AFTER_FUNDER_ID = #{afterFunderId,jdbcType=VARCHAR}
			</if>
			<if test="endAgreeAmont != null and endAgreeAmont != ''" >
				AND END_AGREE_AMONT = #{endAgreeAmont,jdbcType=NUMERIC}
			</if>
			<if test="endAgreeAmontCurr != null and endAgreeAmontCurr != ''" >
				AND END_AGREE_AMONT_CURR = #{endAgreeAmontCurr,jdbcType=VARCHAR}
			</if>
			<if test="endAgreeAmontRmb != null and endAgreeAmontRmb != ''" >
				AND END_AGREE_AMONT_RMB = #{endAgreeAmontRmb,jdbcType=NUMERIC}
			</if>
			<if test="thisAgreeAmont != null and thisAgreeAmont != ''" >
				AND THIS_AGREE_AMONT = #{thisAgreeAmont,jdbcType=NUMERIC}
			</if>
			<if test="thisAgreeAmontCurr != null and thisAgreeAmontCurr != ''" >
				AND THIS_AGREE_AMONT_CURR = #{thisAgreeAmontCurr,jdbcType=VARCHAR}
			</if>
			<if test="thisAgreeAmontRmb != null and thisAgreeAmontRmb != ''" >
				AND THIS_AGREE_AMONT_RMB = #{thisAgreeAmontRmb,jdbcType=NUMERIC}
			</if>
			<if test="projIdPi != null and projIdPi != ''" >
				AND PROJ_ID_PI = #{projIdPi,jdbcType=VARCHAR}
			</if>
			<if test="csid != null and csid != ''" >
				AND CSID = #{csid,jdbcType=VARCHAR}
			</if>
			<if test="objectId != null and objectId != ''" >
				AND OBJECT_ID = #{objectId,jdbcType=VARCHAR}
			</if>
			<if test="projObjectName != null and projObjectName != ''" >
				AND PROJ_OBJECT_NAME = #{projObjectName,jdbcType=VARCHAR}
			</if>
			<if test="groupId != null and groupId != ''" >
				AND GROUP_ID = #{groupId,jdbcType=VARCHAR}
			</if>
			<if test="shareRatio != null and shareRatio != ''" >
				AND SHARE_RATIO = #{shareRatio,jdbcType=NUMERIC}
			</if>
			<if test="subFundAmont != null and subFundAmont != ''" >
				AND SUB_FUND_AMONT = #{subFundAmont,jdbcType=NUMERIC}
			</if>
			<if test="subFundAmontCurr != null and subFundAmontCurr != ''" >
				AND SUB_FUND_AMONT_CURR = #{subFundAmontCurr,jdbcType=VARCHAR}
			</if>
			<if test="subFundAmontRmb != null and subFundAmontRmb != ''" >
				AND SUB_FUND_AMONT_RMB = #{subFundAmontRmb,jdbcType=NUMERIC}
			</if>
			<if test="currentAmount != null and currentAmount != ''" >
				AND CURRENT_AMOUNT = #{currentAmount,jdbcType=NUMERIC}
			</if>
			<if test="currentAmountCurr != null and currentAmountCurr != ''" >
				AND CURRENT_AMOUNT_CURR = #{currentAmountCurr,jdbcType=VARCHAR}
			</if>
			<if test="currentAmountRmb != null and currentAmountRmb != ''" >
				AND CURRENT_AMOUNT_RMB = #{currentAmountRmb,jdbcType=NUMERIC}
			</if>
			<if test="currentRatio != null and currentRatio != ''" >
				AND CURRENT_RATIO = #{currentRatio,jdbcType=NUMERIC}
			</if>
			<if test="majorTerm != null and majorTerm != ''" >
				AND MAJOR_TERM = #{majorTerm,jdbcType=VARCHAR}
			</if>
			<if test="fileInfoId != null and fileInfoId != ''" >
				AND FILE_INFO_ID = #{fileInfoId,jdbcType=VARCHAR}
			</if>
			<if test="signQuit != null and signQuit != ''" >
				AND SIGN_QUIT = #{signQuit,jdbcType=VARCHAR}
			</if>
		</where>
		order by CREATE_DT desc
	</select>

	<select id="selectSql2Obj" parameterType="java.lang.String" resultMap="ProjContractFileResult">
		${value}
	</select>
	<select id="selectSql2Map" parameterType="java.lang.String" resultType="Map">
		${value}
	</select>
	<update id="updateSql" parameterType="java.lang.String">
		${value}
	</update>
	<select id="selectCountSql" parameterType="java.lang.String" resultType="Integer">
		${value}
	</select>

	<select id="selectByProjIdList" parameterType="java.lang.String" resultMap="ProjContractFileResult">
       select  * from EI.TZ_T_PROJ_CONTRACT_FILE
        where PROJ_ID=#{projId} and status!='9'
        order by SIGN_DT desc
	</select>

	<select id="getSumSignAmount"  parameterType="Map" resultType="Double">
           SELECT sum(SIGN_AMOUNT) from
           EI.TZ_T_PROJ_CONTRACT_FILE
           where 1=1 and status!='9'
		<if test="projId != null and projId != ''" >
			and PROJ_ID=#{projId}
		</if>
		<if test="inveId != null and inveId != ''" >
			and AFTER_FUNDER_ID=#{inveId}
		</if>

	</select>
	<!-- end autocreate -->


	<!--退出合同新增-->
	<!--查询-->
	<resultMap id="ProjContractFileResultQuit" type="com.ppmg.ei.model.ProjContractFileQuitModel">
		<result column="FILE_ID" property="fileId" jdbcType="VARCHAR" />
		<result column="PROJ_ID" property="projId" jdbcType="VARCHAR" />
		<result column="FILE_TYPE" property="fileType" jdbcType="VARCHAR" />
		<result column="FILE_TITLE" property="fileTitle" jdbcType="VARCHAR" />
		<result column="SIGN_QUIT" property="signQuit" jdbcType="VARCHAR" />
		<result column="APP_ID" property="appId" jdbcType="VARCHAR" />
		<result column="REMARK" property="remark" jdbcType="VARCHAR" />
		<result column="STATUS" property="status" jdbcType="VARCHAR" />
		<result column="MAJOR_TERM" property="majorTerm" jdbcType="VARCHAR" />
		<result column="CONTRACT_FILE" property="contractFile" jdbcType="VARCHAR" />

		<result column="APP_NAME" property="appName" jdbcType="VARCHAR" />
		<result column="QUIT_DT" property="quitDt" jdbcType="TIMESTAMP" />
		<result column="QUIT_WAY" property="quitWay" jdbcType="VARCHAR" />
		<result column="SHARE_RATIO" property="shareRatio" jdbcType="VARCHAR" />
		<result column="BACK_AMOUNT" property="backAmount" jdbcType="NUMERIC" />
		<result column="EXIT_AMOUNT" property="exitAmount" jdbcType="NUMERIC" />

		<result column="EXIT_SHARE_RATIO" property="exitShareRatio" jdbcType="NUMERIC" />
		<result column="REST_SHARE_RATIO" property="restShareRatio" jdbcType="NUMERIC" />
		<result column="DECISION_DETAIL" property="decisionDetail" jdbcType="VARCHAR" />

		<result column="FINAL_FILE" property="finalFile" jdbcType="VARCHAR" />
		<result column="SIGN_DT" property="signDt" jdbcType="DATE" />
		<result column="PROCESS_INST_ID" property="processInstId" jdbcType="VARCHAR" />
	</resultMap>
	<sql id="searchSqlQuit">
		select * from (
		SELECT a.FILE_ID,a.PROJ_ID,a.file_type,a.file_title,a.SIGN_QUIT,a.CONTRACT_FILE,a.MAJOR_TERM,a.REMARK,a.status,a.process_Inst_Id,
		a.app_id,
		b.app_name,
		b.quit_dt,
		b.quit_way,
		b.share_ratio,
		b.back_amount,
		b.exit_amount,
		b.exit_share_ratio,
		b.rest_share_ratio,
		b.decision_detail
		FROM TZ_T_PROJ_CONTRACT_FILE a
		left join TZ_T_FUND_QUIT_APPL b on
		a.app_id = b.app_id where a.sign_quit ='0'
		ORDER BY a.update_dt DESC)
		<where>
			<include refid="searchCondition.searchClause" />
		</where>

	</sql>

	<select id="selectEiAttachmentQuitMapper" resultMap="ProjContractFileResultQuit" parameterType="com.founder.ssm.core.common.SearchCondition">
		<include refid="searchSqlQuit" />
	</select>
	<!--新增-->
	<insert id="insertIntoQuitMapper" parameterType="java.util.List">
		INSERT INTO TZ_T_PROJ_CONTRACT_FILE (FILE_ID,PROJ_ID,FILE_TYPE,FILE_TITLE,FIRST_PARTY,SECOND_PARTY,DRAFTSMAN,DRAFT_DT,DIRECTOR_COUNT,YH_DIRE_COUNT,SUPERVISOR_COUNT,YH_SUPE_COUNT,CONTRACT_FILE,REMARK,FINAL_FILE,STATUS,CREATE_BY,CREATE_DT,UPDATE_BY,UPDATE_DT,PROCESS_INST_ID,PROJ_GUID,PROCESSVERSIONINSTANCEGUID,SVG_PK_GUID,SVG_ATTA_GUID,SIGN_DT,SIGN_AMOUNT,SIGN_AMOUNT_CURR,SIGN_AMOUNT_RMB,AFTER_FUNDER_ID,END_AGREE_AMONT,END_AGREE_AMONT_CURR,END_AGREE_AMONT_RMB,THIS_AGREE_AMONT,THIS_AGREE_AMONT_CURR,THIS_AGREE_AMONT_RMB,PROJ_ID_PI,CSID,OBJECT_ID,PROJ_OBJECT_NAME,GROUP_ID,SHARE_RATIO,SUB_FUND_AMONT,SUB_FUND_AMONT_CURR,SUB_FUND_AMONT_RMB,CURRENT_AMOUNT,CURRENT_AMOUNT_CURR,CURRENT_AMOUNT_RMB,CURRENT_RATIO,IS_GQPG,IS_INVE_SIGN,EN_NAME,CREDIT_CODE,OBJECT_ID2,PROJ_OBJECT_NAME2,CREDIT_CODE2,IS_ABROAD,IS_ABROAD2,APP_ID,MAJOR_TERM,SIGN_QUIT)
		<foreach collection="list" item="item" index="index" separator="union all">
			( select
			#{item.fileId,jdbcType=VARCHAR},
			#{item.projId,jdbcType=VARCHAR},
			#{item.fileType,jdbcType=VARCHAR},
			#{item.fileTitle,jdbcType=VARCHAR},
			#{item.firstParty,jdbcType=VARCHAR},
			#{item.secondParty,jdbcType=VARCHAR},
			#{item.draftsman,jdbcType=VARCHAR},
			#{item.draftDt,jdbcType=TIMESTAMP},
			#{item.directorCount,jdbcType=NUMERIC},
			#{item.yhDireCount,jdbcType=NUMERIC},
			#{item.supervisorCount,jdbcType=NUMERIC},
			#{item.yhSupeCount,jdbcType=NUMERIC},
			#{item.contractFile,jdbcType=VARCHAR},
			#{item.remark,jdbcType=VARCHAR},
			#{item.finalFile,jdbcType=VARCHAR},
			#{item.status,jdbcType=VARCHAR},
			#{item.createBy,jdbcType=VARCHAR},
			#{item.createDt,jdbcType=TIMESTAMP},
			#{item.updateBy,jdbcType=VARCHAR},
			#{item.updateDt,jdbcType=TIMESTAMP},
			#{item.processInstId,jdbcType=VARCHAR},
			#{item.projGuid,jdbcType=VARCHAR},
			#{item.processversioninstanceguid,jdbcType=VARCHAR},
			#{item.svgPkGuid,jdbcType=VARCHAR},
			#{item.svgAttaGuid,jdbcType=VARCHAR},
			#{item.signDt,jdbcType=TIMESTAMP},
			#{item.signAmount,jdbcType=NUMERIC},
			#{item.signAmountCurr,jdbcType=VARCHAR},
			#{item.signAmountRmb,jdbcType=NUMERIC},
			#{item.afterFunderId,jdbcType=VARCHAR},
			#{item.endAgreeAmont,jdbcType=NUMERIC},
			#{item.endAgreeAmontCurr,jdbcType=VARCHAR},
			#{item.endAgreeAmontRmb,jdbcType=NUMERIC},
			#{item.thisAgreeAmont,jdbcType=NUMERIC},
			#{item.thisAgreeAmontCurr,jdbcType=VARCHAR},
			#{item.thisAgreeAmontRmb,jdbcType=NUMERIC},
			#{item.projIdPi,jdbcType=VARCHAR},
			#{item.csid,jdbcType=VARCHAR},
			#{item.objectId,jdbcType=VARCHAR},
			#{item.projObjectName,jdbcType=VARCHAR},
			#{item.groupId,jdbcType=VARCHAR},
			#{item.shareRatio,jdbcType=NUMERIC},
			#{item.subFundAmont,jdbcType=NUMERIC},
			#{item.subFundAmontCurr,jdbcType=VARCHAR},
			#{item.subFundAmontRmb,jdbcType=NUMERIC},
			#{item.currentAmount,jdbcType=NUMERIC},
			#{item.currentAmountCurr,jdbcType=VARCHAR},
			#{item.currentAmountRmb,jdbcType=NUMERIC},
			#{item.currentRatio,jdbcType=NUMERIC},
			#{item.isGqpg,jdbcType=VARCHAR},
			#{item.isInveSign,jdbcType=VARCHAR},
			#{item.enName,jdbcType=VARCHAR},
			#{item.creditCode,jdbcType=VARCHAR},
			#{item.objectId2,jdbcType=VARCHAR},
			#{item.projObjectName2,jdbcType=VARCHAR},
			#{item.creditCode2,jdbcType=VARCHAR},
			#{item.isAbroad,jdbcType=VARCHAR},
			#{item.isAbroad2,jdbcType=VARCHAR},
			#{item.appId,jdbcType=VARCHAR},
			#{item.majorTerm,jdbcType=VARCHAR},
			#{item.signQuit,jdbcType=VARCHAR}
			from dual)
		</foreach>
	</insert>
	<!--修改-->
	<update id="updateIntoQuitMapper" parameterType="com.ppmg.ei.model.ProjContractFileModel">
		UPDATE TZ_T_PROJ_CONTRACT_FILE
		<set>
			<if test="fileId != null and fileId != ''" >
				FILE_ID = #{fileId,jdbcType=VARCHAR},
			</if>
			<if test="projId != null and projId != ''" >
				PROJ_ID = #{projId,jdbcType=VARCHAR},
			</if>
			<if test="fileType != null and fileType != ''" >
				FILE_TYPE = #{fileType,jdbcType=VARCHAR},
			</if>
			<if test="fileTitle != null and fileTitle != ''" >
				FILE_TITLE = #{fileTitle,jdbcType=VARCHAR},
			</if>
			<if test="firstParty != null and firstParty != ''" >
				FIRST_PARTY = #{firstParty,jdbcType=VARCHAR},
			</if>
			<if test="secondParty != null and secondParty != ''" >
				SECOND_PARTY = #{secondParty,jdbcType=VARCHAR},
			</if>
			<if test="draftsman != null and draftsman != ''" >
				DRAFTSMAN = #{draftsman,jdbcType=VARCHAR},
			</if>
			<if test="draftDt != null" >
				DRAFT_DT = #{draftDt,jdbcType=TIMESTAMP},
			</if>
			<if test="directorCount != null and directorCount != ''" >
				DIRECTOR_COUNT = #{directorCount,jdbcType=NUMERIC},
			</if>
			<if test="yhDireCount != null and yhDireCount != ''" >
				YH_DIRE_COUNT = #{yhDireCount,jdbcType=NUMERIC},
			</if>
			<if test="supervisorCount != null and supervisorCount != ''" >
				SUPERVISOR_COUNT = #{supervisorCount,jdbcType=NUMERIC},
			</if>
			<if test="yhSupeCount != null and yhSupeCount != ''" >
				YH_SUPE_COUNT = #{yhSupeCount,jdbcType=NUMERIC},
			</if>
			<!--<if test="contractFile != null and contractFile != ''" >-->
				CONTRACT_FILE = #{contractFile,jdbcType=VARCHAR},
			<!--</if>-->
			<if test="remark != null and remark != ''" >
				REMARK = #{remark,jdbcType=VARCHAR},
			</if>
			<!--<if test="finalFile != null and finalFile != ''" >-->
				FINAL_FILE = #{finalFile,jdbcType=VARCHAR},
			<!--</if>-->
			<if test="status != null and status != ''" >
				STATUS = #{status,jdbcType=VARCHAR},
			</if>
			<if test="createBy != null and createBy != ''" >
				CREATE_BY = #{createBy,jdbcType=VARCHAR},
			</if>
			<if test="createDt != null" >
				CREATE_DT = #{createDt,jdbcType=TIMESTAMP},
			</if>
			<if test="updateBy != null and updateBy != ''" >
				UPDATE_BY = #{updateBy,jdbcType=VARCHAR},
			</if>
			<if test="updateDt != null" >
				UPDATE_DT = #{updateDt,jdbcType=TIMESTAMP},
			</if>
			<if test="processInstId != null and processInstId != ''" >
				PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR},
			</if>
			<if test="projGuid != null and projGuid != ''" >
				PROJ_GUID = #{projGuid,jdbcType=VARCHAR},
			</if>
			<if test="processversioninstanceguid != null and processversioninstanceguid != ''" >
				PROCESSVERSIONINSTANCEGUID = #{processversioninstanceguid,jdbcType=VARCHAR},
			</if>
			<if test="svgPkGuid != null and svgPkGuid != ''" >
				SVG_PK_GUID = #{svgPkGuid,jdbcType=VARCHAR},
			</if>
			<if test="svgAttaGuid != null and svgAttaGuid != ''" >
				SVG_ATTA_GUID = #{svgAttaGuid,jdbcType=VARCHAR},
			</if>
			<if test="signDt != null" >
				SIGN_DT = #{signDt,jdbcType=TIMESTAMP},
			</if>
			<if test="signAmount != null and signAmount != ''" >
				SIGN_AMOUNT = #{signAmount,jdbcType=NUMERIC},
			</if>
			<if test="signAmountCurr != null and signAmountCurr != ''" >
				SIGN_AMOUNT_CURR = #{signAmountCurr,jdbcType=VARCHAR},
			</if>
			<if test="signAmountRmb != null and signAmountRmb != ''" >
				SIGN_AMOUNT_RMB = #{signAmountRmb,jdbcType=NUMERIC},
			</if>
			<if test="afterFunderId != null and afterFunderId != ''" >
				AFTER_FUNDER_ID = #{afterFunderId,jdbcType=VARCHAR},
			</if>
			<if test="endAgreeAmont != null and endAgreeAmont != ''" >
				END_AGREE_AMONT = #{endAgreeAmont,jdbcType=NUMERIC},
			</if>
			<if test="endAgreeAmontCurr != null and endAgreeAmontCurr != ''" >
				END_AGREE_AMONT_CURR = #{endAgreeAmontCurr,jdbcType=VARCHAR},
			</if>
			<if test="endAgreeAmontRmb != null and endAgreeAmontRmb != ''" >
				END_AGREE_AMONT_RMB = #{endAgreeAmontRmb,jdbcType=NUMERIC},
			</if>
			<if test="thisAgreeAmont != null and thisAgreeAmont != ''" >
				THIS_AGREE_AMONT = #{thisAgreeAmont,jdbcType=NUMERIC},
			</if>
			<if test="thisAgreeAmontCurr != null and thisAgreeAmontCurr != ''" >
				THIS_AGREE_AMONT_CURR = #{thisAgreeAmontCurr,jdbcType=VARCHAR},
			</if>
			<if test="thisAgreeAmontRmb != null and thisAgreeAmontRmb != ''" >
				THIS_AGREE_AMONT_RMB = #{thisAgreeAmontRmb,jdbcType=NUMERIC},
			</if>
			<if test="projIdPi != null and projIdPi != ''" >
				PROJ_ID_PI = #{projIdPi,jdbcType=VARCHAR},
			</if>
			<if test="csid != null and csid != ''" >
				CSID = #{csid,jdbcType=VARCHAR},
			</if>
			<if test="objectId != null and objectId != ''" >
				OBJECT_ID = #{objectId,jdbcType=VARCHAR},
			</if>
			<if test="projObjectName != null and projObjectName != ''" >
				PROJ_OBJECT_NAME = #{projObjectName,jdbcType=VARCHAR},
			</if>
			<if test="groupId != null and groupId != ''" >
				GROUP_ID = #{groupId,jdbcType=VARCHAR},
			</if>
			<if test="shareRatio != null and shareRatio != ''" >
				SHARE_RATIO = #{shareRatio,jdbcType=NUMERIC},
			</if>
			<if test="subFundAmont != null and subFundAmont != ''" >
				SUB_FUND_AMONT = #{subFundAmont,jdbcType=NUMERIC},
			</if>
			<if test="subFundAmontCurr != null and subFundAmontCurr != ''" >
				SUB_FUND_AMONT_CURR = #{subFundAmontCurr,jdbcType=VARCHAR},
			</if>
			<if test="subFundAmontRmb != null and subFundAmontRmb != ''" >
				SUB_FUND_AMONT_RMB = #{subFundAmontRmb,jdbcType=NUMERIC},
			</if>
			<if test="currentAmount != null and currentAmount != ''" >
				CURRENT_AMOUNT = #{currentAmount,jdbcType=NUMERIC},
			</if>
			<if test="currentAmountCurr != null and currentAmountCurr != ''" >
				CURRENT_AMOUNT_CURR = #{currentAmountCurr,jdbcType=VARCHAR},
			</if>
			<if test="currentAmountRmb != null and currentAmountRmb != ''" >
				CURRENT_AMOUNT_RMB = #{currentAmountRmb,jdbcType=NUMERIC},
			</if>
			<if test="currentRatio != null and currentRatio != ''" >
				CURRENT_RATIO = #{currentRatio,jdbcType=NUMERIC},
			</if>
			<if test="isGqpg != null and isGqpg != ''" >
				IS_GQPG = #{isGqpg,jdbcType=VARCHAR},
			</if>
			<if test="isInveSign != null and isInveSign != ''" >
				IS_INVE_SIGN = #{isInveSign,jdbcType=VARCHAR},
			</if>
			<if test="enName != null and enName != ''" >
				EN_NAME = #{enName,jdbcType=VARCHAR},
			</if>
			<if test="creditCode != null and creditCode != ''" >
				CREDIT_CODE = #{creditCode,jdbcType=VARCHAR},
			</if>
			<if test="objectId2 != null and objectId2 != ''" >
				OBJECT_ID2 = #{objectId2,jdbcType=VARCHAR},
			</if>
			<if test="projObjectName2 != null and projObjectName2 != ''" >
				PROJ_OBJECT_NAME2 = #{projObjectName2,jdbcType=VARCHAR},
			</if>
			<if test="creditCode2 != null and creditCode2 != ''" >
				CREDIT_CODE2 = #{creditCode2,jdbcType=VARCHAR},
			</if>
			<if test="isAbroad != null and isAbroad != ''" >
				IS_ABROAD = #{isAbroad,jdbcType=VARCHAR},
			</if>
			<if test="isAbroad2 != null and isAbroad2 != ''" >
				IS_ABROAD2 = #{isAbroad2,jdbcType=VARCHAR},
			</if>
			<if test="appId != null and appId != ''" >
				APP_ID = #{appId,jdbcType=VARCHAR},
			</if>
			<if test="majorTerm != null and majorTerm != ''" >
				MAJOR_TERM = #{majorTerm,jdbcType=VARCHAR},
			</if>
			<if test="signQuit != null and signQuit != ''" >
				SIGN_QUIT = #{signQuit,jdbcType=VARCHAR},
			</if>
		</set>
		WHERE FILE_ID = #{fileId,jdbcType=VARCHAR}
	</update>
	<!--删除-->
	<delete id="deleteIntoQuitMapper" parameterType="String">
		DELETE FROM  TZ_T_PROJ_CONTRACT_FILE WHERE FILE_ID = #{fileId,jdbcType=VARCHAR}
	</delete>
	<delete id="deleteIntoQuitAppIdMapper" parameterType="String">
		DELETE FROM  TZ_T_PROJ_CONTRACT_FILE WHERE APP_ID = #{appId,jdbcType=VARCHAR}
	</delete>
	<!--查詢詳情-->
	<select id="selectQuitDetails" parameterType="String" resultMap="ProjContractFileResultQuit">
		SELECT * FROM TZ_T_PROJ_CONTRACT_FILE WHERE FILE_ID = #{fileId,jdbcType=VARCHAR} and SIGN_QUIT ='0'
	</select>
	<select id="selectQuitDetailsAppid" parameterType="String" resultMap="ProjContractFileResultQuit">
		SELECT * FROM TZ_T_PROJ_CONTRACT_FILE WHERE APP_ID = #{appId,jdbcType=VARCHAR} and SIGN_QUIT ='0'
	</select>

	<select id="selectGetName" parameterType="java.util.Map" resultType="java.lang.String">
      SELECT WM_CONCAT(DISTINCT file_Title) titleName
          FROM EI.TZ_T_PROJ_CONTRACT_FILE U
         WHERE  FILE_INFO_ID=#{ID}
	</select>
	<update id="updateStatus" parameterType="com.ppmg.ei.model.ProjContractFileModel">
		update TZ_T_PROJ_CONTRACT_FILE set
		<if test="updateBy != null and updateBy != ''" >
			UPDATE_BY = #{updateBy,jdbcType=VARCHAR},
		</if>
		<if test="updateDt != null" >
			UPDATE_DT = #{updateDt,jdbcType=TIMESTAMP},
		</if>
		status=#{status}
		where
		FILE_INFO_ID=#{fileInfoId}
	</update>



	<update id="updateSignNull" parameterType="com.ppmg.ei.model.ProjContractFileModel">
		UPDATE TZ_T_PROJ_CONTRACT_FILE
		<set>
			<if test="fileId != null and fileId != ''" >
				FILE_ID = #{fileId,jdbcType=VARCHAR},
			</if>
			<if test="projId != null and projId != ''" >
				PROJ_ID = #{projId,jdbcType=VARCHAR},
			</if>
			<if test="fileType != null and fileType != ''" >
				FILE_TYPE = #{fileType,jdbcType=VARCHAR},
			</if>
			<if test="fileTitle != null and fileTitle != ''" >
				FILE_TITLE = #{fileTitle,jdbcType=VARCHAR},
			</if>
			<if test="firstParty != null and firstParty != ''" >
				FIRST_PARTY = #{firstParty,jdbcType=VARCHAR},
			</if>
			<if test="secondParty != null and secondParty != ''" >
				SECOND_PARTY = #{secondParty,jdbcType=VARCHAR},
			</if>
			<if test="draftsman != null and draftsman != ''" >
				DRAFTSMAN = #{draftsman,jdbcType=VARCHAR},
			</if>
			<if test="draftDt != null" >
				DRAFT_DT = #{draftDt,jdbcType=TIMESTAMP},
			</if>
			<if test="directorCount != null and directorCount != ''" >
				DIRECTOR_COUNT = #{directorCount,jdbcType=NUMERIC},
			</if>
			<if test="yhDireCount != null and yhDireCount != ''" >
				YH_DIRE_COUNT = #{yhDireCount,jdbcType=NUMERIC},
			</if>
			<if test="supervisorCount != null and supervisorCount != ''" >
				SUPERVISOR_COUNT = #{supervisorCount,jdbcType=NUMERIC},
			</if>
			<if test="yhSupeCount != null and yhSupeCount != ''" >
				YH_SUPE_COUNT = #{yhSupeCount,jdbcType=NUMERIC},
			</if>
			<if test="contractFile != null and contractFile != ''" >
				CONTRACT_FILE = #{contractFile,jdbcType=VARCHAR},
			</if>
			<if test="remark != null and remark != ''" >
				REMARK = #{remark,jdbcType=VARCHAR},
			</if>
			<if test="finalFile != null and finalFile != ''" >
				FINAL_FILE = #{finalFile,jdbcType=VARCHAR},
			</if>
			<if test="status != null and status != ''" >
				STATUS = #{status,jdbcType=VARCHAR},
			</if>
			<if test="createBy != null and createBy != ''" >
				CREATE_BY = #{createBy,jdbcType=VARCHAR},
			</if>
			<if test="createDt != null" >
				CREATE_DT = #{createDt,jdbcType=TIMESTAMP},
			</if>
			<if test="updateBy != null and updateBy != ''" >
				UPDATE_BY = #{updateBy,jdbcType=VARCHAR},
			</if>
			<if test="updateDt != null" >
				UPDATE_DT = #{updateDt,jdbcType=TIMESTAMP},
			</if>
			<if test="processInstId != null and processInstId != ''" >
				PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR},
			</if>
			<if test="projGuid != null and projGuid != ''" >
				PROJ_GUID = #{projGuid,jdbcType=VARCHAR},
			</if>
			<if test="processversioninstanceguid != null and processversioninstanceguid != ''" >
				PROCESSVERSIONINSTANCEGUID = #{processversioninstanceguid,jdbcType=VARCHAR},
			</if>
			<if test="svgPkGuid != null and svgPkGuid != ''" >
				SVG_PK_GUID = #{svgPkGuid,jdbcType=VARCHAR},
			</if>
			<if test="svgAttaGuid != null and svgAttaGuid != ''" >
				SVG_ATTA_GUID = #{svgAttaGuid,jdbcType=VARCHAR},
			</if>
				SIGN_DT = #{signDt,jdbcType=TIMESTAMP},
			<if test="signAmount != null " >
				SIGN_AMOUNT = #{signAmount,jdbcType=NUMERIC},
			</if>
			<if test="signAmountCurr != null and signAmountCurr != ''" >
				SIGN_AMOUNT_CURR = #{signAmountCurr,jdbcType=VARCHAR},
			</if>
			<if test="signAmountRmb != null and signAmountRmb != ''" >
				SIGN_AMOUNT_RMB = #{signAmountRmb,jdbcType=NUMERIC},
			</if>
			<if test="afterFunderId != null and afterFunderId != ''" >
				AFTER_FUNDER_ID = #{afterFunderId,jdbcType=VARCHAR},
			</if>
			<if test="endAgreeAmont != null and endAgreeAmont != ''" >
				END_AGREE_AMONT = #{endAgreeAmont,jdbcType=NUMERIC},
			</if>
			<if test="endAgreeAmontCurr != null and endAgreeAmontCurr != ''" >
				END_AGREE_AMONT_CURR = #{endAgreeAmontCurr,jdbcType=VARCHAR},
			</if>
			<if test="endAgreeAmontRmb != null and endAgreeAmontRmb != ''" >
				END_AGREE_AMONT_RMB = #{endAgreeAmontRmb,jdbcType=NUMERIC},
			</if>
			<if test="thisAgreeAmont != null and thisAgreeAmont != ''" >
				THIS_AGREE_AMONT = #{thisAgreeAmont,jdbcType=NUMERIC},
			</if>
			<if test="thisAgreeAmontCurr != null and thisAgreeAmontCurr != ''" >
				THIS_AGREE_AMONT_CURR = #{thisAgreeAmontCurr,jdbcType=VARCHAR},
			</if>
			<if test="thisAgreeAmontRmb != null and thisAgreeAmontRmb != ''" >
				THIS_AGREE_AMONT_RMB = #{thisAgreeAmontRmb,jdbcType=NUMERIC},
			</if>
			<if test="projIdPi != null and projIdPi != ''" >
				PROJ_ID_PI = #{projIdPi,jdbcType=VARCHAR},
			</if>
			<if test="csid != null and csid != ''" >
				CSID = #{csid,jdbcType=VARCHAR},
			</if>
			<if test="objectId != null and objectId != ''" >
				OBJECT_ID = #{objectId,jdbcType=VARCHAR},
			</if>
			<if test="projObjectName != null and projObjectName != ''" >
				PROJ_OBJECT_NAME = #{projObjectName,jdbcType=VARCHAR},
			</if>
			<if test="groupId != null and groupId != ''" >
				GROUP_ID = #{groupId,jdbcType=VARCHAR},
			</if>
			<if test="shareRatio != null and shareRatio != ''" >
				SHARE_RATIO = #{shareRatio,jdbcType=NUMERIC},
			</if>
			<if test="subFundAmont != null and subFundAmont != ''" >
				SUB_FUND_AMONT = #{subFundAmont,jdbcType=NUMERIC},
			</if>
			<if test="subFundAmontCurr != null and subFundAmontCurr != ''" >
				SUB_FUND_AMONT_CURR = #{subFundAmontCurr,jdbcType=VARCHAR},
			</if>
			<if test="subFundAmontRmb != null and subFundAmontRmb != ''" >
				SUB_FUND_AMONT_RMB = #{subFundAmontRmb,jdbcType=NUMERIC},
			</if>
			<if test="currentAmount != null and currentAmount != ''" >
				CURRENT_AMOUNT = #{currentAmount,jdbcType=NUMERIC},
			</if>
			<if test="currentAmountCurr != null and currentAmountCurr != ''" >
				CURRENT_AMOUNT_CURR = #{currentAmountCurr,jdbcType=VARCHAR},
			</if>
			<if test="currentAmountRmb != null and currentAmountRmb != ''" >
				CURRENT_AMOUNT_RMB = #{currentAmountRmb,jdbcType=NUMERIC},
			</if>
			<if test="currentRatio != null and currentRatio != ''" >
				CURRENT_RATIO = #{currentRatio,jdbcType=NUMERIC},
			</if>
			<if test="majorTerm != null and majorTerm != ''" >
				MAJOR_TERM = #{majorTerm,jdbcType=VARCHAR},
			</if>
			<if test="fileInfoId != null and fileInfoId != ''" >
				FILE_INFO_ID = #{fileInfoId,jdbcType=VARCHAR},
			</if>
			<if test="signQuit != null and signQuit != ''" >
				SIGN_QUIT = #{signQuit,jdbcType=VARCHAR},
			</if>
		</set>
		WHERE FILE_ID = #{fileId,jdbcType=VARCHAR}
	</update>

</mapper>
