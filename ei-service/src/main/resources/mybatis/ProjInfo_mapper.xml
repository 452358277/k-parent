<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ProjInfo">
	<!-- 基本信息 -->
	<resultMap id="ProjInfoResult2" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResult">
		<result column="CURRENT_RATIO" property="currentRatio" jdbcType="VARCHAR" />
		<result column="TOTAL_INVE_AMOUNT" property="allRequestMoney" jdbcType="VARCHAR" />
		<result column="EXIT_AMOUNT" property="quitMoney" jdbcType="VARCHAR" />
		<result column="GROUP_NAME" property="groupName" jdbcType="VARCHAR" />
		<association property="mangerModel" javaType="com.ppmg.ei.model.ProjMemberModel" column="PROJ_ID">
			<result column="MANGER_ID" property="memberId" jdbcType="VARCHAR" />
			<result column="MANGER_NAME" property="memberName" jdbcType="VARCHAR" />
		</association>
		<collection property="memberList" resultMap="ProjMember.ProjMemberResult" column="PROJ_ID"></collection>
	</resultMap>

	<!-- 立项、决策信息 -->
	<resultMap id="ProjInfoResult3" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResult">
		<association property="projAppInfoModel" resultMap="ProjAppInfo.ProjAppInfoResult" column="PROJ_ID"></association>
		<collection property="bizPlanAttList" ofType="com.ppmg.ei.model.EiTAttachmentModel" column="BIZ_PLAN_ATT">
			<result column="BIZ_PLAN_FILE_ID" property="fileId" jdbcType="VARCHAR" />
			<result column="BIZ_PLAN_FILE_SOURCE" property="fileSource" jdbcType="VARCHAR" />
			<result column="BIZ_PLAN_ATT_NAME" property="fileOldName" jdbcType="VARCHAR" />
			<result column="BIZ_PLAN_ATT_URL" property="filePath" jdbcType="VARCHAR" />
			<result column="BIZ_PLAN_ATT_SIZE" property="fileSize" jdbcType="VARCHAR" />
		</collection>
		<collection property="projReportAttList" ofType="com.ppmg.ei.model.EiTAttachmentModel" column="PROJ_REPORT_ATT">
			<result column="PROJ_REPORT_FILE_ID" property="fileId" jdbcType="VARCHAR" />
			<result column="PROJ_REPORT_FILE_SOURCE" property="fileSource" jdbcType="VARCHAR" />
			<result column="PROJ_REPORT_ATT_NAME" property="fileOldName" jdbcType="VARCHAR" />
			<result column="PROJ_REPORT_ATT_URL" property="filePath" jdbcType="VARCHAR" />
			<result column="PROJ_REPORT_ATT_SIZE" property="fileSize" jdbcType="VARCHAR" />
		</collection>
		<collection property="otherAttList" ofType="com.ppmg.ei.model.EiTAttachmentModel" column="OTHER_ATT">
			<result column="OTHER_FILE_ID" property="fileId" jdbcType="VARCHAR" />
			<result column="OTHER_FILE_SOURCE" property="fileSource" jdbcType="VARCHAR" />
			<result column="OTHER_ATT_NAME" property="fileOldName" jdbcType="VARCHAR" />
			<result column="OTHER_ATT_URL" property="filePath" jdbcType="VARCHAR" />
			<result column="OTHER_ATT_SIZE" property="fileSize" jdbcType="VARCHAR" />
		</collection>
		<collection property="remarkAttList" ofType="com.ppmg.ei.model.EiTAttachmentModel" column="REMARK_ATT">
			<result column="REMARK_FILE_ID" property="fileId" jdbcType="VARCHAR" />
			<result column="REMARK_FILE_SOURCE" property="fileSource" jdbcType="VARCHAR" />
			<result column="REMARK_ATT_NAME" property="fileOldName" jdbcType="VARCHAR" />
			<result column="REMARK_ATT_URL" property="filePath" jdbcType="VARCHAR" />
			<result column="REMARK_ATT_SIZE" property="fileSize" jdbcType="VARCHAR" />
		</collection>
		<collection property="decisionAttList" ofType="com.ppmg.ei.model.EiTAttachmentModel" column="DECISION_ATTA">
			<result column="DECISION_FILE_ID" property="fileId" jdbcType="VARCHAR" />
			<result column="DECISION_FILE_SOURCE" property="fileSource" jdbcType="VARCHAR" />
			<result column="DECISION_ATT_NAME" property="fileOldName" jdbcType="VARCHAR" />
			<result column="DECISION_ATT_URL" property="filePath" jdbcType="VARCHAR" />
			<result column="DECISION_ATT_SIZE" property="fileSize" jdbcType="VARCHAR" />
		</collection>
	</resultMap>
	<!-- 投资信息 -->
	<resultMap id="ProjInfoResult4" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResult">
		<result column="INVEST_AMOUNT_DISPLAY" property="investAmountDisplay" jdbcType="VARCHAR" />
		<result column="PROJ_MEMBERS" property="projMembers" jdbcType="VARCHAR" />
		<result column="SUB_FUND_AMONT_RMB" property="subFundAmontDisplay" jdbcType="VARCHAR" />
		<result column="CURRENT_RATIO" property="currentRatio" jdbcType="VARCHAR" />
		<result column="SIGN_DT" property="signDt" jdbcType="TIMESTAMP" />
		<result column="SIGN_AMOUNT_DISPLAY" property="signAmountDisplay" jdbcType="VARCHAR" />
	</resultMap>

	<!-- 基金投资项目信息 -->
	<resultMap id="ProjInfoResult5" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResult">
		<result column="RMB_INTENDED_AMOUNT" property="intendedAmount" jdbcType="VARCHAR" />
		<result column="SIGN_AMOUNT_RMB" property="signAmount" jdbcType="VARCHAR" />
		<result column="SIGN_DT" property="signDt" jdbcType="TIMESTAMP" />
	</resultMap>
	<resultMap id="ProjInfoResult7" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResult">
		<result column="MC_NAME" property="mcName" jdbcType="VARCHAR" />
		<result column="INTENDED_AMOUNT" property="intendedAmount" jdbcType="VARCHAR" />
		<result column="SUM_INVE_AMOUNT" property="sumInveAmount" jdbcType="VARCHAR" />
	</resultMap>


	<!-- 子基金项目列表信息 -->
	<resultMap id="ProjInfoResult6" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResult">
		<result column="CURRENT_AMOUNT_RMB" property="currentAmountDisplay" jdbcType="VARCHAR" />
		<result column="SUB_FUND_AMONT_RMB" property="subFundAmontDisplay" jdbcType="VARCHAR" />
		<association property="mangerModel" javaType="com.ppmg.ei.model.ProjMemberModel" column="PROJ_ID">
			<result column="MANGER_ID" property="memberId" jdbcType="VARCHAR" />
			<result column="MANGER_NAME" property="memberName" jdbcType="VARCHAR" />
		</association>
	</resultMap>

	<!-- 企业层面 -->
	<resultMap id="ProjInfoResult11" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResult">
		<association property="projAppInfoModel" javaType="com.ppmg.ei.model.ProjAppInfoModel" column="PROJ_ID">
			<result column="finaAmount" property="finaAmount" jdbcType="VARCHAR" />
			<result column="intendedAmount" property="intendedAmount" jdbcType="VARCHAR" />
			<result column="preMoney" property="preMoney" jdbcType="VARCHAR" />
			<result column="postMoney" property="postMoney" jdbcType="VARCHAR" />
			<result column="name" property="remark" jdbcType="VARCHAR" />
			<result column="rmbIntendedAmount" property="rmbIntendedAmount" jdbcType="VARCHAR" />
		</association>
	</resultMap>

	<!-- 企业层面 -->
	<resultMap id="ProjInfoResult111" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResultExportList">
		<association property="projAppInfoModel" javaType="com.ppmg.ei.model.ProjAppInfoModel" column="PROJ_ID">
			<result column="PROJ_ID" property="projId" jdbcType="VARCHAR" />
			<result column="FINA_ROUNDS" property="finaRounds" jdbcType="VARCHAR" />
			<result column="FINA_TIMES" property="finaTimes" jdbcType="VARCHAR" />
			<result column="FINA_AMOUNT" property="finaAmount" jdbcType="NUMERIC" />
			<result column="FINA_CURRENCY" property="finaCurrency" jdbcType="VARCHAR" />
			<result column="INVE_ROLE" property="inveRole" jdbcType="VARCHAR" />
			<result column="inveTypes" property="inveType" jdbcType="VARCHAR" />
			<result column="INVE_ROUNDS" property="inveRounds" jdbcType="VARCHAR" />
			<result column="PRE_MONEY" property="preMoney" jdbcType="NUMERIC" />
			<result column="PRE_CURRENCY" property="preCurrency" jdbcType="VARCHAR" />
			<result column="POST_MONEY" property="postMoney" jdbcType="NUMERIC" />
			<result column="POST_CURRENCY" property="postCurrency" jdbcType="VARCHAR" />
			<result column="INTENDED_AMOUNT" property="intendedAmount" jdbcType="NUMERIC" />
			<result column="INTENDED_CURRENCY" property="intendedCurrency" jdbcType="VARCHAR" />
			<result column="INVE_SHARE" property="inveShare" jdbcType="NUMERIC" />
			<result column="PER_SHARE" property="perShare" jdbcType="NUMERIC" />
			<result column="PROJ_GUID" property="projGuid" jdbcType="VARCHAR" />
			<result column="RMB_INTENDED_AMOUNT" property="rmbIntendedAmount" jdbcType="NUMERIC" />
			<result column="FEED_BACK" property="feedBack" jdbcType="VARCHAR" />
			<result column="IS_DECISION_PASS" property="isDecisionPass" jdbcType="VARCHAR" />
			<result column="DECISION_DATE" property="decisionDate" jdbcType="TIMESTAMP" />
			<result column="ACTUAL_AMOUNT" property="actualAmount" jdbcType="NUMERIC" />
			<result column="INVE_CURRENT_AMOUNT" property="inveCurrentAmount" jdbcType="NUMERIC" />
			<result column="INVE_RAISE_AMOUNT" property="inveRaiseAmount" jdbcType="NUMERIC" />
		</association>
		<association property="fundInfo" javaType="com.ppmg.ei.model.FundInfoModel" >
			<result column="FUND_NAME" property="fundName" jdbcType="VARCHAR" />
			<result column="IS_RECORD" property="isRecord" jdbcType="VARCHAR" />
			<result column="PLAT_PROP" property="platProp" jdbcType="VARCHAR" />
			<result column="SUB_PLAT_PROP" property="subPlatProp" jdbcType="VARCHAR" />
		</association>
		<association property="bdTFitRegulationSelfModel" javaType="com.ppmg.ei.model.BdTFitRegulationSelfModel">
			<result column="IS_JS" property="isJs" jdbcType="VARCHAR" />
			<result column="IS_TWELVE" property="isTwelve" jdbcType="VARCHAR" />
			<result column="CUR_TMONEY_PER" property="curTmoneyPer" jdbcType="VARCHAR" />
			<result column="ALL_TMONEY" property="allTmoney" jdbcType="VARCHAR" />
			<result column="FUN_TO_PRO" property="funToPro" jdbcType="VARCHAR" />
			<result column="ALL_TMONEY_PER" property="allTmoneyPer" jdbcType="VARCHAR" />

		</association>
<!--		<association property="projQuitApplModel" javaType="com.ppmg.ei.model.ProjQuitApplModel">
			<result column="QUIT_TYPE" property="quitType" jdbcType="VARCHAR" />
			<result column="QUIT_DT" property="quitDt" jdbcType="TIMESTAMP" />
			<result column="REVENUE" property="revenue" jdbcType="NUMERIC" />
		</association>-->
	   <association property="entBaseInfoModel" javaType="com.ppmg.ei.model.EntBaseInfoModel">
			<result column="CREDIT_CODE" property="creditCode" jdbcType="VARCHAR" />
			<result column="KEY_NO" property="keyNo" jdbcType="VARCHAR" />
			<result column="ADDRESS_DETAILS" property="addressDetails" jdbcType="VARCHAR" />
		</association>
	<!--	<association property="xjlTPaymentRequestModel" javaType="com.ppmg.ei.model.XjlTPaymentRequestModel">
			<result column="ACTUAL_PAY_AMOUNT" property="actualPayAmount" jdbcType="VARCHAR" />
			<result column="ACTUAL_PAY_DATE" property="actualPayDate" jdbcType="VARCHAR" />
		</association>-->
	</resultMap>

	<!-- 一头项目spv-->
	<resultMap id="ProjInfoResult14" type="com.ppmg.ei.model.SpvResult" >
		<result column="PROJ_ID" property="projId" jdbcType="VARCHAR" />
		<result column="REG_NAME" property="regName" jdbcType="VARCHAR" />
		<result column="FUND_NAME" property="fundName" jdbcType="VARCHAR" />
		<result column="FUND_SRC" property="fundSrc" jdbcType="VARCHAR" />
		<result column="CURRENT_AMOUNT" property="currentAmount" jdbcType="VARCHAR" />
		<result column="bjjAmount" property="bjjAmount" jdbcType="VARCHAR" />
		<result column="qtAmount" property="qtAmount" jdbcType="VARCHAR" />
		<result column="RAISE_AMOUNT" property="raiseAmount" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT" property="projObject" jdbcType="VARCHAR" />
		<result column="FUND_ID" property="fundId" jdbcType="VARCHAR" />
		<result column="js" property="js" jdbcType="VARCHAR" />
		<result column="IS_DISTRIBUTE" property="isDistribute" jdbcType="VARCHAR" />
		<result column="DISTRIBUTE_MONEY" property="distributeMoney" jdbcType="NUMERIC" />
		<result column="DISTRIBUTE_GOV_MONEY" property="distributeGovMoney" jdbcType="NUMERIC" />
		<result column="DISTRIBUTE_DT" property="distributeDt" jdbcType="TIMESTAMP" />
		<result column="is_fit" property="isFit" jdbcType="VARCHAR" />
		<result column="IS_EXCEPT" property="isExcept" jdbcType="VARCHAR" />
		<result column="ente_id" property="enteId" jdbcType="VARCHAR" />
		<result column="SUM_ACTUAL_PAY_AMOUNT" property="sumActualPayAmount" jdbcType="NUMERIC" />
		<result column="MAX_ACTUAL_PAY_DATE" property="maxActualPayDate" jdbcType="VARCHAR" />

	</resultMap>
	<!-- 一直投项目-->
	<resultMap id="ProjInfoResult15" type="com.ppmg.ei.model.DirectProjResult" >
		<result column="fund_id" property="fundId" jdbcType="VARCHAR" />
		<result column="PROJ_TYPE" property="projType" jdbcType="VARCHAR" />
		<result column="projId" property="projId" jdbcType="VARCHAR" />
		<result column="projName" property="projName" jdbcType="VARCHAR" />
		<result column="PROJ_PROPERTY" property="projProperty" jdbcType="VARCHAR" />
		<result column="finaAmount" property="finaAmount" jdbcType="VARCHAR" />
		<result column="preMoney" property="preMoney" jdbcType="VARCHAR" />
		<result column="postMoney" property="postMoney" jdbcType="VARCHAR" />
		<result column="actualPayAmount" property="actualPayAmount" jdbcType="VARCHAR" />
		<result column="js" property="js" jdbcType="VARCHAR" />
		<result column="isTwelve" property="isTwelve" jdbcType="VARCHAR" />
		<result column="PROJ_PROPERTY" property="projProperty" jdbcType="VARCHAR" />
		<result column="INDUSTRY" property="industry" jdbcType="VARCHAR" />
		<result column="INDUSTRY_NAME" property="industryName" jdbcType="VARCHAR" />
		<result column="NEW_INDUSTRY" property="newIndustry" jdbcType="VARCHAR" />
		<result column="NEW_INDUSTRY_NAME" property="newIndustryName" jdbcType="VARCHAR" />
		<result column="IS_SPV_PROJ" property="isSpvProj" jdbcType="VARCHAR" />
		<result column="IS_SPV_FUND_NAME" property="isSpvFundName" jdbcType="VARCHAR" />
		<result column="IS_INDUSTRY" property="isIndustry" jdbcType="VARCHAR" />
		<result column="IS_NEW_INDUSTRY" property="isNewIndustry" jdbcType="VARCHAR" />
		<result column="ACTUAL_PAY_DATE" property="actualPayDate" jdbcType="VARCHAR" />
		<result column="actualAmount" property="actualAmount" jdbcType="NUMERIC" />
		<result column="intendedAmount" property="intendedAmount" jdbcType="NUMERIC" />
		<result column="PROJ_OBJECT" property="projObject" jdbcType="VARCHAR" />
		<result column="labelIds" property="labelIds" jdbcType="VARCHAR" />
		<result column="CREDIT_CODE" property="creditCode" jdbcType="VARCHAR" />
        <result column="IS_PUBLIC_COMP" property="isPublicComp" jdbcType="VARCHAR" />
		<result column="isSs" property="isSs" jdbcType="VARCHAR" />
		<result column="STOCK_CATEGORY" property="stockCategory" jdbcType="VARCHAR" />
		<result column="IS_AFTER_LISTED" property="isAfterListed" jdbcType="VARCHAR" />
		<result column="INDUSTRY_CATEGORY" property="industryCategory" jdbcType="VARCHAR" />
		<result column="IS_IPO" property="isIpo" jdbcType="VARCHAR" />
		<result column="APPLY_IPO_DT" property="applyIpoDt" jdbcType="TIMESTAMP" />
		<result column="INVE_EMPLOYMENT" property="inveEmployment" jdbcType="VARCHAR" />
		<result column="EMPLOYMENT" property="employment" jdbcType="VARCHAR" />
		<result column="TZ_EMPOWER_PATENT" property="tzEmpowerPatent" jdbcType="VARCHAR" />
		<result column="LAST_EMPOWER_PATENT" property="lastEmpowerPatent" jdbcType="VARCHAR" />
		<result column="TZ_LAST_YEAR_TAX_AMOUNT" property="tzLastYearTaxAmount" jdbcType="VARCHAR" />
		<result column="LAST_ESTIMATE_TAX_AMOUNT" property="lastEstimateTaxAmount" jdbcType="VARCHAR" />
		<result column="YEAR_TAX_AMOUNT" property="yearTaxAmount" jdbcType="VARCHAR" />
		<result column="isKbzNum" property="isKbzNum" jdbcType="VARCHAR" />
		<result column="LISTED_SECTOR" property="listedSector" jdbcType="VARCHAR" />
		<result column="ENTE_PHASE" property="entePhase" jdbcType="VARCHAR" />
		<result column="ADDRESS_PROVINCE" property="addressProvince" jdbcType="VARCHAR" />
		<result column="ADDRESS_CITY" property="addressCity" jdbcType="VARCHAR" />
		<result column="ADDRESS_AREA" property="addressArea" jdbcType="VARCHAR" />
		<result column="ADDRESS_DETAILS" property="addressDetails" jdbcType="VARCHAR" />
		<result column="IS_FIT" property="isFit" jdbcType="VARCHAR" />
		<result column="fit_status" property="fitStatus" jdbcType="VARCHAR" />
		<result column="sum_amount" property="sumAmount" jdbcType="VARCHAR" />
		<result column="raise_amount" property="raiseAmount" jdbcType="NUMERIC" />
		<result column="szf_amount" property="szfAmount" jdbcType="NUMERIC" />
		<result column="gov_quit_amount" property="govQuitAmount" jdbcType="NUMERIC" />
		<result column="ONE_INDUSTRY" property="oneIndustry" jdbcType="NUMERIC" />
		<result column="ente_id" property="enteId" jdbcType="VARCHAR" />
		<result column="CT_INVE_AMOUNT" property="ctInveAmount" jdbcType="VARCHAR" />
	</resultMap>

	<!-- 企业列表-->
	<resultMap id="ProjInfoResult10" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResult">
		<association property="projAppInfoModel" javaType="com.ppmg.ei.model.ProjAppInfoModel" column="PROJ_ID">
			<result column="INTENDED_AMOUNT" property="intendedAmount" jdbcType="NUMERIC" />
			<result column="PER_SHARE" property="perShare" jdbcType="NUMERIC" />
			<result column="ACTUAL_AMOUNT" property="actualAmount" jdbcType="NUMERIC" />
		</association>
		<association property="fundInfo" javaType="com.ppmg.ei.model.FundInfoModel" column="FUND_ID">
			<result column="IS_FIT" property="isFit" jdbcType="VARCHAR" />
			<result column="IS_RECORD" property="isRecord" jdbcType="VARCHAR" />
		</association>
	</resultMap>

	<!-- 企业详情信息 -->
	<resultMap id="ProjInfoResult22" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResult">
		<association property="projAppInfoModel" javaType="com.ppmg.ei.model.ProjAppInfoModel" column="PROJ_ID">
			<result column="INTENDED_AMOUNT" property="intendedAmount" jdbcType="NUMERIC" />
			<result column="PER_SHARE" property="perShare" jdbcType="NUMERIC" />
			<result column="FINA_ROUNDS" property="finaRounds" jdbcType="VARCHAR" />
			<result column="FINA_TIMES" property="finaTimes" jdbcType="VARCHAR" />
			<result column="FINA_AMOUNT" property="finaAmount" jdbcType="VARCHAR" />
		</association>
		<association property="fundInfo" javaType="com.ppmg.ei.model.FundInfoModel" column="FUND_ID">
			<result column="IS_RECORD" property="isRecord" jdbcType="VARCHAR" />
			<result column="RECORD_CODE" property="recordCode" jdbcType="VARCHAR" />
			<result column="FUND_STRUCT" property="fundStruct" jdbcType="VARCHAR" />
			<result column="PLAN_AMOUNT" property="planAmount" jdbcType="NUMERIC" />
			<result column="CURRENT_AMOUNT" property="currentAmount" jdbcType="NUMERIC" />
		</association>
		<association property="bdTFitRegulationSelfModel" javaType="com.ppmg.ei.model.BdTFitRegulationSelfModel" column="PROJ_ID">
			<result column="IS_CORR" property="isCorr" jdbcType="VARCHAR" />
			<result column="IS_JS" property="isJs" jdbcType="VARCHAR" />
		</association>
	</resultMap>

	<!-- 一子基金已投项目情况统计表-->
	<resultMap id="ProjInfoResult16" type="com.ppmg.ei.model.DirectProjResult" >
		<result column="PROJ_TYPE" property="projType" jdbcType="VARCHAR" />
		<result column="INDUSTRY_NAME" property="industryName" jdbcType="VARCHAR" />
		<result column="PROJ_PROPERTY" property="projProperty" jdbcType="VARCHAR" />
		<result column="NEW_INDUSTRY_NAME" property="newIndustryName" jdbcType="VARCHAR" />
		<result column="PROJ_ID" property="projId" jdbcType="VARCHAR" />
		<result column="INVE_NAME" property="inveName" jdbcType="VARCHAR" />
		<result column="REG_NAME" property="regName" jdbcType="VARCHAR" />
		<result column="FUND_NAME" property="fundName" jdbcType="VARCHAR" />
		<result column="PROJ_NAME" property="projName" jdbcType="VARCHAR" />
		<result column="PRE_MONEY" property="preMoney" jdbcType="VARCHAR" />
		<result column="POST_MONEY" property="postMoney" jdbcType="VARCHAR" />
		<result column="FINA_AMOUNT" property="finaAmount" jdbcType="VARCHAR" />
		<result column="PROJ_PROPERTY" property="projProperty" jdbcType="VARCHAR" />
		<result column="js" property="js" jdbcType="VARCHAR" />
		<result column="isTwelve" property="isTwelve" jdbcType="VARCHAR" />
		<result column="ACTUAL_AMOUNT" property="actualAmount" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT" property="projObject" jdbcType="VARCHAR" />
		<result column="CUR_TMONEY_PER" property="curTmoneyPer" jdbcType="NUMERIC" />
		<result column="ALL_TMONEY" property="allTmoney" jdbcType="NUMERIC" />
		<result column="FUN_TO_PRO" property="funToPro" jdbcType="NUMERIC" />
		<result column="ALL_TMONEY_PER" property="allTmoneyPer" jdbcType="NUMERIC" />
		<result column="CREDIT_CODE" property="creditCode" jdbcType="VARCHAR" />
        <result column="IS_PUBLIC_COMP" property="isPublicComp" jdbcType="VARCHAR" />
		<result column="is_fit" property="isFit" jdbcType="VARCHAR" />
		<result column="IS_EXCEPT" property="isExcept" jdbcType="VARCHAR" />
		<result column="ente_id" property="enteId" jdbcType="VARCHAR" />
		<result column="proj_id_spv" property="projIdSpv" jdbcType="VARCHAR" />
		<result column="fund_id" property="fundId" jdbcType="VARCHAR" />
		<result column="ADDRESS_PROVINCE" property="addressProvince" jdbcType="VARCHAR" />
		<result column="ADDRESS_CITY" property="addressCity" jdbcType="VARCHAR" />
		<result column="ADDRESS_AREA" property="addressArea" jdbcType="VARCHAR" />
		<result column="INDUSTRY_CATEGORY" property="industryCategory" jdbcType="VARCHAR" />
		<result column="ONE_INDUSTRY" property="oneIndustry" jdbcType="VARCHAR" />

	</resultMap>
	<!-- 企业层面 -->
	<resultMap id="ProjInfoResult12" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResult">
		<association property="resultModel" javaType="com.ppmg.ei.model.ResultModel" column="PROJ_ID">
			<result column="countTz" property="countTz" jdbcType="VARCHAR" />
			<result column="sumTz" property="sumTz" jdbcType="VARCHAR" />
			<result column="sumSn" property="sumSn" jdbcType="VARCHAR" />
			<result column="countSn" property="countSn" jdbcType="VARCHAR" />
			<result column="sumSw" property="sumSw" jdbcType="VARCHAR" />
			<result column="countSw" property="countSw" jdbcType="VARCHAR" />
			<result column="sumQy" property="sumQy" jdbcType="VARCHAR" />
			<result column="countQy" property="countQy" jdbcType="VARCHAR" />
			<result column="sumCy" property="sumCy" jdbcType="VARCHAR" />
			<result column="countCy" property="countCy" jdbcType="VARCHAR" />
			<result column="sumGj" property="sumGj" jdbcType="VARCHAR" />
			<result column="countGj" property="countGj" jdbcType="VARCHAR" />
		</association>
	</resultMap>
	<!-- start autocreate -->

	<resultMap id="ProjInfoResult" type="com.ppmg.ei.model.ProjInfoModel">
		<result column="PROJ_ID" property="projId" jdbcType="VARCHAR" />
		<result column="PROJ_NO" property="projNo" jdbcType="VARCHAR" />
		<result column="PROJ_NAME" property="projName" jdbcType="VARCHAR" />
		<result column="PROJ_TYPE" property="projType" jdbcType="VARCHAR" />
		<result column="PROJ_STATUS" property="projStatus" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT" property="projObject" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT_NAME" property="projObjectName" jdbcType="VARCHAR" />
		<result column="ENTE_PHASE" property="entePhase" jdbcType="VARCHAR" />
		<result column="PROJ_SRC" property="projSrc" jdbcType="VARCHAR" />
		<result column="SRC_DESC" property="srcDesc" jdbcType="VARCHAR" />
		<result column="INVE_ID" property="inveId" jdbcType="VARCHAR" />
		<result column="INVE_NAME" property="inveName" jdbcType="VARCHAR" />
		<result column="INVE_TYPE" property="inveType" jdbcType="VARCHAR" />
		<result column="CHARGE_PARTNER" property="chargePartner" jdbcType="VARCHAR" />
		<result column="SECRECY_LEVEL" property="secrecyLevel" jdbcType="VARCHAR" />
		<result column="INVE_FILE" property="inveFile" jdbcType="VARCHAR" />
		<result column="SETUP_DT" property="setupDt" jdbcType="TIMESTAMP" />
		<result column="DECISION_DT" property="decisionDt" jdbcType="TIMESTAMP" />
		<result column="CREATE_BY" property="createBy" jdbcType="VARCHAR" />
		<result column="CREATE_DT" property="createDt" jdbcType="TIMESTAMP" />
		<result column="UPDATE_BY" property="updateBy" jdbcType="VARCHAR" />
		<result column="UPDATE_DT" property="updateDt" jdbcType="TIMESTAMP" />
		<result column="GROUP_ID" property="groupId" jdbcType="NUMERIC" />
		<result column="PROCESS_INST_ID" property="processInstId" jdbcType="VARCHAR" />
		<result column="PROJ_GUID" property="projGuid" jdbcType="VARCHAR" />
		<result column="IS_PLAT" property="isPlat" jdbcType="VARCHAR" />
		<result column="PAUSE_APPLY" property="pauseApply" jdbcType="VARCHAR" />
		<result column="PAUSE_DECISION" property="pauseDecision" jdbcType="VARCHAR" />
		<result column="PROJ_OVERVIEW" property="projOverview" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="INVE_EVALUATION" property="inveEvaluation" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="REMARK" property="remark" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="FILE_DESC" property="fileDesc" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="MAJOR_MATTER" property="majorMatter" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="PROJ_OVERVIEW_ATT" property="projOverviewAtt" jdbcType="VARCHAR" />
		<result column="INVE_EVALUATION_ATT" property="inveEvaluationAtt" jdbcType="VARCHAR" />
		<result column="REMARK_ATT" property="remarkAtt" jdbcType="VARCHAR" />
		<result column="MAJOR_MATTER_ATT" property="majorMatterAtt" jdbcType="VARCHAR" />
		<result column="SCORE_RESULT" property="scoreResult" jdbcType="NUMERIC" />
		<result column="AREA" property="area" jdbcType="VARCHAR" />
		<result column="EMAIL" property="email" jdbcType="VARCHAR" />
		<result column="EMAIL_PASSWORD" property="emailPassword" jdbcType="VARCHAR" />
		<result column="INVE_CREDIT_CODE" property="inveCreditCode" jdbcType="VARCHAR" />
		<result column="PEFOF_NAME" property="pefofName" jdbcType="VARCHAR" />
		<result column="PEFOF_CREDIT_CODE" property="pefofCreditCode" jdbcType="VARCHAR" />
		<result column="GROUP_ID_OLD" property="groupIdOld" jdbcType="NUMERIC" />
		<result column="INVEST_TOGETHER" property="investTogether" jdbcType="VARCHAR" />
		<result column="ADVISORY_COMM_ID" property="advisoryCommId" jdbcType="VARCHAR" />
		<result column="ADVISORY_COMM_NAME" property="advisoryCommName" jdbcType="VARCHAR" />
		<result column="BIZ_PLAN_ATT" property="bizPlanAtt" jdbcType="VARCHAR" />
		<result column="PROJ_REPORT_ATT" property="projReportAtt" jdbcType="VARCHAR" />
		<result column="OTHER_ATT" property="otherAtt" jdbcType="VARCHAR" />
		<result column="SUB_FUND_PLAN_AMOUNT" property="subFundPlanAmount" jdbcType="VARCHAR" />
		<result column="SUB_FUND_PLAN_AMOUNT_CURR" property="subFundPlanAmountCurr" jdbcType="VARCHAR" />
		<result column="SUB_FUND_PLAN_AMOUNT_RMB" property="subFundPlanAmountRmb" jdbcType="VARCHAR" />
		<result column="CURRENT_OPERATION_SITUATION" property="currentOperationSituation" jdbcType="VARCHAR" />
		<result column="RESERVE_TYPE" property="reserveType" jdbcType="VARCHAR" />
		<result column="UNIQUE_CODING" property="uniqueCoding" jdbcType="VARCHAR" />
		<result column="INSTORAGE_DT" property="instorageDt" jdbcType="TIMESTAMP" />
		<result column="PROJ_PROPERTY" property="projProperty" jdbcType="VARCHAR" />
		<result column="IS_MEETING" property="isMeeting" jdbcType="VARCHAR" />
		<result column="PROJ_MC" property="projMc" jdbcType="VARCHAR" />
		<result column="INDUSTRY_NAME" property="industryName" jdbcType="VARCHAR" />
		<result column="INDUSTRY" property="industry" jdbcType="VARCHAR" />
		<result column="NEW_INDUSTRY" property="newIndustry" jdbcType="VARCHAR" />
		<result column="NEW_INDUSTRY_NAME" property="newIndustryName" jdbcType="VARCHAR" />
		<result column="IS_SPV_FUND_ID" property="isSpvFundId" jdbcType="VARCHAR" />
		<result column="IS_SPV_FUND_NAME" property="isSpvFundName" jdbcType="VARCHAR" />
		<result column="IS_SPV_PROJ" property="isSpvProj" jdbcType="VARCHAR" />
		<result column="SPV_TYPE" property="spvType" jdbcType="VARCHAR" />
		<result column="STATUS" property="status" jdbcType="VARCHAR" />
		<result column="IS_REGISTER" property="isRegister" jdbcType="VARCHAR" />
		<result column="twoFundName" property="twoFundName" jdbcType="VARCHAR" />
		<result column="threeFundName" property="threeFundName" jdbcType="VARCHAR" />
		<result column="ent_name" property="entName" jdbcType="VARCHAR" />
		<result column="IS_REGION" property="isRegion" jdbcType="VARCHAR" />
		<result column="OLD_ENTERPRISE_ID" property="oldEnterpriseId" jdbcType="VARCHAR" />
		<result column="IS_AFTER_LISTED" property="isAfterListed" jdbcType="VARCHAR" />
		<result column="INDUSTRY_CATEGORY" property="industryCategory" jdbcType="VARCHAR" />
		<result column="twoFundName" property="twoFundName" jdbcType="VARCHAR" />
		<result column="ONE_INDUSTRY" property="oneIndustry" jdbcType="VARCHAR" />
	</resultMap>


	<resultMap id="ProjInfoResultExportList" type="com.ppmg.ei.model.ProjInfoModel">
		<result column="PROJ_ID" property="projId" jdbcType="VARCHAR" />
		<result column="PROJ_NO" property="projNo" jdbcType="VARCHAR" />
		<result column="PROJ_NAME" property="projName" jdbcType="VARCHAR" />
		<result column="PROJ_TYPE" property="projType" jdbcType="VARCHAR" />
		<result column="PROJ_STATUS" property="projStatus" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT" property="projObject" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT_NAME" property="projObjectName" jdbcType="VARCHAR" />
		<result column="ENTE_PHASE" property="entePhase" jdbcType="VARCHAR" />
		<result column="PROJ_SRC" property="projSrc" jdbcType="VARCHAR" />
		<result column="SRC_DESC" property="srcDesc" jdbcType="VARCHAR" />
		<result column="INVE_ID" property="inveId" jdbcType="VARCHAR" />
		<result column="INVE_NAME" property="inveName" jdbcType="VARCHAR" />
		<result column="INVE_TYPE" property="inveType" jdbcType="VARCHAR" />
		<result column="CHARGE_PARTNER" property="chargePartner" jdbcType="VARCHAR" />
		<result column="SECRECY_LEVEL" property="secrecyLevel" jdbcType="VARCHAR" />
		<result column="INVE_FILE" property="inveFile" jdbcType="VARCHAR" />
		<result column="SETUP_DT" property="setupDt" jdbcType="TIMESTAMP" />
		<result column="DECISION_DT" property="decisionDt" jdbcType="TIMESTAMP" />
		<result column="CREATE_BY" property="createBy" jdbcType="VARCHAR" />
		<result column="CREATE_DT" property="createDt" jdbcType="TIMESTAMP" />
		<result column="UPDATE_BY" property="updateBy" jdbcType="VARCHAR" />
		<result column="UPDATE_DT" property="updateDt" jdbcType="TIMESTAMP" />
		<result column="GROUP_ID" property="groupId" jdbcType="NUMERIC" />
		<result column="PROCESS_INST_ID" property="processInstId" jdbcType="VARCHAR" />
		<result column="PROJ_GUID" property="projGuid" jdbcType="VARCHAR" />
		<result column="IS_PLAT" property="isPlat" jdbcType="VARCHAR" />
		<result column="PAUSE_APPLY" property="pauseApply" jdbcType="VARCHAR" />
		<result column="PAUSE_DECISION" property="pauseDecision" jdbcType="VARCHAR" />
		<result column="PROJ_OVERVIEW" property="projOverview" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="INVE_EVALUATION" property="inveEvaluation" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="REMARK" property="remark" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="FILE_DESC" property="fileDesc" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="MAJOR_MATTER" property="majorMatter" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="PROJ_OVERVIEW_ATT" property="projOverviewAtt" jdbcType="VARCHAR" />
		<result column="INVE_EVALUATION_ATT" property="inveEvaluationAtt" jdbcType="VARCHAR" />
		<result column="REMARK_ATT" property="remarkAtt" jdbcType="VARCHAR" />
		<result column="MAJOR_MATTER_ATT" property="majorMatterAtt" jdbcType="VARCHAR" />
		<result column="SCORE_RESULT" property="scoreResult" jdbcType="NUMERIC" />
		<result column="AREA" property="area" jdbcType="VARCHAR" />
		<result column="EMAIL" property="email" jdbcType="VARCHAR" />
		<result column="EMAIL_PASSWORD" property="emailPassword" jdbcType="VARCHAR" />
		<result column="INVE_CREDIT_CODE" property="inveCreditCode" jdbcType="VARCHAR" />
		<result column="PEFOF_NAME" property="pefofName" jdbcType="VARCHAR" />
		<result column="PEFOF_CREDIT_CODE" property="pefofCreditCode" jdbcType="VARCHAR" />
		<result column="GROUP_ID_OLD" property="groupIdOld" jdbcType="NUMERIC" />
		<result column="INVEST_TOGETHER" property="investTogether" jdbcType="VARCHAR" />
		<result column="ADVISORY_COMM_ID" property="advisoryCommId" jdbcType="VARCHAR" />
		<result column="ADVISORY_COMM_NAME" property="advisoryCommName" jdbcType="VARCHAR" />
		<result column="BIZ_PLAN_ATT" property="bizPlanAtt" jdbcType="VARCHAR" />
		<result column="PROJ_REPORT_ATT" property="projReportAtt" jdbcType="VARCHAR" />
		<result column="OTHER_ATT" property="otherAtt" jdbcType="VARCHAR" />
		<result column="SUB_FUND_PLAN_AMOUNT" property="subFundPlanAmount" jdbcType="VARCHAR" />
		<result column="SUB_FUND_PLAN_AMOUNT_CURR" property="subFundPlanAmountCurr" jdbcType="VARCHAR" />
		<result column="SUB_FUND_PLAN_AMOUNT_RMB" property="subFundPlanAmountRmb" jdbcType="VARCHAR" />
		<result column="CURRENT_OPERATION_SITUATION" property="currentOperationSituation" jdbcType="VARCHAR" />
		<result column="RESERVE_TYPE" property="reserveType" jdbcType="VARCHAR" />
		<result column="UNIQUE_CODING" property="uniqueCoding" jdbcType="VARCHAR" />
		<result column="INSTORAGE_DT" property="instorageDt" jdbcType="TIMESTAMP" />
		<result column="PROJ_PROPERTY" property="projProperty" jdbcType="VARCHAR" />
		<result column="IS_MEETING" property="isMeeting" jdbcType="VARCHAR" />
		<result column="PROJ_MC" property="projMc" jdbcType="VARCHAR" />
		<result column="INDUSTRY_NAME" property="industryName" jdbcType="VARCHAR" />
		<result column="INDUSTRY" property="industry" jdbcType="VARCHAR" />
		<result column="NEW_INDUSTRY" property="newIndustry" jdbcType="VARCHAR" />
		<result column="NEW_INDUSTRY_NAME" property="newIndustryName" jdbcType="VARCHAR" />
		<result column="IS_SPV_FUND_ID" property="isSpvFundId" jdbcType="VARCHAR" />
		<result column="IS_SPV_FUND_NAME" property="isSpvFundName" jdbcType="VARCHAR" />
		<result column="IS_SPV_PROJ" property="isSpvProj" jdbcType="VARCHAR" />
		<result column="SPV_TYPE" property="spvType" jdbcType="VARCHAR" />
		<result column="STATUS" property="status" jdbcType="VARCHAR" />
		<result column="IS_REGISTER" property="isRegister" jdbcType="VARCHAR" />
		<result column="twoFundName" property="twoFundName" jdbcType="VARCHAR" />
		<result column="threeFundName" property="threeFundName" jdbcType="VARCHAR" />
		<result column="ent_name" property="entName" jdbcType="VARCHAR" />
		<result column="IS_REGION" property="isRegion" jdbcType="VARCHAR" />
		<result column="OLD_ENTERPRISE_ID" property="oldEnterpriseId" jdbcType="VARCHAR" />
		<result column="IS_AFTER_LISTED" property="isAfterListed" jdbcType="VARCHAR" />
		<result column="INDUSTRY_CATEGORY" property="industryCategory" jdbcType="VARCHAR" />
		<result column="twoFundName" property="twoFundName" jdbcType="VARCHAR" />
		<result column="ONE_INDUSTRY" property="oneIndustry" jdbcType="VARCHAR" />
		<result column="PROVINCE" property="province" jdbcType="VARCHAR" />
		<result column="CITY" property="city" jdbcType="VARCHAR" />
		<result column="AREA" property="addArea" jdbcType="VARCHAR" />
	</resultMap>




	<resultMap id="BussniessResultModel" type="com.ppmg.ei.model.BussniessResultModel">
		<result column="name" property="name" jdbcType="VARCHAR" />
		<result column="sumjs" property="sumjs" jdbcType="VARCHAR" />
		<result column="countJs" property="countJs" jdbcType="VARCHAR" />
		<result column="sumNoJs" property="sumNoJs" jdbcType="VARCHAR" />
		<result column="countNoJs" property="countNoJs" jdbcType="VARCHAR" />
		<result column="sumNy" property="sumNy" jdbcType="VARCHAR" />
		<result column="countNy" property="countNy" jdbcType="VARCHAR" />
		<result column="sumCl" property="sumCl" jdbcType="VARCHAR" />
		<result column="countCl" property="countCl" jdbcType="VARCHAR" />
		<result column="sumZz" property="sumZz" jdbcType="VARCHAR" />
		<result column="countZz" property="countZz" jdbcType="VARCHAR" />
	</resultMap>

	<resultMap id="SumProjInfo" type="com.ppmg.ei.model.SumProjInfo">
		<result column="projId" property="projId" jdbcType="VARCHAR" />
		<result column="projName" property="projName" jdbcType="VARCHAR" />
		<result column="bjjAmount" property="bjjAmount" jdbcType="VARCHAR" />
		<result column="shAnount" property="shAnount" jdbcType="VARCHAR" />
	</resultMap>

	<resultMap id="ProjInfoResult13" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResult">
		<association property="fundInfo" javaType="com.ppmg.ei.model.FundInfoModel" column="PROJ_ID">
			<result column="FUND_CODE" property="fundCode" jdbcType="VARCHAR" />
			<result column="FUND_NAME" property="fundName" jdbcType="VARCHAR" />
		</association>
	</resultMap>

	<resultMap id="ProjInfoResultInternal" type="com.ppmg.ei.model.ProjInfoModel" extends="ProjInfoResult">
		<association property="projAppInfoModel" javaType="com.ppmg.ei.model.ProjAppInfoModel" column="PROJ_ID">
			<result column="PRE_MONEY" property="preMoney" jdbcType="VARCHAR" />
			<result column="POST_MONEY" property="postMoney" jdbcType="VARCHAR" />
			<result column="INVE_ROLE" property="inveRole" jdbcType="VARCHAR" />
			<result column="inve_types" property="inveType" jdbcType="VARCHAR" />
			<result column="SUM_ACTUAL_PAY_AMOUNT" property="sumActualPayAmount" jdbcType="VARCHAR" />
			<result column="START_DATE" property="startDate" jdbcType="TIMESTAMP" />
		</association>

	</resultMap>

	<resultMap id="ProjInfoResult23" type="com.ppmg.ei.model.FofInfoModel">
		<result column="PROJ_ID" property="projId" jdbcType="VARCHAR" />
		<result column="PROJ_NO" property="projNo" jdbcType="VARCHAR" />
		<result column="PROJ_NAME" property="projName" jdbcType="VARCHAR" />
		<result column="PROJ_STATUS" property="projStatus" jdbcType="VARCHAR" />
		<result column="PROJ_SRC" property="projSrc" jdbcType="VARCHAR" />
		<result column="INVE_ID" property="inveId" jdbcType="VARCHAR" />
		<result column="INVE_NAME" property="inveName" jdbcType="VARCHAR" />
		<result column="REG_NAME" property="regName" jdbcType="VARCHAR" />
		<result column="FUND_ID" property="fundId" jdbcType="VARCHAR" />
		<result column="PROJ_STATUS" property="projStatus" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT_NAME" property="projObjectName" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT" property="projObject" jdbcType="VARCHAR" />

	</resultMap>



	<resultMap id="ImportResult" type="com.ppmg.ei.model.ProjInfoModel">
		<result column="PROJ_ID" property="projId" jdbcType="VARCHAR" />
		<result column="PROJ_NO" property="projNo" jdbcType="VARCHAR" />
		<result column="PROJ_NAME" property="projName" jdbcType="VARCHAR" />
		<result column="PROJ_TYPE" property="projType" jdbcType="VARCHAR" />
		<result column="PROJ_STATUS" property="projStatus" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT" property="projObject" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT_NAME" property="projObjectName" jdbcType="VARCHAR" />
		<result column="ENTE_PHASE" property="entePhase" jdbcType="VARCHAR" />
		<result column="PROJ_SRC" property="projSrc" jdbcType="VARCHAR" />
		<result column="SRC_DESC" property="srcDesc" jdbcType="VARCHAR" />
		<result column="INVE_ID" property="inveId" jdbcType="VARCHAR" />
		<result column="INVE_NAME" property="inveName" jdbcType="VARCHAR" />
		<result column="INVE_TYPE" property="inveType" jdbcType="VARCHAR" />
		<result column="CHARGE_PARTNER" property="chargePartner" jdbcType="VARCHAR" />
		<result column="SECRECY_LEVEL" property="secrecyLevel" jdbcType="VARCHAR" />
		<result column="INVE_FILE" property="inveFile" jdbcType="VARCHAR" />
		<result column="SETUP_DT" property="setupDt" jdbcType="TIMESTAMP" />
		<result column="DECISION_DT" property="decisionDt" jdbcType="TIMESTAMP" />
		<result column="CREATE_BY" property="createBy" jdbcType="VARCHAR" />
		<result column="CREATE_DT" property="createDt" jdbcType="TIMESTAMP" />
		<result column="UPDATE_BY" property="updateBy" jdbcType="VARCHAR" />
		<result column="UPDATE_DT" property="updateDt" jdbcType="TIMESTAMP" />
		<result column="GROUP_ID" property="groupId" jdbcType="NUMERIC" />
		<result column="PROCESS_INST_ID" property="processInstId" jdbcType="VARCHAR" />
		<result column="PROJ_GUID" property="projGuid" jdbcType="VARCHAR" />
		<result column="IS_PLAT" property="isPlat" jdbcType="VARCHAR" />
		<result column="PAUSE_APPLY" property="pauseApply" jdbcType="VARCHAR" />
		<result column="PAUSE_DECISION" property="pauseDecision" jdbcType="VARCHAR" />
		<result column="PROJ_OVERVIEW" property="projOverview" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="INVE_EVALUATION" property="inveEvaluation" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="REMARK" property="remark" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="FILE_DESC" property="fileDesc" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="MAJOR_MATTER" property="majorMatter" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="PROJ_OVERVIEW_ATT" property="projOverviewAtt" jdbcType="VARCHAR" />
		<result column="INVE_EVALUATION_ATT" property="inveEvaluationAtt" jdbcType="VARCHAR" />
		<result column="REMARK_ATT" property="remarkAtt" jdbcType="VARCHAR" />
		<result column="MAJOR_MATTER_ATT" property="majorMatterAtt" jdbcType="VARCHAR" />
		<result column="SCORE_RESULT" property="scoreResult" jdbcType="NUMERIC" />
		<result column="AREA" property="area" jdbcType="VARCHAR" />
		<result column="EMAIL" property="email" jdbcType="VARCHAR" />
		<result column="EMAIL_PASSWORD" property="emailPassword" jdbcType="VARCHAR" />
		<result column="INVE_CREDIT_CODE" property="inveCreditCode" jdbcType="VARCHAR" />
		<result column="PEFOF_NAME" property="pefofName" jdbcType="VARCHAR" />
		<result column="PEFOF_CREDIT_CODE" property="pefofCreditCode" jdbcType="VARCHAR" />
		<result column="GROUP_ID_OLD" property="groupIdOld" jdbcType="NUMERIC" />
		<result column="INVEST_TOGETHER" property="investTogether" jdbcType="VARCHAR" />
		<result column="ADVISORY_COMM_ID" property="advisoryCommId" jdbcType="VARCHAR" />
		<result column="ADVISORY_COMM_NAME" property="advisoryCommName" jdbcType="VARCHAR" />
		<result column="BIZ_PLAN_ATT" property="bizPlanAtt" jdbcType="VARCHAR" />
		<result column="PROJ_REPORT_ATT" property="projReportAtt" jdbcType="VARCHAR" />
		<result column="OTHER_ATT" property="otherAtt" jdbcType="VARCHAR" />
		<result column="SUB_FUND_PLAN_AMOUNT" property="subFundPlanAmount" jdbcType="VARCHAR" />
		<result column="SUB_FUND_PLAN_AMOUNT_CURR" property="subFundPlanAmountCurr" jdbcType="VARCHAR" />
		<result column="SUB_FUND_PLAN_AMOUNT_RMB" property="subFundPlanAmountRmb" jdbcType="VARCHAR" />
		<result column="CURRENT_OPERATION_SITUATION" property="currentOperationSituation" jdbcType="VARCHAR" />
		<result column="RESERVE_TYPE" property="reserveType" jdbcType="VARCHAR" />
		<result column="UNIQUE_CODING" property="uniqueCoding" jdbcType="VARCHAR" />
		<result column="INSTORAGE_DT" property="instorageDt" jdbcType="TIMESTAMP" />
		<result column="PROJ_PROPERTY" property="projProperty" jdbcType="VARCHAR" />
		<result column="IS_MEETING" property="isMeeting" jdbcType="VARCHAR" />
		<result column="PROJ_MC" property="projMc" jdbcType="VARCHAR" />
		<result column="INDUSTRY_NAME" property="industryName" jdbcType="VARCHAR" />
		<result column="INDUSTRY" property="industry" jdbcType="VARCHAR" />
		<result column="NEW_INDUSTRY" property="newIndustry" jdbcType="VARCHAR" />
		<result column="NEW_INDUSTRY_NAME" property="newIndustryName" jdbcType="VARCHAR" />
		<result column="IS_SPV_FUND_ID" property="isSpvFundId" jdbcType="VARCHAR" />
		<result column="IS_SPV_FUND_NAME" property="isSpvFundName" jdbcType="VARCHAR" />
		<result column="IS_SPV_PROJ" property="isSpvProj" jdbcType="VARCHAR" />
		<result column="SPV_TYPE" property="spvType" jdbcType="VARCHAR" />
		<result column="STATUS" property="status" jdbcType="VARCHAR" />
		<result column="IS_REGISTER" property="isRegister" jdbcType="VARCHAR" />
		<result column="twoFundName" property="twoFundName" jdbcType="VARCHAR" />
		<result column="threeFundName" property="threeFundName" jdbcType="VARCHAR" />
		<result column="ent_name" property="entName" jdbcType="VARCHAR" />
		<collection property="listcommT" ofType="com.ppmg.ei.model.CommTLabelItemModel" >
			<result column="PROPERTY" property="property" jdbcType="VARCHAR" />
			<result column="LABEL_NAME" property="labelName" jdbcType="VARCHAR" />
		</collection>
	</resultMap>

	<insert id="insert" parameterType="com.ppmg.ei.model.ProjInfoModel">
        INSERT INTO TZ_T_PROJ_INFO (PROJ_ID,PROJ_NO,PROJ_NAME,PROJ_TYPE,PROJ_STATUS,PROJ_OBJECT,PROJ_OBJECT_NAME,ENTE_PHASE,PROJ_SRC,SRC_DESC,INVE_ID,INVE_NAME,INVE_TYPE,CHARGE_PARTNER,SECRECY_LEVEL,INVE_FILE,SETUP_DT,DECISION_DT,CREATE_BY,CREATE_DT,UPDATE_BY,UPDATE_DT,GROUP_ID,PROCESS_INST_ID,PROJ_GUID,IS_PLAT,PAUSE_APPLY,PAUSE_DECISION,PROJ_OVERVIEW,INVE_EVALUATION,REMARK,FILE_DESC,MAJOR_MATTER,PROJ_OVERVIEW_ATT,INVE_EVALUATION_ATT,REMARK_ATT,MAJOR_MATTER_ATT,SCORE_RESULT,AREA,EMAIL,EMAIL_PASSWORD,INVE_CREDIT_CODE,PEFOF_NAME,PEFOF_CREDIT_CODE,GROUP_ID_OLD,INVEST_TOGETHER,ADVISORY_COMM_ID,ADVISORY_COMM_NAME,BIZ_PLAN_ATT,PROJ_REPORT_ATT,OTHER_ATT,SUB_FUND_PLAN_AMOUNT,SUB_FUND_PLAN_AMOUNT_CURR,SUB_FUND_PLAN_AMOUNT_RMB,CURRENT_OPERATION_SITUATION,RESERVE_TYPE,UNIQUE_CODING,INSTORAGE_DT,PROJ_PROPERTY,IS_MEETING,PROJ_MC,INDUSTRY_NAME,INDUSTRY,NEW_INDUSTRY,NEW_INDUSTRY_NAME,IS_SPV_FUND_ID,IS_SPV_FUND_NAME,IS_SPV_PROJ,SPV_TYPE,STATUS,IS_REGISTER,IS_REGION,OLD_ENTERPRISE_ID,IS_AFTER_LISTED,INDUSTRY_CATEGORY) values(#{projId,jdbcType=VARCHAR},#{projNo,jdbcType=VARCHAR},#{projName,jdbcType=VARCHAR},#{projType,jdbcType=VARCHAR},#{projStatus,jdbcType=VARCHAR},#{projObject,jdbcType=VARCHAR},#{projObjectName,jdbcType=VARCHAR},#{entePhase,jdbcType=VARCHAR},#{projSrc,jdbcType=VARCHAR},#{srcDesc,jdbcType=VARCHAR},#{inveId,jdbcType=VARCHAR},#{inveName,jdbcType=VARCHAR},#{inveType,jdbcType=VARCHAR},#{chargePartner,jdbcType=VARCHAR},#{secrecyLevel,jdbcType=VARCHAR},#{inveFile,jdbcType=VARCHAR},#{setupDt,jdbcType=TIMESTAMP},#{decisionDt,jdbcType=TIMESTAMP},#{createBy,jdbcType=VARCHAR},#{createDt,jdbcType=TIMESTAMP},#{updateBy,jdbcType=VARCHAR},#{updateDt,jdbcType=TIMESTAMP},#{groupId,jdbcType=NUMERIC},#{processInstId,jdbcType=VARCHAR},#{projGuid,jdbcType=VARCHAR},#{isPlat,jdbcType=VARCHAR},#{pauseApply,jdbcType=VARCHAR},#{pauseDecision,jdbcType=VARCHAR},#{projOverview,jdbcType=VARCHAR},#{inveEvaluation,jdbcType=VARCHAR},#{remark,jdbcType=VARCHAR},#{fileDesc,jdbcType=VARCHAR},#{majorMatter,jdbcType=VARCHAR},#{projOverviewAtt,jdbcType=VARCHAR},#{inveEvaluationAtt,jdbcType=VARCHAR},#{remarkAtt,jdbcType=VARCHAR},#{majorMatterAtt,jdbcType=VARCHAR},#{scoreResult,jdbcType=NUMERIC},#{area,jdbcType=VARCHAR},#{email,jdbcType=VARCHAR},#{emailPassword,jdbcType=VARCHAR},#{inveCreditCode,jdbcType=VARCHAR},#{pefofName,jdbcType=VARCHAR},#{pefofCreditCode,jdbcType=VARCHAR},#{groupIdOld,jdbcType=NUMERIC},#{investTogether,jdbcType=VARCHAR},#{advisoryCommId,jdbcType=VARCHAR},#{advisoryCommName,jdbcType=VARCHAR},#{bizPlanAtt,jdbcType=VARCHAR},#{projReportAtt,jdbcType=VARCHAR},#{otherAtt,jdbcType=VARCHAR},#{subFundPlanAmount,jdbcType=VARCHAR},#{subFundPlanAmountCurr,jdbcType=VARCHAR},#{subFundPlanAmountRmb,jdbcType=VARCHAR},#{currentOperationSituation,jdbcType=VARCHAR},#{reserveType,jdbcType=VARCHAR},#{uniqueCoding,jdbcType=VARCHAR},#{instorageDt,jdbcType=TIMESTAMP},#{projProperty,jdbcType=VARCHAR},#{isMeeting,jdbcType=VARCHAR},#{projMc,jdbcType=VARCHAR},#{industryName,jdbcType=VARCHAR},#{industry,jdbcType=VARCHAR},#{newIndustry,jdbcType=VARCHAR},#{newIndustryName,jdbcType=VARCHAR},#{isSpvFundId,jdbcType=VARCHAR},#{isSpvFundName,jdbcType=VARCHAR},#{isSpvProj,jdbcType=VARCHAR},#{spvType,jdbcType=VARCHAR},#{status,jdbcType=VARCHAR},#{isRegister,jdbcType=VARCHAR},#{isRegion,jdbcType=VARCHAR},#{oldEnterpriseId,jdbcType=VARCHAR},#{isAfterListed,jdbcType=VARCHAR},#{industryCategory,jdbcType=VARCHAR})
	</insert>

	<insert id="insertBatch" parameterType="List">
		INSERT INTO TZ_T_PROJ_INFO (PROJ_ID,PROJ_NO,PROJ_NAME,PROJ_TYPE,PROJ_STATUS,PROJ_OBJECT,PROJ_OBJECT_NAME,ENTE_PHASE,PROJ_SRC,SRC_DESC,INVE_ID,INVE_NAME,INVE_TYPE,CHARGE_PARTNER,SECRECY_LEVEL,INVE_FILE,SETUP_DT,DECISION_DT,CREATE_BY,CREATE_DT,UPDATE_BY,UPDATE_DT,GROUP_ID,PROCESS_INST_ID,PROJ_GUID,IS_PLAT,PAUSE_APPLY,PAUSE_DECISION,PROJ_OVERVIEW,INVE_EVALUATION,REMARK,FILE_DESC,MAJOR_MATTER,PROJ_OVERVIEW_ATT,INVE_EVALUATION_ATT,REMARK_ATT,MAJOR_MATTER_ATT,SCORE_RESULT,AREA,EMAIL,EMAIL_PASSWORD,INVE_CREDIT_CODE,PEFOF_NAME,PEFOF_CREDIT_CODE,GROUP_ID_OLD,INVEST_TOGETHER,ADVISORY_COMM_ID,ADVISORY_COMM_NAME,BIZ_PLAN_ATT,PROJ_REPORT_ATT,OTHER_ATT,SUB_FUND_PLAN_AMOUNT,SUB_FUND_PLAN_AMOUNT_CURR,SUB_FUND_PLAN_AMOUNT_RMB,CURRENT_OPERATION_SITUATION,RESERVE_TYPE,UNIQUE_CODING,INSTORAGE_DT,PROJ_PROPERTY,IS_MEETING,PROJ_MC,INDUSTRY_NAME,INDUSTRY,NEW_INDUSTRY,NEW_INDUSTRY_NAME,IS_SPV_FUND_ID,IS_SPV_FUND_NAME,IS_SPV_PROJ,SPV_TYPE,STATUS,IS_REGISTER,IS_REGION,OLD_ENTERPRISE_ID)
		<foreach collection="list" item="item" index="index" separator="union all">
			( select
			#{item.projId,jdbcType=VARCHAR},
			#{item.projNo,jdbcType=VARCHAR},
			#{item.projName,jdbcType=VARCHAR},
			#{item.projType,jdbcType=VARCHAR},
			#{item.projStatus,jdbcType=VARCHAR},
			#{item.projObject,jdbcType=VARCHAR},
			#{item.projObjectName,jdbcType=VARCHAR},
			#{item.entePhase,jdbcType=VARCHAR},
			#{item.projSrc,jdbcType=VARCHAR},
			#{item.srcDesc,jdbcType=VARCHAR},
			#{item.inveId,jdbcType=VARCHAR},
			#{item.inveName,jdbcType=VARCHAR},
			#{item.inveType,jdbcType=VARCHAR},
			#{item.chargePartner,jdbcType=VARCHAR},
			#{item.secrecyLevel,jdbcType=VARCHAR},
			#{item.inveFile,jdbcType=VARCHAR},
			#{item.setupDt,jdbcType=TIMESTAMP},
			#{item.decisionDt,jdbcType=TIMESTAMP},
			#{item.createBy,jdbcType=VARCHAR},
			#{item.createDt,jdbcType=TIMESTAMP},
			#{item.updateBy,jdbcType=VARCHAR},
			#{item.updateDt,jdbcType=TIMESTAMP},
			#{item.groupId,jdbcType=NUMERIC},
			#{item.processInstId,jdbcType=VARCHAR},
			#{item.projGuid,jdbcType=VARCHAR},
			#{item.isPlat,jdbcType=VARCHAR},
			#{item.pauseApply,jdbcType=VARCHAR},
			#{item.pauseDecision,jdbcType=VARCHAR},
			#{item.projOverview,jdbcType=VARCHAR},
			#{item.inveEvaluation,jdbcType=VARCHAR},
			#{item.remark,jdbcType=VARCHAR},
			#{item.fileDesc,jdbcType=VARCHAR},
			#{item.majorMatter,jdbcType=VARCHAR},
			#{item.projOverviewAtt,jdbcType=VARCHAR},
			#{item.inveEvaluationAtt,jdbcType=VARCHAR},
			#{item.remarkAtt,jdbcType=VARCHAR},
			#{item.majorMatterAtt,jdbcType=VARCHAR},
			#{item.scoreResult,jdbcType=NUMERIC},
			#{item.area,jdbcType=VARCHAR},
			#{item.email,jdbcType=VARCHAR},
			#{item.emailPassword,jdbcType=VARCHAR},
			#{item.inveCreditCode,jdbcType=VARCHAR},
			#{item.pefofName,jdbcType=VARCHAR},
			#{item.pefofCreditCode,jdbcType=VARCHAR},
			#{item.groupIdOld,jdbcType=NUMERIC},
			#{item.investTogether,jdbcType=VARCHAR},
			#{item.advisoryCommId,jdbcType=VARCHAR},
			#{item.advisoryCommName,jdbcType=VARCHAR},
			#{item.bizPlanAtt,jdbcType=VARCHAR},
			#{item.projReportAtt,jdbcType=VARCHAR},
			#{item.otherAtt,jdbcType=VARCHAR},
			#{item.subFundPlanAmount,jdbcType=VARCHAR},
			#{item.subFundPlanAmountCurr,jdbcType=VARCHAR},
			#{item.subFundPlanAmountRmb,jdbcType=VARCHAR},
			#{item.currentOperationSituation,jdbcType=VARCHAR},
			#{item.reserveType,jdbcType=VARCHAR},
			#{item.uniqueCoding,jdbcType=VARCHAR},
			#{item.instorageDt,jdbcType=TIMESTAMP},
			#{item.projProperty,jdbcType=VARCHAR},
			#{item.isMeeting,jdbcType=VARCHAR},
			#{item.projMc,jdbcType=VARCHAR},
			#{item.industryName,jdbcType=VARCHAR},
			#{item.industry,jdbcType=VARCHAR},
			#{item.newIndustry,jdbcType=VARCHAR},
			#{item.newIndustryName,jdbcType=VARCHAR},
			#{item.isSpvFundId,jdbcType=VARCHAR},
			#{item.isSpvFundName,jdbcType=VARCHAR},
			#{item.isSpvProj,jdbcType=VARCHAR},
			#{item.spvType,jdbcType=VARCHAR},
			#{item.status,jdbcType=VARCHAR},
			#{item.isRegister,jdbcType=VARCHAR},
			#{item.isRegion,jdbcType=VARCHAR},
			#{item.oldEnterpriseId,jdbcType=VARCHAR}
			from dual)
		</foreach>
	</insert>

	<delete id="deleteById" parameterType="String">
		DELETE FROM  TZ_T_PROJ_INFO WHERE PROJ_ID = #{projId,jdbcType=VARCHAR}
	</delete>

	<delete id="deletePK" parameterType="com.ppmg.ei.model.ProjInfoModel">
		DELETE FROM TZ_T_PROJ_INFO
		<where>

			<if test="projId != null and projId != ''" >
				PROJ_ID = #{projId,jdbcType=VARCHAR}
			</if>
			<if test="projNo != null and projNo != ''" >
				AND PROJ_NO = #{projNo,jdbcType=VARCHAR}
			</if>
			<if test="projName != null and projName != ''" >
				AND PROJ_NAME = #{projName,jdbcType=VARCHAR}
			</if>
			<if test="projType != null and projType != ''" >
				AND PROJ_TYPE = #{projType,jdbcType=VARCHAR}
			</if>
			<if test="projStatus != null and projStatus != ''" >
				AND PROJ_STATUS = #{projStatus,jdbcType=VARCHAR}
			</if>
			<if test="projObject != null and projObject != ''" >
				AND PROJ_OBJECT = #{projObject,jdbcType=VARCHAR}
			</if>
			<if test="projObjectName != null and projObjectName != ''" >
				AND PROJ_OBJECT_NAME = #{projObjectName,jdbcType=VARCHAR}
			</if>
			<if test="entePhase != null and entePhase != ''" >
				AND ENTE_PHASE = #{entePhase,jdbcType=VARCHAR}
			</if>
			<if test="projSrc != null and projSrc != ''" >
				AND PROJ_SRC = #{projSrc,jdbcType=VARCHAR}
			</if>
			<if test="srcDesc != null and srcDesc != ''" >
				AND SRC_DESC = #{srcDesc,jdbcType=VARCHAR}
			</if>
			<if test="inveId != null and inveId != ''" >
				AND INVE_ID = #{inveId,jdbcType=VARCHAR}
			</if>
			<if test="inveName != null and inveName != ''" >
				AND INVE_NAME = #{inveName,jdbcType=VARCHAR}
			</if>
			<if test="inveType != null and inveType != ''" >
				AND INVE_TYPE = #{inveType,jdbcType=VARCHAR}
			</if>
			<if test="chargePartner != null and chargePartner != ''" >
				AND CHARGE_PARTNER = #{chargePartner,jdbcType=VARCHAR}
			</if>
			<if test="secrecyLevel != null and secrecyLevel != ''" >
				AND SECRECY_LEVEL = #{secrecyLevel,jdbcType=VARCHAR}
			</if>
			<if test="inveFile != null and inveFile != ''" >
				AND INVE_FILE = #{inveFile,jdbcType=VARCHAR}
			</if>
			<if test="setupDt != null" >
				AND SETUP_DT = #{setupDt,jdbcType=VARCHAR}
			</if>
			<if test="decisionDt != null" >
				AND DECISION_DT = #{decisionDt,jdbcType=VARCHAR}
			</if>
			<if test="createBy != null and createBy != ''" >
				AND CREATE_BY = #{createBy,jdbcType=VARCHAR}
			</if>
			<if test="createDt != null" >
				AND CREATE_DT = #{createDt,jdbcType=VARCHAR}
			</if>
			<if test="updateBy != null and updateBy != ''" >
				AND UPDATE_BY = #{updateBy,jdbcType=VARCHAR}
			</if>
			<if test="updateDt != null" >
				AND UPDATE_DT = #{updateDt,jdbcType=VARCHAR}
			</if>
			<if test="groupId != null and groupId != ''" >
				AND GROUP_ID = #{groupId,jdbcType=NUMERIC}
			</if>
			<if test="processInstId != null and processInstId != ''" >
				AND PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR}
			</if>
			<if test="projGuid != null and projGuid != ''" >
				AND PROJ_GUID = #{projGuid,jdbcType=VARCHAR}
			</if>
			<if test="isPlat != null and isPlat != ''" >
				AND IS_PLAT = #{isPlat,jdbcType=VARCHAR}
			</if>
			<if test="pauseApply != null and pauseApply != ''" >
				AND PAUSE_APPLY = #{pauseApply,jdbcType=VARCHAR}
			</if>
			<if test="pauseDecision != null and pauseDecision != ''" >
				AND PAUSE_DECISION = #{pauseDecision,jdbcType=VARCHAR}
			</if>
			<if test="projOverview != null and projOverview != ''" >
				AND PROJ_OVERVIEW = #{projOverview,jdbcType=VARCHAR}
			</if>
			<if test="inveEvaluation != null and inveEvaluation != ''" >
				AND INVE_EVALUATION = #{inveEvaluation,jdbcType=VARCHAR}
			</if>
			<if test="remark != null and remark != ''" >
				AND REMARK = #{remark,jdbcType=VARCHAR}
			</if>
			<if test="fileDesc != null and fileDesc != ''" >
				AND FILE_DESC = #{fileDesc,jdbcType=VARCHAR}
			</if>
			<if test="majorMatter != null and majorMatter != ''" >
				AND MAJOR_MATTER = #{majorMatter,jdbcType=VARCHAR}
			</if>
			<if test="projOverviewAtt != null and projOverviewAtt != ''" >
				AND PROJ_OVERVIEW_ATT = #{projOverviewAtt,jdbcType=VARCHAR}
			</if>
			<if test="inveEvaluationAtt != null and inveEvaluationAtt != ''" >
				AND INVE_EVALUATION_ATT = #{inveEvaluationAtt,jdbcType=VARCHAR}
			</if>
			<if test="remarkAtt != null and remarkAtt != ''" >
				AND REMARK_ATT = #{remarkAtt,jdbcType=VARCHAR}
			</if>
			<if test="majorMatterAtt != null and majorMatterAtt != ''" >
				AND MAJOR_MATTER_ATT = #{majorMatterAtt,jdbcType=VARCHAR}
			</if>
			<if test="scoreResult != null and scoreResult != ''" >
				AND SCORE_RESULT = #{scoreResult,jdbcType=NUMERIC}
			</if>
			<if test="area != null and area != ''" >
				AND AREA = #{area,jdbcType=VARCHAR}
			</if>
			<if test="email != null and email != ''" >
				AND EMAIL = #{email,jdbcType=VARCHAR}
			</if>
			<if test="emailPassword != null and emailPassword != ''" >
				AND EMAIL_PASSWORD = #{emailPassword,jdbcType=VARCHAR}
			</if>
			<if test="inveCreditCode != null and inveCreditCode != ''" >
				AND INVE_CREDIT_CODE = #{inveCreditCode,jdbcType=VARCHAR}
			</if>
			<if test="pefofName != null and pefofName != ''" >
				AND PEFOF_NAME = #{pefofName,jdbcType=VARCHAR}
			</if>
			<if test="pefofCreditCode != null and pefofCreditCode != ''" >
				AND PEFOF_CREDIT_CODE = #{pefofCreditCode,jdbcType=VARCHAR}
			</if>
			<if test="groupIdOld != null and groupIdOld != ''" >
				AND GROUP_ID_OLD = #{groupIdOld,jdbcType=NUMERIC}
			</if>
			<if test="investTogether != null and investTogether != ''" >
				AND INVEST_TOGETHER = #{investTogether,jdbcType=VARCHAR}
			</if>
			<if test="advisoryCommId != null and advisoryCommId != ''" >
				AND ADVISORY_COMM_ID = #{advisoryCommId,jdbcType=VARCHAR}
			</if>
			<if test="advisoryCommName != null and advisoryCommName != ''" >
				AND ADVISORY_COMM_NAME = #{advisoryCommName,jdbcType=VARCHAR}
			</if>
			<if test="bizPlanAtt != null and bizPlanAtt != ''" >
				AND BIZ_PLAN_ATT = #{bizPlanAtt,jdbcType=VARCHAR}
			</if>
			<if test="projReportAtt != null and projReportAtt != ''" >
				AND PROJ_REPORT_ATT = #{projReportAtt,jdbcType=VARCHAR}
			</if>
			<if test="otherAtt != null and otherAtt != ''" >
				AND OTHER_ATT = #{otherAtt,jdbcType=VARCHAR}
			</if>
			<if test="subFundPlanAmount != null and subFundPlanAmount != ''" >
				AND SUB_FUND_PLAN_AMOUNT = #{subFundPlanAmount,jdbcType=VARCHAR}
			</if>
			<if test="subFundPlanAmountCurr != null and subFundPlanAmountCurr != ''" >
				AND SUB_FUND_PLAN_AMOUNT_CURR = #{subFundPlanAmountCurr,jdbcType=VARCHAR}
			</if>
			<if test="subFundPlanAmountRmb != null and subFundPlanAmountRmb != ''" >
				AND SUB_FUND_PLAN_AMOUNT_RMB = #{subFundPlanAmountRmb,jdbcType=VARCHAR}
			</if>
			<if test="currentOperationSituation != null and currentOperationSituation != ''" >
				AND CURRENT_OPERATION_SITUATION = #{currentOperationSituation,jdbcType=VARCHAR}
			</if>
			<if test="reserveType != null and reserveType != ''" >
				AND RESERVE_TYPE = #{reserveType,jdbcType=VARCHAR}
			</if>
			<if test="uniqueCoding != null and uniqueCoding != ''" >
				AND UNIQUE_CODING = #{uniqueCoding,jdbcType=VARCHAR}
			</if>
			<if test="instorageDt != null" >
				AND INSTORAGE_DT = #{instorageDt,jdbcType=VARCHAR}
			</if>
			<if test="projProperty != null and projProperty != ''" >
				AND PROJ_PROPERTY = #{projProperty,jdbcType=VARCHAR}
			</if>
			<if test="isMeeting != null and isMeeting != ''" >
				AND IS_MEETING = #{isMeeting,jdbcType=VARCHAR}
			</if>

			<if test="projMc != null and projMc != ''" >
				AND PROJ_MC = #{projMc,jdbcType=VARCHAR}
			</if>
			<if test="industryName != null and industryName != ''" >
				AND INDUSTRY_NAME = #{industryName,jdbcType=VARCHAR}
			</if>
			<if test="industry != null and industry != ''" >
				AND INDUSTRY = #{industry,jdbcType=VARCHAR}
			</if>
			<if test="newIndustry != null and newIndustry != ''" >
				AND NEW_INDUSTRY = #{newIndustry,jdbcType=VARCHAR}
			</if>
			<if test="newIndustryName != null and newIndustryName != ''" >
				AND NEW_INDUSTRY_NAME = #{newIndustryName,jdbcType=VARCHAR}
			</if>
			<if test="isSpvFundId != null and isSpvFundId != ''" >
				AND IS_SPV_FUND_ID = #{isSpvFundId,jdbcType=VARCHAR}
			</if>
			<if test="isSpvFundName != null and isSpvFundName != ''" >
				AND IS_SPV_FUND_NAME = #{isSpvFundName,jdbcType=VARCHAR}
			</if>
			<if test="isSpvProj != null and isSpvProj != ''" >
				AND IS_SPV_PROJ = #{isSpvProj,jdbcType=VARCHAR}
			</if>
			<if test="spvType != null and spvType != ''" >
				AND SPV_TYPE = #{spvType,jdbcType=VARCHAR}
			</if>
			<if test="status != null and status != ''" >
				AND STATUS = #{status,jdbcType=VARCHAR}
			</if>

		</where>
	</delete>

	<delete id="deleteBatch" parameterType="List">
		DELETE FROM  TZ_T_PROJ_INFO WHERE PROJ_ID IN
		<foreach collection="array" item="item" open="(" separator="," close=")">
			#{item}
		</foreach>
	</delete>

	<update id="updatePK" parameterType="com.ppmg.ei.model.ProjInfoModel">
		UPDATE TZ_T_PROJ_INFO
		<set>
			<if test="projId != null and projId != ''" >
				PROJ_ID = #{projId,jdbcType=VARCHAR},
			</if>
			<if test="projNo != null and projNo != ''" >
				 PROJ_NO = #{projNo,jdbcType=VARCHAR},
			</if>
			<if test="projName != null and projName != ''" >
				 PROJ_NAME = #{projName,jdbcType=VARCHAR},
			</if>
			<if test="projType != null and projType != ''" >
				 PROJ_TYPE = #{projType,jdbcType=VARCHAR},
			</if>
			<if test="projStatus != null and projStatus != ''" >
				 PROJ_STATUS = #{projStatus,jdbcType=VARCHAR},
			</if>
			<if test="projObject != null and projObject != ''" >
				 PROJ_OBJECT = #{projObject,jdbcType=VARCHAR},
			</if>
			<if test="projObjectName != null and projObjectName != ''" >
				 PROJ_OBJECT_NAME = #{projObjectName,jdbcType=VARCHAR},
			</if>
			<if test="entePhase != null and entePhase != ''" >
				 ENTE_PHASE = #{entePhase,jdbcType=VARCHAR},
			</if>
			<if test="projSrc != null and projSrc != ''" >
				 PROJ_SRC = #{projSrc,jdbcType=VARCHAR},
			</if>
			<if test="srcDesc != null and srcDesc != ''" >
				 SRC_DESC = #{srcDesc,jdbcType=VARCHAR},
			</if>
			<if test="inveId != null and inveId != ''" >
				 INVE_ID = #{inveId,jdbcType=VARCHAR},
			</if>
			<if test="inveName != null and inveName != ''" >
				 INVE_NAME = #{inveName,jdbcType=VARCHAR},
			</if>
			<if test="inveType != null and inveType != ''" >
				 INVE_TYPE = #{inveType,jdbcType=VARCHAR},
			</if>
			<if test="chargePartner != null and chargePartner != ''" >
				 CHARGE_PARTNER = #{chargePartner,jdbcType=VARCHAR},
			</if>
			<if test="secrecyLevel != null and secrecyLevel != ''" >
				 SECRECY_LEVEL = #{secrecyLevel,jdbcType=VARCHAR},
			</if>
			<if test="inveFile != null and inveFile != ''" >
				 INVE_FILE = #{inveFile,jdbcType=VARCHAR},
			</if>
			<if test="setupDt != null" >
				 SETUP_DT = #{setupDt,jdbcType=VARCHAR},
			</if>
			<if test="decisionDt != null" >
				 DECISION_DT = #{decisionDt,jdbcType=VARCHAR},
			</if>
			<if test="updateBy != null and updateBy != ''" >
				 UPDATE_BY = #{updateBy,jdbcType=VARCHAR},
			</if>
			<if test="updateDt != null" >
				 UPDATE_DT = #{updateDt,jdbcType=VARCHAR},
			</if>
			<if test="groupId != null and groupId != ''" >
				 GROUP_ID = #{groupId,jdbcType=NUMERIC},
			</if>
			<if test="processInstId != null and processInstId != ''" >
				 PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR},
			</if>
			<if test="projGuid != null and projGuid != ''" >
				 PROJ_GUID = #{projGuid,jdbcType=VARCHAR},
			</if>
			<if test="isPlat != null and isPlat != ''" >
				 IS_PLAT = #{isPlat,jdbcType=VARCHAR},
			</if>
			<if test="pauseApply != null and pauseApply != ''" >
				 PAUSE_APPLY = #{pauseApply,jdbcType=VARCHAR},
			</if>
			<if test="pauseDecision != null and pauseDecision != ''" >
				 PAUSE_DECISION = #{pauseDecision,jdbcType=VARCHAR},
			</if>
			<if test="projOverview != null and projOverview != ''" >
				 PROJ_OVERVIEW = #{projOverview,jdbcType=VARCHAR},
			</if>
			<if test="inveEvaluation != null and inveEvaluation != ''" >
				 INVE_EVALUATION = #{inveEvaluation,jdbcType=VARCHAR},
			</if>
			<if test="remark != null and remark != ''" >
				 REMARK = #{remark,jdbcType=VARCHAR},
			</if>
			<if test="fileDesc != null and fileDesc != ''" >
				 FILE_DESC = #{fileDesc,jdbcType=VARCHAR},
			</if>
			<if test="majorMatter != null and majorMatter != ''" >
				 MAJOR_MATTER = #{majorMatter,jdbcType=VARCHAR},
			</if>
			<if test="projOverviewAtt != null and projOverviewAtt != ''" >
				 PROJ_OVERVIEW_ATT = #{projOverviewAtt,jdbcType=VARCHAR},
			</if>
			<if test="inveEvaluationAtt != null and inveEvaluationAtt != ''" >
				 INVE_EVALUATION_ATT = #{inveEvaluationAtt,jdbcType=VARCHAR},
			</if>
			<if test="remarkAtt != null and remarkAtt != ''" >
				 REMARK_ATT = #{remarkAtt,jdbcType=VARCHAR},
			</if>
			<if test="majorMatterAtt != null and majorMatterAtt != ''" >
				 MAJOR_MATTER_ATT = #{majorMatterAtt,jdbcType=VARCHAR},
			</if>
			<if test="scoreResult != null and scoreResult != ''" >
				 SCORE_RESULT = #{scoreResult,jdbcType=NUMERIC},
			</if>
			<if test="area != null and area != ''" >
				 AREA = #{area,jdbcType=VARCHAR},
			</if>
			<if test="email != null and email != ''" >
				 EMAIL = #{email,jdbcType=VARCHAR},
			</if>
			<if test="emailPassword != null and emailPassword != ''" >
				 EMAIL_PASSWORD = #{emailPassword,jdbcType=VARCHAR},
			</if>
			<if test="inveCreditCode != null and inveCreditCode != ''" >
				 INVE_CREDIT_CODE = #{inveCreditCode,jdbcType=VARCHAR},
			</if>
			<if test="pefofName != null and pefofName != ''" >
				 PEFOF_NAME = #{pefofName,jdbcType=VARCHAR},
			</if>
			<if test="pefofCreditCode != null and pefofCreditCode != ''" >
				 PEFOF_CREDIT_CODE = #{pefofCreditCode,jdbcType=VARCHAR},
			</if>
			<if test="groupIdOld != null and groupIdOld != ''" >
				 GROUP_ID_OLD = #{groupIdOld,jdbcType=NUMERIC},
			</if>
			<if test="investTogether != null and investTogether != ''" >
				 INVEST_TOGETHER = #{investTogether,jdbcType=VARCHAR},
			</if>
			<if test="advisoryCommId != null and advisoryCommId != ''" >
				 ADVISORY_COMM_ID = #{advisoryCommId,jdbcType=VARCHAR},
			</if>
			<if test="advisoryCommName != null and advisoryCommName != ''" >
				 ADVISORY_COMM_NAME = #{advisoryCommName,jdbcType=VARCHAR},
			</if>
			<if test="bizPlanAtt != null and bizPlanAtt != ''" >
				 BIZ_PLAN_ATT = #{bizPlanAtt,jdbcType=VARCHAR},
			</if>
			<if test="projReportAtt != null and projReportAtt != ''" >
				 PROJ_REPORT_ATT = #{projReportAtt,jdbcType=VARCHAR},
			</if>
			<if test="otherAtt != null and otherAtt != ''" >
				 OTHER_ATT = #{otherAtt,jdbcType=VARCHAR},
			</if>
			<if test="subFundPlanAmount != null and subFundPlanAmount != ''" >
				 SUB_FUND_PLAN_AMOUNT = #{subFundPlanAmount,jdbcType=VARCHAR},
			</if>
			<if test="subFundPlanAmountCurr != null and subFundPlanAmountCurr != ''" >
				 SUB_FUND_PLAN_AMOUNT_CURR = #{subFundPlanAmountCurr,jdbcType=VARCHAR},
			</if>
			<if test="subFundPlanAmountRmb != null and subFundPlanAmountRmb != ''" >
				 SUB_FUND_PLAN_AMOUNT_RMB = #{subFundPlanAmountRmb,jdbcType=VARCHAR},
			</if>
			<if test="currentOperationSituation != null and currentOperationSituation != ''" >
				 CURRENT_OPERATION_SITUATION = #{currentOperationSituation,jdbcType=VARCHAR},
			</if>
			<if test="reserveType != null and reserveType != ''" >
				 RESERVE_TYPE = #{reserveType,jdbcType=VARCHAR},
			</if>
			<if test="uniqueCoding != null and uniqueCoding != ''" >
				 UNIQUE_CODING = #{uniqueCoding,jdbcType=VARCHAR},
			</if>
			<if test="instorageDt != null" >
				 INSTORAGE_DT = #{instorageDt,jdbcType=VARCHAR},
			</if>
			<if test="projProperty != null and projProperty != ''" >
				 PROJ_PROPERTY = #{projProperty,jdbcType=VARCHAR},
			</if>
			<if test="isMeeting != null and isMeeting != ''" >
				 IS_MEETING = #{isMeeting,jdbcType=VARCHAR},
			</if>
			<if test="projMc != null and projMc != ''" >
				 PROJ_MC = #{projMc,jdbcType=VARCHAR},
			</if>
			<if test="industryName != null and industryName != ''" >
				 INDUSTRY_NAME = #{industryName,jdbcType=VARCHAR},
			</if>
			<if test="industry != null and industry != ''" >
				 INDUSTRY = #{industry,jdbcType=VARCHAR},
			</if>
			<if test="newIndustry != null " >
				NEW_INDUSTRY = #{newIndustry,jdbcType=VARCHAR},
			</if>
			<if test="newIndustryName != null " >
				NEW_INDUSTRY_NAME = #{newIndustryName,jdbcType=VARCHAR},
			</if>
			<if test="isSpvFundId != null and isSpvFundId != ''" >
				 IS_SPV_FUND_ID = #{isSpvFundId,jdbcType=VARCHAR},
			</if>
			<if test="isSpvFundName != null and isSpvFundName != ''" >
				 IS_SPV_FUND_NAME = #{isSpvFundName,jdbcType=VARCHAR},
			</if>
			<if test="isSpvProj != null and isSpvProj != ''" >
				 IS_SPV_PROJ = #{isSpvProj,jdbcType=VARCHAR},
			</if>
			<if test="spvType != null and spvType != ''" >
				 SPV_TYPE = #{spvType,jdbcType=VARCHAR},
			</if>
			<if test="status != null and status != ''" >
				STATUS = #{status,jdbcType=VARCHAR},
			</if>
			<if test="isRegister != null and isRegister != ''" >
				IS_REGISTER = #{isRegister,jdbcType=VARCHAR},
			</if>
			<if test="isRegion != null and isRegion != ''" >
				IS_REGION = #{isRegion,jdbcType=VARCHAR},
			</if>
			<if test="oldEnterpriseId != null and oldEnterpriseId != ''" >
				 OLD_ENTERPRISE_ID = #{oldEnterpriseId,jdbcType=VARCHAR},
			</if>
			<if test="isAfterListed != null and isAfterListed != ''" >
				IS_AFTER_LISTED = #{isAfterListed,jdbcType=VARCHAR},
			</if>
			<if test="industryCategory != null and industryCategory != ''" >
				INDUSTRY_CATEGORY = #{industryCategory,jdbcType=VARCHAR},
			</if>

		</set>
		WHERE PROJ_ID = #{projId,jdbcType=VARCHAR}
	</update>

	<select id="selectById" parameterType="String" resultMap="ProjInfoResult">
		SELECT * FROM TZ_T_PROJ_INFO WHERE PROJ_ID = #{projId,jdbcType=VARCHAR}
	</select>

	<select id="selectBy" parameterType="com.ppmg.ei.model.ProjInfoModel" resultMap="ProjInfoResult">
		SELECT * FROM TZ_T_PROJ_INFO
		<where>
			<if test="projId != null and projId != ''" >
				PROJ_ID = #{projId,jdbcType=VARCHAR}
			</if>
			<if test="projNo != null and projNo != ''" >
				AND PROJ_NO = #{projNo,jdbcType=VARCHAR}
			</if>
			<if test="projName != null and projName != ''" >
				AND PROJ_NAME = #{projName,jdbcType=VARCHAR}
			</if>
			<if test="projType != null and projType != ''" >
				AND PROJ_TYPE = #{projType,jdbcType=VARCHAR}
			</if>
			<if test="projStatus != null and projStatus != ''" >
				AND PROJ_STATUS = #{projStatus,jdbcType=VARCHAR}
			</if>
			<if test="projObject != null and projObject != ''" >
				AND PROJ_OBJECT = #{projObject,jdbcType=VARCHAR}
			</if>
			<if test="projObjectName != null and projObjectName != ''" >
				AND PROJ_OBJECT_NAME = #{projObjectName,jdbcType=VARCHAR}
			</if>
			<if test="entePhase != null and entePhase != ''" >
				AND ENTE_PHASE = #{entePhase,jdbcType=VARCHAR}
			</if>
			<if test="projSrc != null and projSrc != ''" >
				AND PROJ_SRC = #{projSrc,jdbcType=VARCHAR}
			</if>
			<if test="srcDesc != null and srcDesc != ''" >
				AND SRC_DESC = #{srcDesc,jdbcType=VARCHAR}
			</if>
			<if test="inveId != null and inveId != ''" >
				AND INVE_ID = #{inveId,jdbcType=VARCHAR}
			</if>
			<if test="inveName != null and inveName != ''" >
				AND INVE_NAME = #{inveName,jdbcType=VARCHAR}
			</if>
			<if test="inveType != null and inveType != ''" >
				AND INVE_TYPE = #{inveType,jdbcType=VARCHAR}
			</if>
			<if test="chargePartner != null and chargePartner != ''" >
				AND CHARGE_PARTNER = #{chargePartner,jdbcType=VARCHAR}
			</if>
			<if test="secrecyLevel != null and secrecyLevel != ''" >
				AND SECRECY_LEVEL = #{secrecyLevel,jdbcType=VARCHAR}
			</if>
			<if test="inveFile != null and inveFile != ''" >
				AND INVE_FILE = #{inveFile,jdbcType=VARCHAR}
			</if>
			<if test="setupDt != null" >
				AND SETUP_DT = #{setupDt,jdbcType=VARCHAR}
			</if>
			<if test="decisionDt != null" >
				AND DECISION_DT = #{decisionDt,jdbcType=VARCHAR}
			</if>
			<if test="createBy != null and createBy != ''" >
				AND CREATE_BY = #{createBy,jdbcType=VARCHAR}
			</if>
			<if test="createDt != null" >
				AND CREATE_DT = #{createDt,jdbcType=VARCHAR}
			</if>
			<if test="updateBy != null and updateBy != ''" >
				AND UPDATE_BY = #{updateBy,jdbcType=VARCHAR}
			</if>
			<if test="updateDt != null" >
				AND UPDATE_DT = #{updateDt,jdbcType=VARCHAR}
			</if>
			<if test="groupId != null and groupId != ''" >
				AND GROUP_ID = #{groupId,jdbcType=NUMERIC}
			</if>
			<if test="processInstId != null and processInstId != ''" >
				AND PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR}
			</if>
			<if test="projGuid != null and projGuid != ''" >
				AND PROJ_GUID = #{projGuid,jdbcType=VARCHAR}
			</if>
			<if test="isPlat != null and isPlat != ''" >
				AND IS_PLAT = #{isPlat,jdbcType=VARCHAR}
			</if>
			<if test="pauseApply != null and pauseApply != ''" >
				AND PAUSE_APPLY = #{pauseApply,jdbcType=VARCHAR}
			</if>
			<if test="pauseDecision != null and pauseDecision != ''" >
				AND PAUSE_DECISION = #{pauseDecision,jdbcType=VARCHAR}
			</if>
			<if test="projOverview != null and projOverview != ''" >
				AND PROJ_OVERVIEW = #{projOverview,jdbcType=VARCHAR}
			</if>
			<if test="inveEvaluation != null and inveEvaluation != ''" >
				AND INVE_EVALUATION = #{inveEvaluation,jdbcType=VARCHAR}
			</if>
			<if test="remark != null and remark != ''" >
				AND REMARK = #{remark,jdbcType=VARCHAR}
			</if>
			<if test="fileDesc != null and fileDesc != ''" >
				AND FILE_DESC = #{fileDesc,jdbcType=VARCHAR}
			</if>
			<if test="majorMatter != null and majorMatter != ''" >
				AND MAJOR_MATTER = #{majorMatter,jdbcType=VARCHAR}
			</if>
			<if test="projOverviewAtt != null and projOverviewAtt != ''" >
				AND PROJ_OVERVIEW_ATT = #{projOverviewAtt,jdbcType=VARCHAR}
			</if>
			<if test="inveEvaluationAtt != null and inveEvaluationAtt != ''" >
				AND INVE_EVALUATION_ATT = #{inveEvaluationAtt,jdbcType=VARCHAR}
			</if>
			<if test="remarkAtt != null and remarkAtt != ''" >
				AND REMARK_ATT = #{remarkAtt,jdbcType=VARCHAR}
			</if>
			<if test="majorMatterAtt != null and majorMatterAtt != ''" >
				AND MAJOR_MATTER_ATT = #{majorMatterAtt,jdbcType=VARCHAR}
			</if>
			<if test="scoreResult != null and scoreResult != ''" >
				AND SCORE_RESULT = #{scoreResult,jdbcType=NUMERIC}
			</if>
			<if test="area != null and area != ''" >
				AND AREA = #{area,jdbcType=VARCHAR}
			</if>
			<if test="email != null and email != ''" >
				AND EMAIL = #{email,jdbcType=VARCHAR}
			</if>
			<if test="emailPassword != null and emailPassword != ''" >
				AND EMAIL_PASSWORD = #{emailPassword,jdbcType=VARCHAR}
			</if>
			<if test="inveCreditCode != null and inveCreditCode != ''" >
				AND INVE_CREDIT_CODE = #{inveCreditCode,jdbcType=VARCHAR}
			</if>
			<if test="pefofName != null and pefofName != ''" >
				AND PEFOF_NAME = #{pefofName,jdbcType=VARCHAR}
			</if>
			<if test="pefofCreditCode != null and pefofCreditCode != ''" >
				AND PEFOF_CREDIT_CODE = #{pefofCreditCode,jdbcType=VARCHAR}
			</if>
			<if test="groupIdOld != null and groupIdOld != ''" >
				AND GROUP_ID_OLD = #{groupIdOld,jdbcType=NUMERIC}
			</if>
			<if test="investTogether != null and investTogether != ''" >
				AND INVEST_TOGETHER = #{investTogether,jdbcType=VARCHAR}
			</if>
			<if test="advisoryCommId != null and advisoryCommId != ''" >
				AND ADVISORY_COMM_ID = #{advisoryCommId,jdbcType=VARCHAR}
			</if>
			<if test="advisoryCommName != null and advisoryCommName != ''" >
				AND ADVISORY_COMM_NAME = #{advisoryCommName,jdbcType=VARCHAR}
			</if>
			<if test="bizPlanAtt != null and bizPlanAtt != ''" >
				AND BIZ_PLAN_ATT = #{bizPlanAtt,jdbcType=VARCHAR}
			</if>
			<if test="projReportAtt != null and projReportAtt != ''" >
				AND PROJ_REPORT_ATT = #{projReportAtt,jdbcType=VARCHAR}
			</if>
			<if test="otherAtt != null and otherAtt != ''" >
				AND OTHER_ATT = #{otherAtt,jdbcType=VARCHAR}
			</if>
			<if test="subFundPlanAmount != null and subFundPlanAmount != ''" >
				AND SUB_FUND_PLAN_AMOUNT = #{subFundPlanAmount,jdbcType=VARCHAR}
			</if>
			<if test="subFundPlanAmountCurr != null and subFundPlanAmountCurr != ''" >
				AND SUB_FUND_PLAN_AMOUNT_CURR = #{subFundPlanAmountCurr,jdbcType=VARCHAR}
			</if>
			<if test="subFundPlanAmountRmb != null and subFundPlanAmountRmb != ''" >
				AND SUB_FUND_PLAN_AMOUNT_RMB = #{subFundPlanAmountRmb,jdbcType=VARCHAR}
			</if>
			<if test="currentOperationSituation != null and currentOperationSituation != ''" >
				AND CURRENT_OPERATION_SITUATION = #{currentOperationSituation,jdbcType=VARCHAR}
			</if>
			<if test="reserveType != null and reserveType != ''" >
				AND RESERVE_TYPE = #{reserveType,jdbcType=VARCHAR}
			</if>
			<if test="uniqueCoding != null and uniqueCoding != ''" >
				AND UNIQUE_CODING = #{uniqueCoding,jdbcType=VARCHAR}
			</if>
			<if test="instorageDt != null" >
				AND INSTORAGE_DT = #{instorageDt,jdbcType=VARCHAR}
			</if>
			<if test="projProperty != null and projProperty != ''" >
				AND PROJ_PROPERTY = #{projProperty,jdbcType=VARCHAR}
			</if>
			<if test="isMeeting != null and isMeeting != ''" >
				AND IS_MEETING = #{isMeeting,jdbcType=VARCHAR}
			</if>
			<if test="projMc != null and projMc != ''" >
				AND PROJ_MC = #{projMc,jdbcType=VARCHAR}
			</if>
			<if test="industryName != null and industryName != ''" >
				AND INDUSTRY_NAME = #{industryName,jdbcType=VARCHAR}
			</if>
			<if test="industry != null and industry != ''" >
				AND INDUSTRY = #{industry,jdbcType=VARCHAR}
			</if>
			<if test="newIndustry != null and newIndustry != ''" >
				AND NEW_INDUSTRY = #{newIndustry,jdbcType=VARCHAR}
			</if>
			<if test="newIndustryName != null and newIndustryName != ''" >
				AND NEW_INDUSTRY_NAME = #{newIndustryName,jdbcType=VARCHAR}
			</if>
			<if test="isSpvFundId != null and isSpvFundId != ''" >
				AND IS_SPV_FUND_ID = #{isSpvFundId,jdbcType=VARCHAR}
			</if>
			<if test="isSpvFundName != null and isSpvFundName != ''" >
				AND IS_SPV_FUND_NAME = #{isSpvFundName,jdbcType=VARCHAR}
			</if>
			<if test="isSpvProj != null and isSpvProj != ''" >
				AND IS_SPV_PROJ = #{isSpvProj,jdbcType=VARCHAR}
			</if>
			<if test="spvType != null and spvType != ''" >
				AND SPV_TYPE = #{spvType,jdbcType=VARCHAR}
			</if>
			<if test="status != null and status != ''" >
				AND STATUS = #{status,jdbcType=VARCHAR}
			</if>
			<if test="isRegister != null and isRegister != ''" >
				AND IS_REGISTER = #{isRegister,jdbcType=VARCHAR},
			</if>
			<if test="isRegion != null and isRegion != ''" >
			  AND IS_REGION = #{isRegion,jdbcType=VARCHAR},
		    </if>
			<if test="oldEnterpriseId != null and oldEnterpriseId != ''" >
				AND OLD_ENTERPRISE_ID = #{oldEnterpriseId,jdbcType=VARCHAR},
			</if>
		</where>
	</select>

	<sql id="searchSql">
		SELECT P.*,
		RTrim(to_char(NVL(A.RMB_INTENDED_AMOUNT, 0) / 10000, 'FM99999999990.99'), '.')  as INVEST_AMOUNT_DISPLAY,
		T3.MEMBER_ID||','||P.CHARGE_PARTNER AS PROJ_MEMBERS, T4.CURRENT_RATIO,T4.SIGN_DT,
		RTrim(to_char(NVL(T4.SIGN_AMOUNT_RMB, 0) / 10000, 'FM99999999990.99'), '.') SIGN_AMOUNT_DISPLAY
		FROM TZ_T_PROJ_INFO P
		LEFT JOIN TZ_T_PROJ_APP_INFO A ON P.PROJ_ID=A.PROJ_ID
		LEFT JOIN (SELECT T2.PROJ_ID, wm_concat(T2.MEMBER_ID) MEMBER_ID
		FROM TZ_T_PROJ_MEMBER T2
		WHERE T2.IS_PM IN (0, 1)
		GROUP BY T2.PROJ_ID) T3
		ON P.PROJ_ID = T3.PROJ_ID
		LEFT JOIN (SELECT ROW_NUMBER() OVER(PARTITION BY X2.PROJ_ID ORDER BY X2.CREATE_DT DESC) RN,
		X2.*
		FROM TZ_T_PROJ_CONTRACT_FILE X2
		WHERE X2.FILE_TYPE = '1') T4
		ON P.PROJ_ID = T4.PROJ_ID
		AND T4.RN = 1
		<where>
			<include refid="searchCondition.searchClause" />

			<if test='paramMap.INVE_ID != null and paramMap.INVE_ID != ""' >
				and P.INVE_ID = ${paramMap.INVE_ID}
			</if>
			<if test='paramMap.keyword != null and paramMap.keyword != ""' >
				<bind name="pattern" value="'%' + paramMap.keyword + '%'" />
				AND (P.PROJ_NAME like #{pattern} OR P.PROJ_OBJECT_NAME like #{pattern}  )
			</if>
		</where>
		ORDER BY P.DECISION_DT DESC
	</sql>

	<select id="selectListPage" resultMap="ProjInfoResult4" parameterType="com.founder.ssm.core.common.SearchCondition">
		<include refid="searchSql" />
	</select>
	<select id="selectListInfoPage" resultMap="ProjInfoResult" parameterType="com.founder.ssm.core.common.SearchCondition">
		select a.* from EI.TZ_T_PROJ_INFO a
		<where>
		and a.group_id !='1'
			<include refid="searchCondition.searchClause" />
		</where>
		order by a.CREATE_DT desc
	</select>


	<select id="selectProjInfoListPage" resultMap="ProjInfoResult7" parameterType="com.founder.ssm.core.common.SearchCondition">
		<include refid="searchSql3" />
	</select>
	<select id="selectProjListPage" resultMap="ProjInfoResult10" parameterType="com.founder.ssm.core.common.SearchCondition">
		<include refid="searchSql10" />
	</select>
	<sql id="searchSql10">
		SELECT a.* FROM (
		select
		a.*,
		b.IS_RECORD,
		d.IS_FIT,
		c.INTENDED_AMOUNT as INTENDED_AMOUNT,
		c.ACTUAL_AMOUNT as ACTUAL_AMOUNT,
		c.PER_SHARE as PER_SHARE
		from  EI.TZ_T_PROJ_INFO a
		INNER join  EI.BD_T_FUND_INFO b  ON  a.PROJ_OBJECT=b.FUND_ID and b.group_id='1' and b.status!='2'
		left join TZ_T_PROJ_APP_INFO c on  c.PROJ_ID=a.PROJ_ID
		left join  EI.BD_T_FUND_INFO d  ON  a.INVE_ID=d.FUND_ID and d.group_id='1' and d.status!='2'
		WHERE a.proj_type in(2,4) and a.group_id='1' and a.status!='2'  and b.fund_src in(2,4)
		<if test='paramMap.userId != null and paramMap.userId != ""' >
			AND	a.inve_id IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.userId})
		</if>
		union all
		select
		a.*,
		'' AS IS_RECORD,
		d.IS_FIT,
		c.INTENDED_AMOUNT as INTENDED_AMOUNT,
		c.ACTUAL_AMOUNT as ACTUAL_AMOUNT,
		c.PER_SHARE as PER_SHARE
		from  EI.TZ_T_PROJ_INFO a
		left join  EI.BD_T_FUND_INFO d  ON  a.INVE_ID=d.FUND_ID and d.group_id='1' and d.status!='2'
		left join TZ_T_PROJ_APP_INFO c on  c.PROJ_ID=a.PROJ_ID
		WHERE a.proj_type='1' and a.group_id='1' and a.status!='2'
		<if test='paramMap.userId != null and paramMap.userId != ""' >
			AND	a.inve_id IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.userId})
		</if>
		)a
		<where>

			<if test="searchBean.keyword!='' and searchBean.keyword!=null">
				<bind name="pattern" value="'%' + searchBean.keyword + '%'" />
				AND ( a.PROJ_NAME like #{pattern} )
			</if>
			<include refid="searchCondition.searchClause" />
		</where>
		ORDER BY a.update_dt desc
	</sql>

	<sql id="searchSql3">
		select a.*,b.MC_NAME,d.INTENDED_AMOUNT,c.SUM_INVE_AMOUNT from EI.TZ_T_PROJ_INFO a
		left join EI.BD_T_FUND_INFO b on a.INVE_ID=b.FUND_ID
		left join EI.XJL_T_PAYMENT_REQUEST c on c.PROJECT_OR_FUND_ID=a.PROJ_ID
		left join EI.TZ_T_PROJ_APP_INFO d on d.PROJ_ID=a.PROJ_ID
		<where>
			PROJ_TYPE='1'
			<include refid="searchCondition.searchClause" />
		</where>
		ORDER BY a.CREATE_DT DESC
	</sql>
	<sql id="searchSql1">
		SELECT * FROM  EI.TZ_T_PROJ_INFO
		<where>
			<if test="searchBean.keyword!='' and searchBean.keyword!=null">
				<bind name="pattern" value="'%' + searchBean.keyword + '%'" />
				AND ( FUND_NAME like #{pattern} OR YEAR like #{pattern} or QUARTER like #{pattern} )
			</if>
			<include refid="searchCondition.searchClause" />
		</where>
	</sql>
	<select id="selectProjInfoPage" resultMap="ProjInfoResult" parameterType="com.founder.ssm.core.common.SearchCondition">
		<include refid="searchSql1" />
	</select>
	<select id="selectCount" resultType="Integer" parameterType="com.founder.ssm.core.common.SearchCondition">
		SELECT COUNT(*) FROM (
		<include refid="searchSql" />
		) t
	</select>

	<select id="selectCountBy" resultType="Integer" parameterType="com.ppmg.ei.model.ProjInfoModel">
		SELECT COUNT(*) FROM TZ_T_PROJ_INFO
		<where>
			<if test="projId != null and projId != ''" >
				PROJ_ID = #{projId,jdbcType=VARCHAR}
			</if>
			<if test="projNo != null and projNo != ''" >
				AND PROJ_NO = #{projNo,jdbcType=VARCHAR}
			</if>
			<if test="projName != null and projName != ''" >
				AND PROJ_NAME = #{projName,jdbcType=VARCHAR}
			</if>
			<if test="projType != null and projType != ''" >
				AND PROJ_TYPE = #{projType,jdbcType=VARCHAR}
			</if>
			<if test="projStatus != null and projStatus != ''" >
				AND PROJ_STATUS = #{projStatus,jdbcType=VARCHAR}
			</if>
			<if test="projObject != null and projObject != ''" >
				AND PROJ_OBJECT = #{projObject,jdbcType=VARCHAR}
			</if>
			<if test="projObjectName != null and projObjectName != ''" >
				AND PROJ_OBJECT_NAME = #{projObjectName,jdbcType=VARCHAR}
			</if>
			<if test="entePhase != null and entePhase != ''" >
				AND ENTE_PHASE = #{entePhase,jdbcType=VARCHAR}
			</if>
			<if test="projSrc != null and projSrc != ''" >
				AND PROJ_SRC = #{projSrc,jdbcType=VARCHAR}
			</if>
			<if test="srcDesc != null and srcDesc != ''" >
				AND SRC_DESC = #{srcDesc,jdbcType=VARCHAR}
			</if>
			<if test="inveId != null and inveId != ''" >
				AND INVE_ID = #{inveId,jdbcType=VARCHAR}
			</if>
			<if test="inveName != null and inveName != ''" >
				AND INVE_NAME = #{inveName,jdbcType=VARCHAR}
			</if>
			<if test="inveType != null and inveType != ''" >
				AND INVE_TYPE = #{inveType,jdbcType=VARCHAR}
			</if>
			<if test="chargePartner != null and chargePartner != ''" >
				AND CHARGE_PARTNER = #{chargePartner,jdbcType=VARCHAR}
			</if>
			<if test="secrecyLevel != null and secrecyLevel != ''" >
				AND SECRECY_LEVEL = #{secrecyLevel,jdbcType=VARCHAR}
			</if>
			<if test="inveFile != null and inveFile != ''" >
				AND INVE_FILE = #{inveFile,jdbcType=VARCHAR}
			</if>
			<if test="setupDt != null" >
				AND SETUP_DT = #{setupDt,jdbcType=VARCHAR}
			</if>
			<if test="decisionDt != null" >
				AND DECISION_DT = #{decisionDt,jdbcType=VARCHAR}
			</if>
			<if test="createBy != null and createBy != ''" >
				AND CREATE_BY = #{createBy,jdbcType=VARCHAR}
			</if>
			<if test="createDt != null" >
				AND CREATE_DT = #{createDt,jdbcType=VARCHAR}
			</if>
			<if test="updateBy != null and updateBy != ''" >
				AND UPDATE_BY = #{updateBy,jdbcType=VARCHAR}
			</if>
			<if test="updateDt != null" >
				AND UPDATE_DT = #{updateDt,jdbcType=VARCHAR}
			</if>
			<if test="groupId != null and groupId != ''" >
				AND GROUP_ID = #{groupId,jdbcType=NUMERIC}
			</if>
			<if test="processInstId != null and processInstId != ''" >
				AND PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR}
			</if>
			<if test="projGuid != null and projGuid != ''" >
				AND PROJ_GUID = #{projGuid,jdbcType=VARCHAR}
			</if>
			<if test="isPlat != null and isPlat != ''" >
				AND IS_PLAT = #{isPlat,jdbcType=VARCHAR}
			</if>
			<if test="pauseApply != null and pauseApply != ''" >
				AND PAUSE_APPLY = #{pauseApply,jdbcType=VARCHAR}
			</if>
			<if test="pauseDecision != null and pauseDecision != ''" >
				AND PAUSE_DECISION = #{pauseDecision,jdbcType=VARCHAR}
			</if>
			<if test="projOverview != null and projOverview != ''" >
				AND PROJ_OVERVIEW = #{projOverview,jdbcType=VARCHAR}
			</if>
			<if test="inveEvaluation != null and inveEvaluation != ''" >
				AND INVE_EVALUATION = #{inveEvaluation,jdbcType=VARCHAR}
			</if>
			<if test="remark != null and remark != ''" >
				AND REMARK = #{remark,jdbcType=VARCHAR}
			</if>
			<if test="fileDesc != null and fileDesc != ''" >
				AND FILE_DESC = #{fileDesc,jdbcType=VARCHAR}
			</if>
			<if test="majorMatter != null and majorMatter != ''" >
				AND MAJOR_MATTER = #{majorMatter,jdbcType=VARCHAR}
			</if>
			<if test="projOverviewAtt != null and projOverviewAtt != ''" >
				AND PROJ_OVERVIEW_ATT = #{projOverviewAtt,jdbcType=VARCHAR}
			</if>
			<if test="inveEvaluationAtt != null and inveEvaluationAtt != ''" >
				AND INVE_EVALUATION_ATT = #{inveEvaluationAtt,jdbcType=VARCHAR}
			</if>
			<if test="remarkAtt != null and remarkAtt != ''" >
				AND REMARK_ATT = #{remarkAtt,jdbcType=VARCHAR}
			</if>
			<if test="majorMatterAtt != null and majorMatterAtt != ''" >
				AND MAJOR_MATTER_ATT = #{majorMatterAtt,jdbcType=VARCHAR}
			</if>
			<if test="scoreResult != null and scoreResult != ''" >
				AND SCORE_RESULT = #{scoreResult,jdbcType=NUMERIC}
			</if>
			<if test="area != null and area != ''" >
				AND AREA = #{area,jdbcType=VARCHAR}
			</if>
			<if test="email != null and email != ''" >
				AND EMAIL = #{email,jdbcType=VARCHAR}
			</if>
			<if test="emailPassword != null and emailPassword != ''" >
				AND EMAIL_PASSWORD = #{emailPassword,jdbcType=VARCHAR}
			</if>
			<if test="inveCreditCode != null and inveCreditCode != ''" >
				AND INVE_CREDIT_CODE = #{inveCreditCode,jdbcType=VARCHAR}
			</if>
			<if test="pefofName != null and pefofName != ''" >
				AND PEFOF_NAME = #{pefofName,jdbcType=VARCHAR}
			</if>
			<if test="pefofCreditCode != null and pefofCreditCode != ''" >
				AND PEFOF_CREDIT_CODE = #{pefofCreditCode,jdbcType=VARCHAR}
			</if>
			<if test="groupIdOld != null and groupIdOld != ''" >
				AND GROUP_ID_OLD = #{groupIdOld,jdbcType=NUMERIC}
			</if>
			<if test="investTogether != null and investTogether != ''" >
				AND INVEST_TOGETHER = #{investTogether,jdbcType=VARCHAR}
			</if>
			<if test="advisoryCommId != null and advisoryCommId != ''" >
				AND ADVISORY_COMM_ID = #{advisoryCommId,jdbcType=VARCHAR}
			</if>
			<if test="advisoryCommName != null and advisoryCommName != ''" >
				AND ADVISORY_COMM_NAME = #{advisoryCommName,jdbcType=VARCHAR}
			</if>
			<if test="bizPlanAtt != null and bizPlanAtt != ''" >
				AND BIZ_PLAN_ATT = #{bizPlanAtt,jdbcType=VARCHAR}
			</if>
			<if test="projReportAtt != null and projReportAtt != ''" >
				AND PROJ_REPORT_ATT = #{projReportAtt,jdbcType=VARCHAR}
			</if>
			<if test="otherAtt != null and otherAtt != ''" >
				AND OTHER_ATT = #{otherAtt,jdbcType=VARCHAR}
			</if>
			<if test="subFundPlanAmount != null and subFundPlanAmount != ''" >
				AND SUB_FUND_PLAN_AMOUNT = #{subFundPlanAmount,jdbcType=VARCHAR}
			</if>
			<if test="subFundPlanAmountCurr != null and subFundPlanAmountCurr != ''" >
				AND SUB_FUND_PLAN_AMOUNT_CURR = #{subFundPlanAmountCurr,jdbcType=VARCHAR}
			</if>
			<if test="subFundPlanAmountRmb != null and subFundPlanAmountRmb != ''" >
				AND SUB_FUND_PLAN_AMOUNT_RMB = #{subFundPlanAmountRmb,jdbcType=VARCHAR}
			</if>
			<if test="currentOperationSituation != null and currentOperationSituation != ''" >
				AND CURRENT_OPERATION_SITUATION = #{currentOperationSituation,jdbcType=VARCHAR}
			</if>
			<if test="reserveType != null and reserveType != ''" >
				AND RESERVE_TYPE = #{reserveType,jdbcType=VARCHAR}
			</if>
			<if test="uniqueCoding != null and uniqueCoding != ''" >
				AND UNIQUE_CODING = #{uniqueCoding,jdbcType=VARCHAR}
			</if>
			<if test="instorageDt != null" >
				AND INSTORAGE_DT = #{instorageDt,jdbcType=VARCHAR}
			</if>
			<if test="projProperty != null and projProperty != ''" >
				AND PROJ_PROPERTY = #{projProperty,jdbcType=VARCHAR}
			</if>
			<if test="isMeeting != null and isMeeting != ''" >
				AND IS_MEETING = #{isMeeting,jdbcType=VARCHAR}
			</if>
			<if test="projMc != null and projMc != ''" >
				AND PROJ_MC = #{projMc,jdbcType=VARCHAR}
			</if>
			<if test="industryName != null and industryName != ''" >
				AND INDUSTRY_NAME = #{industryName,jdbcType=VARCHAR}
			</if>
			<if test="industry != null and industry != ''" >
				AND INDUSTRY = #{industry,jdbcType=VARCHAR}
			</if>
			<if test="newIndustry != null and newIndustry != ''" >
				AND NEW_INDUSTRY = #{newIndustry,jdbcType=VARCHAR}
			</if>
			<if test="newIndustryName != null and newIndustryName != ''" >
				AND NEW_INDUSTRY_NAME = #{newIndustryName,jdbcType=VARCHAR}
			</if>
			<if test="isSpvFundId != null and isSpvFundId != ''" >
				AND IS_SPV_FUND_ID = #{isSpvFundId,jdbcType=VARCHAR}
			</if>
			<if test="isSpvFundName != null and isSpvFundName != ''" >
				AND IS_SPV_FUND_NAME = #{isSpvFundName,jdbcType=VARCHAR}
			</if>
			<if test="isSpvProj != null and isSpvProj != ''" >
				AND IS_SPV_PROJ = #{isSpvProj,jdbcType=VARCHAR}
			</if>
			<if test="spvType != null and spvType != ''" >
				AND SPV_TYPE = #{spvType,jdbcType=VARCHAR}
			</if>
			<if test="status != null and status != ''" >
				AND STATUS = #{status,jdbcType=VARCHAR}
			</if>
		</where>
	</select>

	<select id="selectList" parameterType="com.ppmg.ei.model.ProjInfoModel" resultMap="ProjInfoResult">
		SELECT * FROM TZ_T_PROJ_INFO
		<where>
		     status!='2'
			<if test="projId != null and projId != ''" >
				AND PROJ_ID = #{projId,jdbcType=VARCHAR}
			</if>
			<if test="projNo != null and projNo != ''" >
				AND PROJ_NO = #{projNo,jdbcType=VARCHAR}
			</if>
			<if test="projName != null and projName != ''" >
				AND PROJ_NAME = #{projName,jdbcType=VARCHAR}
			</if>
			<if test="projType != null and projType != ''" >
				AND PROJ_TYPE = #{projType,jdbcType=VARCHAR}
			</if>
			<if test="projStatus != null and projStatus != ''" >
				AND PROJ_STATUS = #{projStatus,jdbcType=VARCHAR}
			</if>
			<if test="projObject != null and projObject != ''" >
				AND PROJ_OBJECT = #{projObject,jdbcType=VARCHAR}
			</if>
			<if test="projObjectName != null and projObjectName != ''" >
				AND PROJ_OBJECT_NAME = #{projObjectName,jdbcType=VARCHAR}
			</if>
			<if test="entePhase != null and entePhase != ''" >
				AND ENTE_PHASE = #{entePhase,jdbcType=VARCHAR}
			</if>
			<if test="projSrc != null and projSrc != ''" >
				AND PROJ_SRC = #{projSrc,jdbcType=VARCHAR}
			</if>
			<if test="srcDesc != null and srcDesc != ''" >
				AND SRC_DESC = #{srcDesc,jdbcType=VARCHAR}
			</if>
			<if test="inveId != null and inveId != ''" >
				AND INVE_ID = #{inveId,jdbcType=VARCHAR}
			</if>
			<if test="inveName != null and inveName != ''" >
				AND INVE_NAME = #{inveName,jdbcType=VARCHAR}
			</if>
			<if test="inveType != null and inveType != ''" >
				AND INVE_TYPE = #{inveType,jdbcType=VARCHAR}
			</if>
			<if test="chargePartner != null and chargePartner != ''" >
				AND CHARGE_PARTNER = #{chargePartner,jdbcType=VARCHAR}
			</if>
			<if test="secrecyLevel != null and secrecyLevel != ''" >
				AND SECRECY_LEVEL = #{secrecyLevel,jdbcType=VARCHAR}
			</if>
			<if test="inveFile != null and inveFile != ''" >
				AND INVE_FILE = #{inveFile,jdbcType=VARCHAR}
			</if>
			<if test="setupDt != null" >
				AND SETUP_DT = #{setupDt,jdbcType=VARCHAR}
			</if>
			<if test="decisionDt != null" >
				AND DECISION_DT = #{decisionDt,jdbcType=VARCHAR}
			</if>
			<if test="createBy != null and createBy != ''" >
				AND CREATE_BY = #{createBy,jdbcType=VARCHAR}
			</if>
			<if test="createDt != null" >
				AND CREATE_DT = #{createDt,jdbcType=VARCHAR}
			</if>
			<if test="updateBy != null and updateBy != ''" >
				AND UPDATE_BY = #{updateBy,jdbcType=VARCHAR}
			</if>
			<if test="updateDt != null" >
				AND UPDATE_DT = #{updateDt,jdbcType=VARCHAR}
			</if>
			<if test="groupId != null and groupId != ''" >
				AND GROUP_ID = #{groupId,jdbcType=NUMERIC}
			</if>
			<if test="processInstId != null and processInstId != ''" >
				AND PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR}
			</if>
			<if test="projGuid != null and projGuid != ''" >
				AND PROJ_GUID = #{projGuid,jdbcType=VARCHAR}
			</if>
			<if test="isPlat != null and isPlat != ''" >
				AND IS_PLAT = #{isPlat,jdbcType=VARCHAR}
			</if>
			<if test="pauseApply != null and pauseApply != ''" >
				AND PAUSE_APPLY = #{pauseApply,jdbcType=VARCHAR}
			</if>
			<if test="pauseDecision != null and pauseDecision != ''" >
				AND PAUSE_DECISION = #{pauseDecision,jdbcType=VARCHAR}
			</if>
			<if test="projOverview != null and projOverview != ''" >
				AND PROJ_OVERVIEW = #{projOverview,jdbcType=VARCHAR}
			</if>
			<if test="inveEvaluation != null and inveEvaluation != ''" >
				AND INVE_EVALUATION = #{inveEvaluation,jdbcType=VARCHAR}
			</if>
			<if test="remark != null and remark != ''" >
				AND REMARK = #{remark,jdbcType=VARCHAR}
			</if>
			<if test="fileDesc != null and fileDesc != ''" >
				AND FILE_DESC = #{fileDesc,jdbcType=VARCHAR}
			</if>
			<if test="majorMatter != null and majorMatter != ''" >
				AND MAJOR_MATTER = #{majorMatter,jdbcType=VARCHAR}
			</if>
			<if test="projOverviewAtt != null and projOverviewAtt != ''" >
				AND PROJ_OVERVIEW_ATT = #{projOverviewAtt,jdbcType=VARCHAR}
			</if>
			<if test="inveEvaluationAtt != null and inveEvaluationAtt != ''" >
				AND INVE_EVALUATION_ATT = #{inveEvaluationAtt,jdbcType=VARCHAR}
			</if>
			<if test="remarkAtt != null and remarkAtt != ''" >
				AND REMARK_ATT = #{remarkAtt,jdbcType=VARCHAR}
			</if>
			<if test="majorMatterAtt != null and majorMatterAtt != ''" >
				AND MAJOR_MATTER_ATT = #{majorMatterAtt,jdbcType=VARCHAR}
			</if>
			<if test="scoreResult != null and scoreResult != ''" >
				AND SCORE_RESULT = #{scoreResult,jdbcType=NUMERIC}
			</if>
			<if test="area != null and area != ''" >
				AND AREA = #{area,jdbcType=VARCHAR}
			</if>
			<if test="email != null and email != ''" >
				AND EMAIL = #{email,jdbcType=VARCHAR}
			</if>
			<if test="emailPassword != null and emailPassword != ''" >
				AND EMAIL_PASSWORD = #{emailPassword,jdbcType=VARCHAR}
			</if>
			<if test="inveCreditCode != null and inveCreditCode != ''" >
				AND INVE_CREDIT_CODE = #{inveCreditCode,jdbcType=VARCHAR}
			</if>
			<if test="pefofName != null and pefofName != ''" >
				AND PEFOF_NAME = #{pefofName,jdbcType=VARCHAR}
			</if>
			<if test="pefofCreditCode != null and pefofCreditCode != ''" >
				AND PEFOF_CREDIT_CODE = #{pefofCreditCode,jdbcType=VARCHAR}
			</if>
			<if test="groupIdOld != null and groupIdOld != ''" >
				AND GROUP_ID_OLD = #{groupIdOld,jdbcType=NUMERIC}
			</if>
			<if test="investTogether != null and investTogether != ''" >
				AND INVEST_TOGETHER = #{investTogether,jdbcType=VARCHAR}
			</if>
			<if test="advisoryCommId != null and advisoryCommId != ''" >
				AND ADVISORY_COMM_ID = #{advisoryCommId,jdbcType=VARCHAR}
			</if>
			<if test="advisoryCommName != null and advisoryCommName != ''" >
				AND ADVISORY_COMM_NAME = #{advisoryCommName,jdbcType=VARCHAR}
			</if>
			<if test="bizPlanAtt != null and bizPlanAtt != ''" >
				AND BIZ_PLAN_ATT = #{bizPlanAtt,jdbcType=VARCHAR}
			</if>
			<if test="projReportAtt != null and projReportAtt != ''" >
				AND PROJ_REPORT_ATT = #{projReportAtt,jdbcType=VARCHAR}
			</if>
			<if test="otherAtt != null and otherAtt != ''" >
				AND OTHER_ATT = #{otherAtt,jdbcType=VARCHAR}
			</if>
			<if test="subFundPlanAmount != null and subFundPlanAmount != ''" >
				AND SUB_FUND_PLAN_AMOUNT = #{subFundPlanAmount,jdbcType=VARCHAR}
			</if>
			<if test="subFundPlanAmountCurr != null and subFundPlanAmountCurr != ''" >
				AND SUB_FUND_PLAN_AMOUNT_CURR = #{subFundPlanAmountCurr,jdbcType=VARCHAR}
			</if>
			<if test="subFundPlanAmountRmb != null and subFundPlanAmountRmb != ''" >
				AND SUB_FUND_PLAN_AMOUNT_RMB = #{subFundPlanAmountRmb,jdbcType=VARCHAR}
			</if>
			<if test="currentOperationSituation != null and currentOperationSituation != ''" >
				AND CURRENT_OPERATION_SITUATION = #{currentOperationSituation,jdbcType=VARCHAR}
			</if>
			<if test="reserveType != null and reserveType != ''" >
				AND RESERVE_TYPE = #{reserveType,jdbcType=VARCHAR}
			</if>
			<if test="uniqueCoding != null and uniqueCoding != ''" >
				AND UNIQUE_CODING = #{uniqueCoding,jdbcType=VARCHAR}
			</if>
			<if test="instorageDt != null" >
				AND INSTORAGE_DT = #{instorageDt,jdbcType=VARCHAR}
			</if>
			<if test="projProperty != null and projProperty != ''" >
				AND PROJ_PROPERTY = #{projProperty,jdbcType=VARCHAR}
			</if>
			<if test="isMeeting != null and isMeeting != ''" >
				AND IS_MEETING = #{isMeeting,jdbcType=VARCHAR}
			</if>
			<if test="projMc != null and projMc != ''" >
				AND PROJ_MC = #{projMc,jdbcType=VARCHAR}
			</if>
			<if test="industryName != null and industryName != ''" >
				AND INDUSTRY_NAME = #{industryName,jdbcType=VARCHAR}
			</if>
			<if test="industry != null and industry != ''" >
				AND INDUSTRY = #{industry,jdbcType=VARCHAR}
			</if>
			<if test="newIndustry != null and newIndustry != ''" >
				AND NEW_INDUSTRY = #{newIndustry,jdbcType=VARCHAR}
			</if>
			<if test="newIndustryName != null and newIndustryName != ''" >
				AND NEW_INDUSTRY_NAME = #{newIndustryName,jdbcType=VARCHAR}
			</if>
			<if test="isSpvFundId != null and isSpvFundId != ''" >
				AND IS_SPV_FUND_ID = #{isSpvFundId,jdbcType=VARCHAR}
			</if>
			<if test="isSpvFundName != null and isSpvFundName != ''" >
				AND IS_SPV_FUND_NAME = #{isSpvFundName,jdbcType=VARCHAR}
			</if>
			<if test="isSpvProj != null and isSpvProj != ''" >
				AND IS_SPV_PROJ = #{isSpvProj,jdbcType=VARCHAR}
			</if>
			<if test="spvType != null and spvType != ''" >
				AND SPV_TYPE = #{spvType,jdbcType=VARCHAR}
			</if>

		</where>
		ORDER BY CREATE_DT DESC
	</select>

	<select id="selectSql2Obj" parameterType="java.lang.String" resultMap="ProjInfoResult">
		${value}
	</select>
	<select id="selectSql2Map" parameterType="java.lang.String" resultType="Map">
		${value}
	</select>
	<update id="updateSql" parameterType="java.lang.String">
		${value}
	</update>
	<select id="selectCountSql" parameterType="java.lang.String" resultType="Integer">
		${value}
	</select>
	<!-- end autocreate -->
	<select id="getProjBaseInfoById" parameterType="java.lang.String" resultMap="ProjInfoResult2">
		SELECT T.*,M1.*,M.MEMBER_ID MANGER_ID,M.MEMBER_NAME MANGER_NAME,T2.CURRENT_RATIO,XJL.TOTAL_INVE_AMOUNT,Q.EXIT_AMOUNT,C.CODE_DESC GROUP_NAME
			FROM TZ_T_PROJ_INFO T
			LEFT JOIN TZ_T_PROJ_MEMBER M ON T.PROJ_ID= M.PROJ_ID AND M.IS_PM='1'
			LEFT JOIN TZ_T_PROJ_MEMBER M1 ON T.PROJ_ID= M1.PROJ_ID AND M1.IS_PM='0'
		    LEFT JOIN (SELECT ROW_NUMBER() OVER(PARTITION BY X2.PROJ_ID ORDER BY X2.CREATE_DT DESC) RN,
							X2.*
					   FROM TZ_T_PROJ_CONTRACT_FILE X2
					  WHERE X2.FILE_TYPE = '1') T2
			 ON T.PROJ_ID = T2.PROJ_ID
		    AND T2.RN = 1
		    LEFT JOIN (select PR.PROJECT_OR_FUND_ID, SUM(PR.RMB_INVE_AMOUNT) TOTAL_INVE_AMOUNT
					   from XJL_T_PAYMENT_REQUEST PR
					  where PR.STATUS IN (4, 5)
					  GROUP BY PR.PROJECT_OR_FUND_ID) XJL
			 ON T.PROJ_ID = XJL.PROJECT_OR_FUND_ID
			 LEFT JOIN (SELECT Q.PROJ_ID,
								Q.OBJECT_ID,
								SUM(Q.RMB_EXIT_AMOUNT) EXIT_AMOUNT
						   FROM TZ_T_FUND_QUIT_APPL Q
						  WHERE Q.STATUS = '4'
						  GROUP BY Q.PROJ_ID, Q.OBJECT_ID) Q
				ON T.PROJ_ID = Q.PROJ_ID
			LEFT JOIN COMM_T_CODE C ON T.GROUP_ID = C.CODE_NAME AND C.PARENT_ID='266'
		WHERE T.PROJ_ID=#{PROJ_ID}
	</select>
	<select id="getProjInfoById" parameterType="java.lang.String" resultMap="ProjInfoResult3">
		SELECT T.*,A.*,A1.FILE_OLD_NAME,
				A1.FILE_ID BIZ_PLAN_FILE_ID,A2.FILE_ID PROJ_REPORT_FILE_ID,A3.FILE_ID OTHER_FILE_ID,
				A4.FILE_ID REMARK_FILE_ID,A5.FILE_ID DECISION_FILE_ID,
				'EI' BIZ_PLAN_FILE_SOURCE,'EI' PROJ_REPORT_FILE_SOURCE,'EI' OTHER_FILE_SOURCE,'EI' REMARK_FILE_SOURCE,'EI' DECISION_FILE_SOURCE,
		      A1.FILE_OLD_NAME BIZ_PLAN_ATT_NAME,A2.FILE_OLD_NAME PROJ_REPORT_ATT_NAME,
		      A3.FILE_OLD_NAME OTHER_ATT_NAME,A4.FILE_OLD_NAME REMARK_ATT_NAME,A5.FILE_OLD_NAME DECISION_ATT_NAME,
         '/eiweb/uploadServlet?method=getExistFile'||chr(38)||'sessionKey='||A1.File_Id|| chr(38)||'fileName='||A1.FILE_NAME||chr(38)||'fieldToken='||A1.FIELD_TOKEN||chr(38)||'fileOldName='||A1.FILE_OLD_NAME||chr(38)||'isNew=Y' BIZ_PLAN_ATT_URL,
         '/eiweb/uploadServlet?method=getExistFile'||chr(38)||'sessionKey='||A2.File_Id|| chr(38)||'fileName='||A2.FILE_NAME||chr(38)||'fieldToken='||A2.FIELD_TOKEN||chr(38)||'fileOldName='||A2.FILE_OLD_NAME||chr(38)||'isNew=Y' PROJ_REPORT_ATT_URL,
         '/eiweb/uploadServlet?method=getExistFile'||chr(38)||'sessionKey='||A3.File_Id|| chr(38)||'fileName='||A3.FILE_NAME||chr(38)||'fieldToken='||A3.FIELD_TOKEN||chr(38)||'fileOldName='||A3.FILE_OLD_NAME||chr(38)||'isNew=Y' OTHER_ATT_URL,
         '/eiweb/uploadServlet?method=getExistFile'||chr(38)||'sessionKey='||A4.File_Id|| chr(38)||'fileName='||A4.FILE_NAME||chr(38)||'fieldToken='||A4.FIELD_TOKEN||chr(38)||'fileOldName='||A4.FILE_OLD_NAME||chr(38)||'isNew=Y' REMARK_ATT_URL,
         '/eiweb/uploadServlet?method=getExistFile'||chr(38)||'sessionKey='||A5.File_Id|| chr(38)||'fileName='||A5.FILE_NAME||chr(38)||'fieldToken='||A5.FIELD_TOKEN||chr(38)||'fileOldName='||A5.FILE_OLD_NAME||chr(38)||'isNew=Y' DECISION_ATT_URL,
		      RTrim(to_char(NVL(A1.FILE_SIZE, 0) / 1024, 'FM99999999990'), '.') || 'KB' AS BIZ_PLAN_ATT_SIZE,
		      RTrim(to_char(NVL(A2.FILE_SIZE, 0) / 1024, 'FM99999999990'), '.') || 'KB' AS PROJ_REPORT_ATT_SIZE,
		      RTrim(to_char(NVL(A3.FILE_SIZE, 0) / 1024, 'FM99999999990'), '.') || 'KB' AS OTHER_ATT_SIZE,
		      RTrim(to_char(NVL(A4.FILE_SIZE, 0) / 1024, 'FM99999999990'), '.') || 'KB' AS REMARK_ATT_SIZE,
		      RTrim(to_char(NVL(A5.FILE_SIZE, 0) / 1024, 'FM99999999990'), '.') || 'KB' AS DECISION_ATT_SIZE
			FROM TZ_T_PROJ_INFO T
			LEFT JOIN TZ_T_PROJ_APP_INFO A ON T.PROJ_ID=A.PROJ_ID
			LEFT JOIN EI_T_ATTACHMENT A1 ON T.BIZ_PLAN_ATT=A1.FIELD_TOKEN
			LEFT JOIN EI_T_ATTACHMENT A2 ON T.PROJ_REPORT_ATT=A2.FIELD_TOKEN
			LEFT JOIN EI_T_ATTACHMENT A3 ON T.OTHER_ATT=A3.FIELD_TOKEN
	        LEFT JOIN EI_T_ATTACHMENT A4 ON T.REMARK_ATT=A4.FIELD_TOKEN
	        LEFT JOIN EI_T_ATTACHMENT A5 ON A.DECISION_ATTA=A5.FIELD_TOKEN
		WHERE T.PROJ_ID=#{PROJ_ID}
	</select>
	<!-- 母基金投资项目信息列表 -->
	<select id="getFundInvestList" parameterType="java.lang.String" resultMap="ProjInfoResult5">
		select distinct t1.proj_id,
						t1.proj_name,
						t1.inve_id,
						t1.proj_type,
						t1.create_dt,
						t1.proj_status,
						RTrim(to_char(NVL(t2.rmb_intended_amount, 0) / 10000, 'FM99999999990.99'), '.') RMB_INTENDED_AMOUNT,
						t3.sign_dt,
						RTrim(to_char(NVL(t3.sign_amount_rmb, 0) / 10000, 'FM99999999990.99'), '.') SIGN_AMOUNT_RMB
	          from tz_t_proj_info t1
	          left join tz_t_proj_app_info t2 on t1.proj_id=t2.proj_id
           left join tz_t_proj_contract_file t3 on t3.proj_id=t1.proj_id and t3.file_type='1'
           left join (
             select x.proj_id,max(x.file_id) file_id,max(x.sign_dt) as max_sign_dt,max(x.create_dt) as max_create_dt from tz_t_proj_contract_file x
             where x.file_type = '1' and x.status='3' and x.sign_dt is not null and to_char(x.sign_dt,'yyyy')=to_char(sysdate,'yyyy')
             group by x.proj_id
           ) t4 on t4.file_id=t3.file_id and t4.max_sign_dt=t3.sign_dt and t4.max_create_dt=t3.create_dt
	         where t1.proj_status not in ('2','3','4','7','8','15')
	           and t1.proj_type in ('1','2')
             and t1.inve_id =10645
             order by t1.proj_type desc,t1.create_dt desc
	</select>

	<select id="selectProjByFundIdListPage" resultMap="ProjInfoResult5" parameterType="com.founder.ssm.core.common.SearchCondition">
		select distinct t1.proj_id,
		t1.proj_name,
		t1.inve_id,
		t1.proj_type,
		t1.create_dt,
		t1.proj_status,
		t2.rmb_intended_amount/10000 RMB_INTENDED_AMOUNT,
		t3.sign_dt,
		t3.sign_amount_rmb/10000 SIGN_AMOUNT_RMB
		from tz_t_proj_info t1
		left join tz_t_proj_app_info t2 on t1.proj_id=t2.proj_id
		left join tz_t_proj_contract_file t3 on t3.proj_id=t1.proj_id and t3.file_type='1'
		left join (
		select x.proj_id,max(x.file_id) file_id,max(x.sign_dt) as max_sign_dt,max(x.create_dt) as max_create_dt from tz_t_proj_contract_file x
		where x.file_type = '1' and x.status='3' and x.sign_dt is not null and to_char(x.sign_dt,'yyyy')=to_char(sysdate,'yyyy')
		group by x.proj_id
		) t4 on t4.file_id=t3.file_id and t4.max_sign_dt=t3.sign_dt and t4.max_create_dt=t3.create_dt
		<where>
			<include refid="searchCondition.searchClause" />
		</where>
		order by t1.proj_type desc,t1.create_dt desc
	</select>

	<!-- 获取子基金项目列表 -->
	<select id="selectSubFundListPage" resultMap="ProjInfoResult6" parameterType="com.founder.ssm.core.common.SearchCondition">
		SELECT T1.*,M.MEMBER_ID MANGER_ID,M.MEMBER_NAME MANGER_NAME,
		RTrim(to_char(NVL(T2.CURRENT_AMOUNT_RMB, 0) / 10000, 'FM99999999990.99'), '.') || ' 万元 人民币' AS CURRENT_AMOUNT_RMB,
		RTrim(to_char(NVL(T2.sub_fund_amont_rmb, 0) / 10000, 'FM99999999990.99'), '.') || ' 万元 人民币' AS SUB_FUND_AMONT_RMB
		FROM TZ_T_PROJ_INFO T1
		LEFT JOIN TZ_T_PROJ_MEMBER M ON T1.PROJ_ID= M.PROJ_ID AND M.IS_PM='1'
		LEFT JOIN (SELECT ROW_NUMBER() OVER(PARTITION BY X2.PROJ_ID ORDER BY X2.CREATE_DT DESC) RN,
		X2.*
		FROM TZ_T_PROJ_CONTRACT_FILE X2
		WHERE X2.FILE_TYPE = '1') T2
		ON T1.PROJ_ID = T2.PROJ_ID
		AND T2.RN = 1
		<where>
			<include refid="searchCondition.searchClause" />
		</where>
		<if test='paramMap.GROUP_ID != null and paramMap.GROUP_ID != "" and paramMap.GROUP_ID != "6"' >
			AND T1.GROUP_ID = #{paramMap.GROUP_ID}
		</if>
		<if test='paramMap.keyWord != null and paramMap.keyWord != ""' >
			and (T1.PROJ_NAME like ${paramMap.keyWord} or T1.PROJ_OBJECT_NAME like ${paramMap.keyWord})
		</if>
		ORDER BY T1.CREATE_DT DESC
	</select>

	<!--企业维度列表-->
	<select id="projInfogetAPPInfo" resultMap="ProjInfoResult" parameterType="com.founder.ssm.core.common.SearchCondition">

		SELECT T1.PROJ_OBJECT,T1.PROJ_OBJECT_NAME,
		T1.INVE_ID,T1.INVE_NAME,
		T1.GROUP_ID
		from tz_t_proj_info t1
		where t1.group_id is not null and T1.PROJ_TYPE='1' AND T1.PROJ_STATUS!='7'
		<!--AND T1.PROJ_OBJECT IS NOT NULL AND T1.INVE_ID IS NOT NULL-->
		<if test="paramMap.keyword!='' and paramMap.keyword!=null">
			<bind name="pattern" value="'%' + paramMap.keyword + '%'" />
			AND  (T1.PROJ_OBJECT_NAME like #{pattern} OR T1.PROJ_NAME LIKE #{pattern} )
		</if>
		<if test="paramMap.loginUser.userId!='1200119390' and paramMap.loginUser.userId!='13209' ">
			AND T1.GROUP_ID IN (
			select substr(T.SQL_STA,instr(T.SQL_STA,'"')+1,instr(T.SQL_STA,'"',instr(T.SQL_STA,'"')+1)-instr(T.SQL_STA,'"')-1)
			from BASE.APP_PERMISSION T
			LEFT JOIN BASE.APP_ROLEPERMISSION RP ON RP.PERMISSIONID=T.ID
			LEFT JOIN BASE.APP_ROLE R ON R.ID=RP.ROLEID
			LEFT JOIN BASE.APP_USERROLE UR ON UR.ROLEID=R.ID
			LEFT JOIN BASE.APP_USER U ON U.ID=UR.USERID
			WHERE U.DISABLED='0' AND U.ID=#{paramMap.loginUser.userId}
			AND T.ID IN (10021,10022,10023,10024,10025,10026,10031,10032,10029,10198,10199,10200,10030,10201,10202))
			<if test="paramMap.projIdAlls!='' and paramMap.projIdAlls!=null">
				OR	T1.PROJ_ID IN (#{paramMap.projIdAlls})
			</if>
		</if>
		<include refid="searchCondition.searchClause" />

		GROUP BY T1.GROUP_ID,T1.INVE_ID,T1.INVE_NAME,T1.PROJ_OBJECT,T1.PROJ_OBJECT_NAME
		<!--order by T1.PROJ_ID DESC-->
	</select>


	<!--项目维度列表-->
	<select id="projInfogetAPPInfoXMall" resultMap="ProjInfoResult" parameterType="com.founder.ssm.core.common.SearchCondition">
		SELECT *
		FROM  TZ_T_PROJ_INFO P
		<where>
			1=1
			<if test="paramMap.keyword!='' and paramMap.keyword!=null">
				<bind name="pattern" value="'%' + paramMap.keyword + '%'" />
				AND (P.PROJ_OBJECT_NAME like #{pattern} OR P.PROJ_NAME LIKE #{pattern} )
			</if>
			<if test="paramMap.loginUser.userId!='1200119390' and paramMap.loginUser.userId!='13209' ">

				AND (P.GROUP_ID IN (
				select
				substr(T.SQL_STA,instr(T.SQL_STA,'"')+1,instr(T.SQL_STA,'"',instr(T.SQL_STA,'"')+1)-instr(T.SQL_STA,'"')-1)
				from BASE.APP_PERMISSION T
				LEFT JOIN BASE.APP_ROLEPERMISSION RP ON RP.PERMISSIONID=T.ID
				LEFT JOIN BASE.APP_ROLE R ON R.ID=RP.ROLEID
				LEFT JOIN BASE.APP_USERROLE UR ON UR.ROLEID=R.ID
				LEFT JOIN BASE.APP_USER U ON U.ID=UR.USERID
				WHERE U.DISABLED='0' AND U.ID=#{paramMap.loginUser.userId}
				AND T.ID IN (10021,10022,10023,10024,10025,10026,10031,10032,10029,10198,10199,10200,10030,10201,10202))
				<if test="paramMap.projIdAlls!='' and paramMap.projIdAlls!=null">
					OR P.PROJ_ID IN (#{paramMap.projIdAlls})
				</if>
				)
			</if>
			<if test="paramMap.projMembers!='' and paramMap.projMembers!=null">
				AND P.PROJ_ID IN (SELECT M.PROJ_ID FROM TZ_T_PROJ_MEMBER M WHERE M.PROJ_ID=P.PROJ_ID AND M.MEMBER_ID IN (${paramMap.projMembers}))
			</if>

			<include refid="searchCondition.searchClause" />
		</where>
		ORDER BY P.CREATE_DT DESC
	</select>

	<!-- 基金层面列表 -->
	<select id="selectbussinessListPage" resultMap="ProjInfoResult11" parameterType="com.founder.ssm.core.common.SearchCondition">
		select aa.*,(finaAmount-intendedAmount)as rmbIntendedAmount from(select  b.name as name ,sum(c.FINA_AMOUNT)as finaAmount,sum(c.INTENDED_AMOUNT) as intendedAmount ,sum(c.PRE_MONEY) AS preMoney,sum(c.POST_MONEY)  AS postMoney  from
		(select * from EI.tz_t_proj_info d order by CREATE_DT desc) a,
		MASTER.T_ENT_BASE_INFO b ,
		EI.TZ_T_PROJ_APP_INFO c
		where
		a.PROJ_OBJECT=b.ENTERPRISE_ID
		and  c.PROJ_ID=a.PROJ_ID
		and a.PROJ_TYPE='1'
		group by b.name)aa
		<where>
			<include refid="searchCondition.searchClause" />
		</where>
	</select>

	<select id="selectProjListByPage" resultMap="ProjInfoResult111" parameterType="com.founder.ssm.core.common.SearchCondition">
		select DISTINCT * from(	select
		aa.fund_name as twoFundName,
		a.proj_id,
		a.proj_name,
		a.PROJ_TYPE,
		a.PROJ_STATUS,
		a.PROJ_OBJECT,
		a.PROJ_OBJECT_NAME,
		a.INVE_ID,
		a.INVE_NAME,
		a.CREATE_BY,
		a.CREATE_DT,
		a.UPDATE_BY,
		a.UPDATE_DT,
		a.GROUP_ID,
		a.STATUS,
		a.IS_REGISTER,
		a.IS_REGION,
		a.IS_AFTER_LISTED,
		a.INDUSTRY_CATEGORY,
		a.ENTE_PHASE,
		a.proj_Property,
		a.INDUSTRY,
		a.INDUSTRY_NAME,
		a.NEW_INDUSTRY,
		a.NEW_INDUSTRY_NAME,
		b.IS_JS,
		b.IS_TWELVE,
		b.CUR_TMONEY_PER,
		b.ALL_TMONEY,
		b.FUN_TO_PRO,
		b.ALL_TMONEY_PER,
		c.PRE_MONEY,
		c.POST_MONEY,
		c.INVE_TYPE AS inveTypes,
		c.INVE_ROLE,
		c.FINA_ROUNDS,c.FINA_TIMES,
		c.FINA_AMOUNT,c.INVE_ROUNDS,c.INTENDED_AMOUNT,c.ACTUAL_AMOUNT,
		g.CREDIT_CODE,
		g.ADDRESS_DETAILS,
		g3.LOC_NAME  as PROVINCE,
		g4.LOC_NAME  as CITY,
		g5.LOC_NAME  as AREA,
		(SELECT GICS_NAME FROM COMM_T_GICS where GICS_LEVEL='1' START WITH ID =a.INDUSTRY CONNECT BY PRIOR PARENT_ID =ID)as ONE_INDUSTRY,
		g.ENTERPRISE_ID,
		h.PLAT_PROP,
		h.SUB_PLAT_PROP,
		h.FUND_NAME,
		h.IS_RECORD
		from
		EI.bd_t_fund_info  aa
		inner join EI.TZ_T_PROJ_INFO bb ON AA.FUND_ID=bb.INVE_ID
		and aa.fund_src='1' and bb.proj_type in(2,4) and aa.status!='2' and bb.status!='2'
		<if test='paramMap.userId != null and paramMap.userId != ""' >
			and aa.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.userId})
		</if>
		inner join bd_t_fund_info cc on bb.PROJ_OBJECT=cc.FUND_ID and cc.status!='2' and cc.FUND_SRC in(2,4)
		inner join EI.TZ_T_PROJ_INFO a on a.inve_id=cc.fund_id and a.status!='2'
		left join EI.BD_T_FIT_REGULATION_SELF b on a.PROJ_ID=b.PROJ_ID
		left join EI.TZ_T_PROJ_APP_INFO c on a.PROJ_ID=c.PROJ_ID
		left join MASTER.T_ENT_BASE_INFO g ON g.ENTERPRISE_ID=a.PROJ_object
		left join  EI.BD_T_FUND_INFO h on  h.fund_id=a.inve_id
		left join base.COMM_T_LOCATION g3 on g3.LOC_ID=g.ADDRESS_PROVINCE
		left join base.COMM_T_LOCATION g4 on g4.LOC_ID=g.ADDRESS_CITY
		left join base.COMM_T_LOCATION g5 on g5.LOC_ID=g.ADDRESS_AREA and g5.PARENT_ID=g4.LOC_ID
		where a.proj_type='3' and a.status!='2'
		union all
		select
		decode(aa.IS_EXCEPT,1,cc.fund_name,aa.fund_name) as twoFundName ,
		a.proj_id,
		a.proj_name,
		a.PROJ_TYPE,
		a.PROJ_STATUS,
		a.PROJ_OBJECT,
		a.PROJ_OBJECT_NAME,
		a.INVE_ID,
		a.INVE_NAME,
		a.CREATE_BY,
		a.CREATE_DT,
		a.UPDATE_BY,
		a.UPDATE_DT,
		a.GROUP_ID,
		a.STATUS,
		a.IS_REGISTER,
		a.IS_REGION,
		a.IS_AFTER_LISTED,
		a.INDUSTRY_CATEGORY,
		a.ENTE_PHASE,
		a.proj_Property,
		a.INDUSTRY,
		a.INDUSTRY_NAME,
		a.NEW_INDUSTRY,
		a.NEW_INDUSTRY_NAME,
		b.IS_JS,
		b.IS_TWELVE,
		b.CUR_TMONEY_PER,
		b.ALL_TMONEY,
		b.FUN_TO_PRO,
		b.ALL_TMONEY_PER,
		c.PRE_MONEY,
		c.POST_MONEY,
		c.INVE_TYPE AS inveTypes,
		c.INVE_ROLE,
		c.FINA_ROUNDS,c.FINA_TIMES,
		c.FINA_AMOUNT,c.INVE_ROUNDS,c.INTENDED_AMOUNT,c.ACTUAL_AMOUNT,
		g.CREDIT_CODE,
		g.ADDRESS_DETAILS,
		g3.LOC_NAME  as ADDRESS_PROVINCE,
		g4.LOC_NAME  as ADDRESS_CITY,
		g5.LOC_NAME  as ADDRESS_AREA,
		(SELECT GICS_NAME FROM COMM_T_GICS where GICS_LEVEL='1' START WITH ID =a.INDUSTRY CONNECT BY PRIOR PARENT_ID =ID)as ONE_INDUSTRY,
		g.ENTERPRISE_ID,
		h.PLAT_PROP,
		h.SUB_PLAT_PROP,
		h.FUND_NAME,
		h.IS_RECORD
		from ei.bd_t_fund_info  aa
		inner join EI.TZ_T_PROJ_INFO bb ON aa.FUND_ID=bb.INVE_ID
		and aa.fund_src='1' and bb.proj_type in(2,4) and aa.status!='2' and bb.status!='2'
		<if test='paramMap.userId != null and paramMap.userId != ""' >
			and aa.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.userId})
		</if>
		inner join bd_t_fund_info cc on bb.PROJ_OBJECT=cc.FUND_ID and cc.status!='2' and cc.FUND_SRC in(2,4)
		inner join EI.TZ_T_PROJ_INFO dd on dd.inve_id=cc.fund_id and dd.proj_type='5' and dd.status!='2'
		inner join bd_t_fund_info ff on ff.fund_id=dd.PROJ_OBJECT and ff.fund_src='5' and ff.status!='2'
		inner join EI.TZ_T_PROJ_INFO a on a.inve_id=ff.fund_id and a.status!='2' and a.proj_type='6'
		left join EI.BD_T_FIT_REGULATION_SELF b on a.PROJ_ID=b.PROJ_ID
		left join EI.TZ_T_PROJ_APP_INFO c on a.PROJ_ID=c.PROJ_ID
		left join MASTER.T_ENT_BASE_INFO g ON g.ENTERPRISE_ID=a.PROJ_object
		left join base.COMM_T_LOCATION g3 on g3.LOC_ID=g.ADDRESS_PROVINCE
		left join base.COMM_T_LOCATION g4 on g4.LOC_ID=g.ADDRESS_CITY
		left join base.COMM_T_LOCATION g5 on g5.LOC_ID=g.ADDRESS_AREA and g5.PARENT_ID=g4.LOC_ID
		left join  EI.BD_T_FUND_INFO h on  h.fund_id=a.inve_id
		)a
		<where>
			<if test="searchBean.projName != null and searchBean.projName != ''" >
				AND a.PROJ_NAME like #{searchBean.projName}
			</if>
			<if test="searchBean.fundName != null and searchBean.fundName != ''" >
				AND a.INVE_NAME like #{searchBean.fundName}
			</if>
			<if test="searchBean.twoFundName != null and searchBean.twoFundName != ''" >
				AND a.twoFundName like #{searchBean.twoFundName}
			</if>
		<!--	<if test='paramMap.userId != null and paramMap.userId != ""' >
				AND  a.CREATE_BY=#{paramMap.userId}
			</if>-->

			<include refid="searchCondition.searchClause" />
		</where>
		order by a.CREATE_DT desc
	</select>
	<select id="selectprojectInvestment" parameterType="com.ppmg.ei.bean.ProjInfoSearchBean" resultMap="ProjInfoResult12">
		select count(1)as countTz,sum(CUR_TMONEY) as sumTz,
		sum(decode(b.IS_JS,'1',b.CUR_TMONEY,'0'))as sumSn ,count(decode(b.IS_JS,'1','1')) as countSn,
		sum(decode(b.IS_JS,'0',b.CUR_TMONEY,'0'))as sumSw,count(decode(b.IS_JS,'0','1')) as countSw,
		sum(decode(c.PLAT_PROP,'1',b.CUR_TMONEY,'0'))as sumQy ,count(decode(c.PLAT_PROP,'1','1')) as countQy,
		sum(decode(c.PLAT_PROP,'3',b.CUR_TMONEY,'0')) as sumCy,count(decode(c.PLAT_PROP,'3','1')) as countCy,
		sum(decode(c.PLAT_PROP,'2',b.CUR_TMONEY,'0'))as sumGj,count(decode(c.PLAT_PROP,'2','1'))as countGj
		from
		EI.tz_t_proj_info a,
		EI.BD_T_FIT_REGULATION_SELF b,
		EI.BD_T_FUND_INFO c
		where a.PROJ_ID=b.PROJ_ID and b.FUND_ID=c.FUND_ID
		<if test="name!=null and name != ''">
			AND c.REG_NAME = #{name,jdbcType=VARCHAR}
		</if>
	</select>

	<select id="selectCountBussunessName" parameterType="com.ppmg.ei.bean.ProjInfoSearchBean" resultMap="BussniessResultModel">
		select c.REG_NAME as name,
		sum(decode(b.IS_JS,'1',b.CUR_TMONEY,'0'))as sumjs ,count(decode(b.IS_JS,'1','1')) as countJs,
		sum(decode(b.IS_JS,'0',b.CUR_TMONEY,'0'))as sumNoJs,count(decode(b.IS_JS,'0','1')) as countNoJs,
		sum(decode(d.SEVEN_INDUSTRY,'8',b.CUR_TMONEY,'0'))as sumNy,count(decode(d.SEVEN_INDUSTRY,'8','1')) as countNy,
		sum(decode(d.SEVEN_INDUSTRY,'1',b.CUR_TMONEY,'0'))as sumCl,count(decode(d.SEVEN_INDUSTRY,'1','1')) as countCl,
		sum(decode(d.SEVEN_INDUSTRY,'2',b.CUR_TMONEY,'0'))as sumZz,count(decode(d.SEVEN_INDUSTRY,'2','1')) as countZz
		from
		EI.tz_t_proj_info a ,
		EI.BD_T_FIT_REGULATION_SELF b,
		EI.BD_T_FUND_INFO c,
		MASTER.T_ENT_BASE_INFO d
		where a.PROJ_ID=b.PROJ_ID and b.FUND_ID=c.FUND_ID and  a.PROJ_OBJECT=d.ENTERPRISE_ID
		and a.PROJ_TYPE='1'
		<if test="name!=null and name != ''">
			AND c.REG_NAME = #{name,jdbcType=VARCHAR}
		</if>
		group by c.REG_NAME
	</select>

	<select id="seleSumProjInfo"  parameterType="com.ppmg.ei.bean.ProjInfoSearchBean" resultMap="SumProjInfo">
     select aa.*,(inveAmount-bjjAoney)as shAnount from (select a.PROJ_NAME as projName,a.PROJ_ID as projId, sum(b.INVE_AMOUNT) as inveAmount ,sum(decode(g.ENTE_ID,'0',b.INVE_AMOUNT,'0'))as bjjAoney from EI.TZ_T_PROJ_INFO a
        INNER JOIN EI.RZ_T_FUND_SHARE_INFO b on a.PROJ_OBJECT=b.FUND_ID
		inner join EI.BD_T_FUND_INFO c on  a.PROJ_OBJECT=c.FUND_ID
		left  join EI.BD_T_INVE_INFO g on b.INVESTOR_ID = g.INVESTOR_ID
		group by  a.PROJ_NAME,a.PROJ_ID)aa
	</select>

	<select id="selectSpvListPage" resultMap="ProjInfoResult14" parameterType="com.founder.ssm.core.common.SearchCondition">
		select * from ( (
		select
		mm.IS_DISTRIBUTE,
		mm.DISTRIBUTE_MONEY,
		mm.DISTRIBUTE_GOV_MONEY,
		mm.DISTRIBUTE_DT,
		g.CREDIT_CODE,
		c.reg_name as FUND_NAME,
		c.CURRENT_AMOUNT,
		cc.INVE_CURRENT_AMOUNT as bjjAmount,
		(c.CURRENT_AMOUNT-cc.INVE_CURRENT_AMOUNT)qtAmount,
		c.RAISE_AMOUNT,
		c.FUND_SRC,
		cc.PROJ_OBJECT,
		cc.proj_id,
		cc.REG_NAME,
		cc.IS_EXCEPT,
		cc.FUND_ID,
		cc.INVE_CURRENT_AMOUNT，
		cc.js,
		cc.proj_status,
		cc.is_fit,
		cc.ente_id,
		(select nvl(sum(ACTUAL_PAY_AMOUNT),0) from XJL_T_PAYMENT_REQUEST where status!='9' and  PROJECT_OR_FUND_ID=cc.proj_id)as SUM_ACTUAL_PAY_AMOUNT,
		(select to_char(MAX(ACTUAL_PAY_DATE), 'yyyy-MM-dd') from XJL_T_PAYMENT_REQUEST where status!='9' AND ACTUAL_PAY_DATE IS NOT NULL and  PROJECT_OR_FUND_ID=cc.proj_id)as MAX_ACTUAL_PAY_DATE
		from (
		select a.proj_status,a.PROJ_OBJECT,a.PROJ_ID,b.REG_NAME,b.FUND_ID,dd.INVE_CURRENT_AMOUNT,decode(ee.IS_JS,'1','是','否') AS js
		,b.IS_EXCEPT,b.IS_FIT,b.ente_id

		from TZ_T_PROJ_INFO a
        inner join EI.TZ_T_PROJ_APP_INFO dd on dd.proj_id=a.proj_id
		inner join BD_T_FUND_INFO b on a.INVE_ID=b.FUND_ID and b.group_id='1'  and b.fund_src in(1) and b.fund_sts not in(1,10,11,4,6,2,3)
		left join BD_T_FIT_REGULATION_SELF ee on ee.proj_id=a.proj_id
		inner join EI.BD_T_FUND_INFO c ON c.fund_id=a.proj_object and c.fund_src in(2,4)
		where
		a.PROJ_TYPE in(2,4) and b.status='1'
		and a.PROJ_STATUS not in(1,10,11,4,6,2,3)
		and a.STATUS='1'
		<![CDATA[and nvl(b.IS_EXCEPT,'0')<1]]>
		and a.group_id='1'
		)cc
		inner join BD_T_FUND_INFO c on cc.PROJ_OBJECT=c.FUND_ID and c.group_id='1'
		left join  MASTER.T_ENT_BASE_INFO g on g.ENTERPRISE_ID=c.ente_id
		and  c.STATUS='1'
		and c.fund_src in(2,4)
		left join
		(SELECT ROW_NUMBER() OVER(PARTITION BY aa.PROJ_ID  order by CREATE_DT desc)RN,
		aa.* from TZ_T_FUND_QUIT_APPL aa where 1=1 and status!='9' )mm on mm.proj_id=cc.proj_id and rn='1'
		)
		union all
		(select
		mmm.IS_DISTRIBUTE,
		mmm.DISTRIBUTE_MONEY,
		mmm.DISTRIBUTE_GOV_MONEY,
		mmm.DISTRIBUTE_DT,
		g.CREDIT_CODE,
		mm.fund_name,
		mm.CURRENT_AMOUNT,
		rr.INVE_CURRENT_AMOUNT as bjjAmount,
		(mm.CURRENT_AMOUNT-rr.INVE_CURRENT_AMOUNT)qtAmount,
		mm.RAISE_AMOUNT,
		mm.FUND_SRC,
		rr.PROJ_OBJECT,
		rr.proj_id,
		rr.REG_NAME,
		rr.IS_EXCEPT,
		rr.FUND_ID,
		rr.INVE_CURRENT_AMOUNT,
		rr.js,
		rr.proj_status,
		rr.is_fit,
		rr.ente_id,
		(select nvl(sum(ACTUAL_PAY_AMOUNT),0) from XJL_T_PAYMENT_REQUEST where status!='9' and  PROJECT_OR_FUND_ID=rr.proj_id)as sum_ACTUAL_PAY_AMOUNT,
		(select to_char(MAX(ACTUAL_PAY_DATE), 'yyyy-MM-dd') from XJL_T_PAYMENT_REQUEST where status!='9' AND ACTUAL_PAY_DATE IS NOT NULL and  PROJECT_OR_FUND_ID=rr.proj_id)as MAX_ACTUAL_PAY_DATE
		from (select a.proj_status,a.proj_id,a.PROJ_OBJECT as PROJ_OBJECT1, cc.* ,aa.INVE_CURRENT_AMOUNT ,decode(ee.IS_JS,'1','是','否') AS js from (
		select dd.PROJ_OBJECT,dd.REG_NAME,dd.FUND_ID,dd.IS_EXCEPT,dd.ente_id,dd.is_fit from
		(select e.PROJ_OBJECT,b.REG_NAME,b.FUND_ID,b.IS_EXCEPT,b.IS_FIT,b.ente_id
		from BD_T_FUND_INFO b
		inner join EI.TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID and e.group_id='1'
		and e.PROJ_STATUS not in(1,10,11,4,6,2,3) and e.status='1'
		and b.FUND_SRC='1'
		and b.FUND_STS not in(1,10,11,4,6,2,3)
		and b.status='1'
		and b.IS_EXCEPT='1'
		and b.group_id='1'
		where 1=1
		)dd
		inner join
		BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT and
		 tt.status='1' and tt.FUND_SRC in(2,4)
		and tt.group_id='1'
		)cc
		inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID and a.group_id='1' and a.PROJ_STATUS not in(1,10,11,4,6,2,3)
		left join  EI.TZ_T_PROJ_APP_INFO aa on aa.proj_id=a.proj_id
		left join EI.BD_T_FIT_REGULATION_SELF ee on ee.proj_id=a.proj_id
		and a.proj_type='5' and a.status='1'
		)rr
		inner join BD_T_FUND_INFO mm on rr.PROJ_OBJECT1=mm.fund_id and mm.FUND_SRC='5'
		and mm.group_id='1'
		left join  MASTER.T_ENT_BASE_INFO g on g.ENTERPRISE_ID=mm.ente_id
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY aa.PROJ_ID  order by CREATE_DT desc)RN,
		aa.* from TZ_T_FUND_QUIT_APPL aa where 1=1 and aa.status!='9' )mmm on mmm.proj_id=rr.proj_id and rn='1'
		)
		)ccc
		<where>
			<if test="searchBean.regName != null and searchBean.regName != ''">
				AND ccc.REG_NAME like #{searchBean.regName}
			</if>
			<if test='paramMap.USER_ID != null and paramMap.USER_ID != ""'>
				and ccc.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
				WHERE FU.USER_ID=#{paramMap.USER_ID})
			</if>
			<if test="searchBean.fundName != null and searchBean.fundName != ''" >
				AND ccc.FUND_NAME like #{searchBean.fundName}
			</if>
			<if test="paramMap.projStatus != null and paramMap.projStatus != ''" >
				and ccc.proj_status IN (${paramMap.projStatus})
			</if>
			<include refid="searchCondition.searchClause" />
		</where>
		order by ccc.fund_id desc
	</select>

	<select id="selectdirectProjListPage" resultMap="ProjInfoResult15" parameterType="com.founder.ssm.core.common.SearchCondition">
		SELECT MMM.*,
		CASE WHEN MMM.RAISE_AMOUNT != 0
		THEN RTrim(to_char(NVL(MMM.sum_amount,0)* (MMM.szf_amount /MMM.RAISE_AMOUNT), 'FM99999999990.99'), '.')
		END as CT_INVE_AMOUNT from
		(select ddd.*,
		(select nvl(sum(ACTUAL_PAY_AMOUNT),0) from XJL_T_PAYMENT_REQUEST a where a.status!='9' and
		a.PROJECT_OR_FUND_ID=ddd.projId)as sum_amount,
		(select nvl(sum(DISTRIBUTE_GOV_MONEY),0) from TZ_T_PROJ_QUIT_APPL a where status!='9' and a.IA_ID=ddd.projId )as
		gov_quit_amount,
		(SELECT GICS_NAME FROM COMM_T_GICS where GICS_LEVEL='1' START WITH ID =ddd.INDUSTRY CONNECT BY PRIOR PARENT_ID =
		ID)as ONE_INDUSTRY,
		nnn.LABEL_NAME as isKbzNum,
		bbb.EMPLOYMENT as INVE_EMPLOYMENT,
		b.EMPLOYMENT,
		bbb.EMPOWER_PATENT as TZ_EMPOWER_PATENT,
		bb.EMPOWER_PATENT as LAST_EMPOWER_PATENT,
		bbbb.YEAR_TAX_AMOUNT as TZ_LAST_YEAR_TAX_AMOUNT,
		bb.LAST_ESTIMATE_TAX_AMOUNT as LAST_ESTIMATE_TAX_AMOUNT,
		b.YEAR_TAX_AMOUNT
		from (select cc.* ,TT.labelIds,decode(cc.IS_PUBLIC_COMP,'1','是'，'否') as isSs from (
		select bb.*,row_number() over(partition by bb.projId order by bb.ACTUAL_PAY_DATE asc) rn
		from(select gg.*,aa.ACTUAL_PAY_DATE from (
		(select
		a.ENTE_PHASE,
		ff.fund_id,
		ff.REG_NAME,
		a.proj_status,
		a.PROJ_TYPE,
		a.PROJ_ID AS projId ,
		a.PROJ_NAME AS projName,
		a.PROJ_PROPERTY,
		a.PROJ_OBJECT,
		a.INDUSTRY_NAME,
		a.INDUSTRY,
		a.NEW_INDUSTRY,
		a.NEW_INDUSTRY_NAME,
		a.IS_SPV_PROJ,
		a.IS_SPV_FUND_NAME,
		a.INDUSTRY_NAME AS IS_INDUSTRY,
		a.NEW_INDUSTRY_NAME AS IS_NEW_INDUSTRY,
		d.FINA_AMOUNT AS finaAmount,
		d.PRE_MONEY AS preMoney,
		d.POST_MONEY AS postMoney,
		d.ACTUAL_AMOUNT as actualAmount,
		d.INTENDED_AMOUNT as intendedAmount,
		decode(c.IS_JS,'1','是','否') AS js,
		c.is_js,
		decode(c.IS_JS,'1',c.IS_TWELVE,'') as isTwelve,
		g1.CREDIT_CODE,
		g1.IS_PUBLIC_COMP,
		g1.STOCK_CATEGORY,
		g2.LISTED_SECTOR,
		a.IS_AFTER_LISTED,
		a.INDUSTRY_CATEGORY,
		g1.IS_IPO,
		g1.APPLY_IPO_DT,
		g3.LOC_NAME  as ADDRESS_PROVINCE,
		g4.LOC_NAME  as ADDRESS_CITY,
		g5.LOC_NAME  as ADDRESS_AREA,
		g1.ADDRESS_DETAILS,
		ff.is_fit,
		ff.ENTE_ID,
		c.status as fit_status,
		ff.raise_amount,
		jj.raise_amount as szf_amount
		from EI.TZ_T_PROJ_INFO a
		left join EI.BD_T_FIT_REGULATION_SELF c on a.PROJ_ID=c.PROJ_ID
		left join EI.TZ_T_PROJ_APP_INFO d on a.PROJ_ID=d.PROJ_ID
		left join EI.BD_T_FUND_INFO ff on a.INVE_ID=ff.FUND_ID
		LEFT JOIN MASTER.T_ENT_BASE_INFO g1 on g1.ENTERPRISE_ID=a.PROJ_OBJECT
		left join base.COMM_T_LOCATION g3 on g3.LOC_ID=g1.ADDRESS_PROVINCE
        left join base.COMM_T_LOCATION g4 on g4.LOC_ID=g1.ADDRESS_CITY
        left join base.COMM_T_LOCATION g5 on g5.LOC_ID=g1.ADDRESS_AREA and g5.PARENT_ID=g4.LOC_ID
		LEFT JOIN T_ENT_BASE_INFO_EXTEND g2 on g2.ENTERPRISE_ID=a.PROJ_OBJECT
		LEFT JOIN RZ_T_FUND_SHARE_INFO jj on jj.fund_id=ff.fund_id and jj.ENTE_ID='0'
		where
		a.PROJ_TYPE='1'
		and a.status='1'
		and ff.status='1'
		and ff.FUND_STS not in(1,10,11,4,6,2,3)
		and a.PROJ_STATUS not in(1,10,11,4,6)
		and a.group_id='1'
		and ff.group_id='1'
		and ff.fund_src='1'
		<![CDATA[and nvl(ff.IS_EXCEPT,'0')<1]]>
		and a.PROJ_STATUS not in(1,10,11,4,6,2,3)
		and a.group_id='1'
		<if test='paramMap.USER_ID != null and paramMap.USER_ID != ""'>
			and ff.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.USER_ID})
		</if>
		)
		union all
		(select
		a.ENTE_PHASE,
		cc.PROJ_OBJECT as fund_id,
		cc.reg_name,
		a.proj_status,
		a.PROJ_TYPE,
		a.PROJ_ID AS projId ,
		a.PROJ_NAME AS projName,
		a.PROJ_PROPERTY,
		a.PROJ_OBJECT,
		a.INDUSTRY_NAME,
		a.INDUSTRY,
		a.NEW_INDUSTRY,
		a.NEW_INDUSTRY_NAME,
		a.IS_SPV_PROJ,
		a.IS_SPV_FUND_NAME,
		a.INDUSTRY_NAME AS IS_INDUSTRY,
		a.NEW_INDUSTRY_NAME AS IS_NEW_INDUSTRY,
		c.FINA_AMOUNT AS finaAmount,
		c.PRE_MONEY AS preMoney,
		c.POST_MONEY AS postMoney,
		c.ACTUAL_AMOUNT as actualAmount,
		c.INTENDED_AMOUNT as intendedAmount,
		decode(d.IS_JS,'1','是','否') AS js,
		d.is_js,
		decode(d.IS_JS,'1',d.IS_TWELVE,'') as isTwelve,
		g1.CREDIT_CODE,
		g1.IS_PUBLIC_COMP,
		g1.STOCK_CATEGORY,
		g2.LISTED_SECTOR,
		a.IS_AFTER_LISTED,
		a.INDUSTRY_CATEGORY,
		g1.IS_IPO,
		g1.APPLY_IPO_DT,
        g3.LOC_NAME  as ADDRESS_PROVINCE,
        g4.LOC_NAME  as ADDRESS_CITY,
        g5.LOC_NAME  as ADDRESS_AREA,
		g1.ADDRESS_DETAILS,
		mm.is_fit,
		mm.ente_id,
		d.status as fit_status,
		mm.raise_amount,
		jj.raise_amount as szf_amount
		from (
		select dd.PROJ_OBJECT,dd.REG_NAME,dd.fund_id from
		(select e.PROJ_OBJECT,b.REG_NAME,b.fund_id
		from BD_T_FUND_INFO b
		inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID
		and e.status='1'
		and b.FUND_SRC='1'
		and b.FUND_STS not in(1,10,11,4,6,2,3) and b.status='1'
		and b.IS_EXCEPT='1'
		and b.group_id='1'
		where 1=1
		)dd inner join
		BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT and tt.status='1'
		and tt.FUND_SRC in(2,4) and tt.group_id='1'
		)cc
		inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID and a.group_id='1' and a.PROJ_STATUS not
		in(1,10,11,4,6,2,3)
		INNER JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
		LEFT join EI.BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
		LEFT JOIN MASTER.T_ENT_BASE_INFO g1 on g1.ENTERPRISE_ID=a.PROJ_OBJECT
        left join base.COMM_T_LOCATION g3 on g3.LOC_ID=g1.ADDRESS_PROVINCE
        left join base.COMM_T_LOCATION g4 on g4.LOC_ID=g1.ADDRESS_CITY
        left join base.COMM_T_LOCATION g5 on g5.LOC_ID=g1.ADDRESS_AREA and g5.PARENT_ID=g4.LOC_ID
		LEFT JOIN T_ENT_BASE_INFO_EXTEND g2 on g2.ENTERPRISE_ID=a.PROJ_OBJECT
		LEFT JOIN ei.bd_t_fund_info mm on mm.fund_id=a.inve_id and mm.status!='2'
		LEFT JOIN RZ_T_FUND_SHARE_INFO jj on jj.fund_id=mm.fund_id and jj.ENTE_ID='0'
		where a.PROJ_TYPE='3' and a.status='1'
		<if test='paramMap.USER_ID != null and paramMap.USER_ID != ""'>
			and cc.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.USER_ID})
		</if>
		)
		)gg
		left join XJL_T_PAYMENT_REQUEST aa on aa.PROJECT_OR_FUND_ID=gg.projId and
		aa.status!='9')bb)cc
		left join (select
		qqqq.projId,
		WMSYS.WM_CONCAT(p.LABEL_ID) as labelIds from
		(select
		a.PROJ_ID AS projId ,
		a.PROJ_PROPERTY,
		a.PROJ_OBJECT
		from EI.TZ_T_PROJ_INFO a
		left join EI.BD_T_FIT_REGULATION_SELF c on a.PROJ_ID=c.PROJ_ID
		left join EI.TZ_T_PROJ_APP_INFO d on a.PROJ_ID=d.PROJ_ID
		left join EI.BD_T_FUND_INFO ff on a.INVE_ID=ff.FUND_ID
		where
		a.PROJ_TYPE='1'
		and a.status='1'
		and ff.status='1'
		and a.PROJ_STATUS not in(1,10,11,4,6,2,3)
		and a.group_id='1'
		and ff.group_id='1'
		)qqqq
		left join MASTER.T_ENT_BASE_INFO bb on bb.ENTERPRISE_ID=qqqq.PROJ_OBJECT
		left join ( select bbb.LABEL_ID, bbb.ent_id from base.COMM_T_LABEL aa inner join base.COMM_T_ENT_LABEL bbb on
		aa.label_id=bbb.label_id )p
		on bb.ENTERPRISE_ID=p.ent_id
		group by qqqq.projId
		)TT ON TT.projId=cc.projId
		<where>
			rn=1
			<if test="searchBean.projName != null and searchBean.projName != ''">
				AND cc.projName like #{searchBean.projName}
			</if>
			<if test="searchBean.regName != null and searchBean.regName != ''">
				AND cc.REG_NAME like #{searchBean.regName}
			</if>
			<if test="searchBean.labelIds != null and searchBean.labelIds != ''">
				AND TT.labelIds like #{searchBean.labelIds}
			</if>
			<if test="paramMap.projStatus != null and paramMap.projStatus != ''">
				and cc.proj_status IN (${paramMap.projStatus})
			</if>

			<include refid="searchCondition.searchClause"/>
		</where>
		)ddd
		left join ei.EI_ENTE_BASIC_INFO b on ddd.proj_object=b.ente_id and
		b.YEAR=(to_char(to_date(#{paramMap.year},'yyyy'),'yyyy')) and b.status='0'
		left join ei.EI_ENTE_BASIC_INFO bb on ddd.proj_object=bb.ente_id and
		bb.YEAR=to_char(add_months(to_date(#{paramMap.year},'yyyy'),-12),'yyyy') and bb.status='0'
		left join ei.EI_ENTE_BASIC_INFO bbb on ddd.proj_object=bbb.ente_id and
		bbb.YEAR=to_CHAR(ddd.ACTUAL_PAY_DATE,'yyyy') and bbb.status='0'
		left join ei.EI_ENTE_BASIC_INFO bbbb on ddd.proj_object=bbbb.ente_id and
		bbbb.YEAR=to_char(to_number(to_CHAR(ddd.ACTUAL_PAY_DATE,'yyyy'))-1) and bbbb.status='0'
		left join (select b.LABEL_NAME,b.ent_id from BASE.COMM_T_LABEL_ITEM a
		inner join BASE.COMM_T_ENT_LABEL_ITEM b on a.ITEM_ID=b.ITEM_ID
		where a.LABEL_ID='9' and a.PROPERTY='3')nnn on nnn.ent_id=ddd.proj_object
		)MMM
	</select>

	<select id="projectInvestedList" resultMap="ProjInfoResult16" parameterType="com.founder.ssm.core.common.SearchCondition">
		<!--select a.PROJ_PROPERTY, a.INVE_NAME,b.REG_NAME,a.PROJ_NAME,c.FINA_AMOUNT,c.PRE_MONEY,c.POST_MONEY,
		decode(d.IS_JS,'1','是','否') AS js ,decode(d.IS_JS,'1',d.IS_TWELVE,'') as isTwelve
		from EI.TZ_T_PROJ_INFO a
		INNER JOIN EI.BD_T_FUND_INFO b ON a.PROJ_OBJECT=b.FUND_ID
		and a.PROJ_TYPE in(1,2,4)
		<if test="searchBean.projName != null and searchBean.projName != ''" >
			AND a.PROJ_NAME like #{searchBean.projName}
		</if>

		<if test="searchBean.regName != null and searchBean.regName != ''" >
			AND b.REG_NAME like #{searchBean.regName}
		</if>
		INNER JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
		INNER join  EI.BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID-->
		select * from (
		(select distinct
		a.PROJ_STATUS,
		g.IS_PUBLIC_COMP,
		g.CREDIT_CODE,
		g3.LOC_NAME  as ADDRESS_PROVINCE,
		g4.LOC_NAME  as ADDRESS_CITY,
		g5.LOC_NAME  as ADDRESS_AREA,
		a.NEW_INDUSTRY_NAME,
		a.PROJ_ID,
		a.PROJ_TYPE,
		a.INDUSTRY_NAME,
		a.INDUSTRY_CATEGORY,
		(SELECT GICS_NAME FROM COMM_T_GICS where GICS_LEVEL='1' START WITH ID =a.INDUSTRY CONNECT BY PRIOR PARENT_ID =ID)as ONE_INDUSTRY,
		a.PROJ_PROPERTY,
		a.INVE_NAME,
		a.PROJ_NAME,
		cc.REG_NAME,
		cc.fund_name,
		c.FINA_AMOUNT,
		c.PRE_MONEY,
		c.POST_MONEY,
		c.ACTUAL_AMOUNT,
		c.INTENDED_AMOUNT,
		a.PROJ_OBJECT,
		decode(d.IS_JS,'1','是','否') AS js ,
		d.is_js,
		d.CUR_TMONEY_PER,
		d.ALL_TMONEY,
		d.FUN_TO_PRO,
		d.ALL_TMONEY_PER,
		decode(d.IS_JS,'1',d.IS_TWELVE,'') as isTwelve,
		cc.IS_EXCEPT,
		cc.ente_id,
		cc.is_fit,
		cc.proj_id_spv,
		cc.fund_id
		from (
		select REG_NAME,dd.PROJ_OBJECT,dd.fund_name,dd.IS_EXCEPT,dd.ente_id,dd.is_fit,dd.proj_id_spv,dd.fund_id  from
		(select e.PROJ_OBJECT,b.fund_name,b.IS_EXCEPT,b.ente_id,b.is_fit,e.proj_id as proj_id_spv,b.fund_id
		from BD_T_FUND_INFO b
		inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID and b.fund_src='1'
		and b.FUND_STS not in(1,10,11,4,6,2,3,12,13,14) and b.status='1' and b.group_id='1'
		and e.PROJ_STATUS not in(1,10,11,4,6,2,3,12,13,14)and e.status='1'  and e.PROJ_TYPE in(2,4)
		and e.group_id='1'
		where 1=1
		<![CDATA[and nvl(b.IS_EXCEPT,'0')<1]]>
		<if test='paramMap.USER_ID != null and paramMap.USER_ID != ""'>
			and b.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.USER_ID})
		</if>
		)dd inner join BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT and tt.fund_src in(2,5,4)
		and tt.group_id='1'
		)cc
		inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID and a.group_id='1' and a.PROJ_STATUS not in(1,10,11,4,6,2,3)
		INNER JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
		LEFT join EI.BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
		left join  MASTER.T_ENT_BASE_INFO g on g.ENTERPRISE_ID=a.PROJ_OBJECT
		left join base.COMM_T_LOCATION g3 on g3.LOC_ID=g.ADDRESS_PROVINCE
		left join base.COMM_T_LOCATION g4 on g4.LOC_ID=g.ADDRESS_CITY
		left join base.COMM_T_LOCATION g5 on g5.LOC_ID=g.ADDRESS_AREA and g5.PARENT_ID=g4.LOC_ID
		where 	a.PROJ_TYPE='3'
		)
		union all
		(select distinct
		d.PROJ_STATUS,
		g.IS_PUBLIC_COMP,
		g.CREDIT_CODE,
		g3.LOC_NAME  as ADDRESS_PROVINCE,
		g4.LOC_NAME  as ADDRESS_CITY,
		g5.LOC_NAME  as ADDRESS_AREA,
		d.NEW_INDUSTRY_NAME,
		d.PROJ_ID,
		d.PROJ_TYPE,
		d.INDUSTRY_NAME,
		d.INDUSTRY_CATEGORY,
		(SELECT GICS_NAME FROM COMM_T_GICS where GICS_LEVEL='1' START WITH ID =d.INDUSTRY CONNECT BY PRIOR PARENT_ID =ID)as ONE_INDUSTRY,
		d.PROJ_PROPERTY,
		d.INVE_NAME,
		d.PROJ_NAME,
		yy.REG_NAME,
		yy.fund_name,
		c.FINA_AMOUNT,
		c.PRE_MONEY,
		c.POST_MONEY,
		c.ACTUAL_AMOUNT,
		c.INTENDED_AMOUNT,
		d.PROJ_OBJECT,
		decode(m.IS_JS,'1','是','否') AS js ,
		m.is_js,
		m.CUR_TMONEY_PER,
		m.ALL_TMONEY,
		m.FUN_TO_PRO,
		m.ALL_TMONEY_PER,
		decode(m.IS_JS,'1',m.IS_TWELVE,'') as isTwelve,
		yy.IS_EXCEPT,
		yy.ente_id,
		'' as is_fit,
		'' as proj_id_spv,
		yy.fund_id
		from (
		select gg.PROJ_OBJECT,gg.reg_name as fund_name,vv.reg_name,gg.IS_EXCEPT,gg.ENTE_ID,gg.FUND_Id from (
		SELECT a.PROJ_OBJECT,cc.reg_name,cc.IS_EXCEPT,cc.ENTE_ID,cc.FUND_ID  FROM (
		SELECT TT.PROJ_OBJECT,TT.REG_NAME,TT.IS_EXCEPT,TT.ENTE_ID,TT.FUND_ID FROM (
		select dd.PROJ_OBJECT,dd.REG_NAME,dd.IS_EXCEPT,dd.ENTE_ID,dd.fund_id from (
		select e.PROJ_OBJECT,b.REG_NAME,b.IS_EXCEPT,b.ENTE_ID,b.fund_id from BD_T_FUND_INFO b
		inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID
		and e.PROJ_TYPE in(2,4) and e.status='1' and e.group_id='1'
		and b.FUND_SRC='1' and b.status='1' and b.fund_src='1' and b.group_id='1'
		and b.IS_EXCEPT='1' and b.FUND_STS not in(1,10,11,4,6,2,3,12,13,14)
		<if test='paramMap.USER_ID != null and paramMap.USER_ID != ""'>
			and b.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.USER_ID})
		</if>
		) dd
		inner join BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT and tt.FUND_SRC in(2,4) and tt.group_id='1'
		)TT
		INNER JOIN BD_T_FUND_INFO pp on pp.FUND_ID=TT.PROJ_OBJECT and pp.group_id='1'
		)cc
		inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID and a.PROJ_TYPE='5' and a.group_id='1' and a.PROJ_STATUS not in(1,10,11,4,6,2,3) )gg
		inner join BD_T_FUND_INFO vv on vv.fund_id=gg.PROJ_OBJECT and vv.FUND_SRC='5' and vv.group_id='1'
		)yy
		inner join TZ_T_PROJ_INFO d on d.INVE_ID=yy.PROJ_OBJECT and d.group_id='1' and d.PROJ_STATUS not in(1,10,11,4,6,2,3)
		INNER JOIN EI.TZ_T_PROJ_APP_INFO c ON d.PROJ_ID=c.PROJ_ID
		LEFT join EI.BD_T_FIT_REGULATION_SELF m on d.PROJ_ID=m.PROJ_ID
		left join  MASTER.T_ENT_BASE_INFO g on g.ENTERPRISE_ID=d.PROJ_OBJECT
		left join base.COMM_T_LOCATION g3 on g3.LOC_ID=g.ADDRESS_PROVINCE
		left join base.COMM_T_LOCATION g4 on g4.LOC_ID=g.ADDRESS_CITY
		left join base.COMM_T_LOCATION g5 on g5.LOC_ID=g.ADDRESS_AREA and g5.PARENT_ID=g4.LOC_ID
		where d.PROJ_TYPE='6'
		)
		)ccc
		<where>
			<if test="searchBean.projName != null and searchBean.projName != ''" >
				AND ccc.PROJ_NAME like #{searchBean.projName}
			</if>
			<if test="searchBean.regName != null and searchBean.regName != ''" >
				AND ccc.REG_NAME like #{searchBean.regName}
			</if>
			<if test="searchBean.fundName != null and searchBean.fundName != ''" >
				AND ccc.FUND_NAME like #{searchBean.fundName}
			</if>
			<if test="paramMap.projStatus != null and paramMap.projStatus != ''" >
				AND ccc.proj_status in (${paramMap.projStatus})
			</if>
			<include refid="searchCondition.searchClause" />
		</where>
	</select>

	<select id="projectGovementList" resultType="Map" parameterType="com.founder.ssm.core.common.SearchCondition">
		select bb.*,ccc.*,dd.*,ee.* from (
		select ppp.*,sss.*,abc.* from (
		select DISTINCT b.ente_id,b.REG_NAME,b.fund_id,b.FUND_STRUCT,b.SUB_PLAT_PROP,b.PLAT_PROP,b.FUND_GENRE
		from BD_T_FUND_INFO b
		left join TZ_T_PROJ_INFO pl on b.fund_id=pl.proj_object and pl.status!='2'
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.proj_id ORDER BY a.QUIT_DT asc) RN,
		a.proj_id,a.QUIT_DT
		FROM TZ_T_FUND_QUIT_APPL a where QUIT_WAY='1'  and QUIT_DT is not null )ppm on ppm.proj_id=pl.proj_id and RN='1'
		left join TZ_T_PROJ_INFO a on  a.INVE_ID=b.FUND_ID
		and a.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14)
		and a.status='1'
		left JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
		left join BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
		left join master.T_ENT_BASE_INFO mmm on b.ENTE_ID=mmm.ENTERPRISE_ID and mmm.DELETE_FLAG='0'
		where 	b.FUND_SRC='1' and b.group_id='1' and  b.FUND_STS not in(1,10,11,4,6,2,3,9,12,13,14)
		and b.status='1'
		<if test='paramMap.USER_ID != null and paramMap.USER_ID != ""' >
			and b.fund_id IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.USER_ID})
		</if>
		<if test="searchBean.projName != null and searchBean.projName != ''" >
			AND a.PROJ_NAME like #{searchBean.projName}
		</if>

		<if test='searchBean.beginTime != null and searchBean.beginTime != "" and searchBean.timeType=="1"' >
			and <![CDATA[ to_date(to_char(mmm.START_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd') >= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and searchBean.endTime != "" and searchBean.timeType=="1"' >
			and	<![CDATA[to_date(to_char(mmm.START_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>

		<if test='searchBean.beginTime != null and searchBean.beginTime != "" and searchBean.timeType=="2"' >
			and <![CDATA[to_date(to_char(b.RECORD_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and searchBean.endTime != "" and searchBean.timeType=="2"' >
			and <![CDATA[to_date(to_char(b.RECORD_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>

		<if test='searchBean.beginTime != null and searchBean.beginTime != "" and searchBean.timeType=="5"' >
			and <![CDATA[to_date(to_char(ppm.QUIT_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>

		</if>
		<if test='searchBean.endTime != null and searchBean.endTime != "" and searchBean.timeType=="5"' >
			and <![CDATA[to_date(to_char(ppm.QUIT_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>

		<if test="searchBean.regName != null and searchBean.regName != ''" >
			AND b.REG_NAME like #{searchBean.regName}
		</if>
		<if test="searchBean.fundId != null and searchBean.fundId != ''" >
			AND b.fund_id = #{searchBean.fundId}
		</if>
		<if test="searchBean.fundGenre != null and searchBean.fundGenre != ''" >
			AND b.FUND_GENRE = #{searchBean.fundGenre}
		</if>

		<if test="searchBean.ids!=null">
			AND  d.IS_JS in
			<foreach item="item" index="index" collection="searchBean.ids" open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
		<if test="searchBean.plat!=null">
			AND  b.PLAT_PROP in
			<foreach item="item" index="index" collection="searchBean.plat" open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
		<if test="searchBean.fundSt!=null">
			AND  b.FUND_STRUCT in
			<foreach item="item" index="index" collection="searchBean.fundSt" open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>

		<if test="searchBean.subPlat!=null">
			AND  b.SUB_PLAT_PROP in
			<foreach item="item" index="index" collection="searchBean.subPlat" open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
		)ppp
         left join
		(select
		ss.fund_id as fundId1,
		MAX(DECODE(ss.LABEL_ID, '1', ss.coun,'0')) as ONEGXJSQY,
		max( DECODE(ss.LABEL_ID, '2', coun,0)) as ONEYDYL,
		max( DECODE(ss.LABEL_ID, '3', coun,0)) as ONEZXQY,
		max( DECODE(ss.LABEL_ID, '4', coun,0)) as ONEZLXX
		from(select  b.fund_id,p.LABEL_ID,count(p.LABEL_ID) as coun from
		EI.BD_T_FUND_INFO b
		left join
		(select jj.*,zz.ENTERPRISE_ID,ppl.SIGN_DT,ppm.ACTUAL_PAY_DATE from EI.TZ_T_PROJ_INFO jj
		inner join MASTER.T_ENT_BASE_INFO zz  ON jj.PROJ_OBJECT=zz.ENTERPRISE_ID
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJ_ID ORDER BY a.SIGN_DT asc) RN,
		a.proj_id,a.SIGN_DT
		FROM TZ_T_PROJ_CONTRACT_FILE a where status='0'  and SIGN_DT is not null )ppl on ppl.proj_id=JJ.proj_id and RN='1'

		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJECT_OR_FUND_ID ORDER BY a.ACTUAL_PAY_DATE asc) RM,
		a.PROJECT_OR_FUND_ID,a.ACTUAL_PAY_DATE
		FROM XJL_T_PAYMENT_REQUEST a where status='0'  and ACTUAL_PAY_DATE is not null )ppm on ppm.PROJECT_OR_FUND_ID=JJ.proj_id
		and RM='1'
		)a
		on  a.INVE_ID=b.FUND_ID and a.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14) and a.status='1'
		left JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
		left join EI.BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
		left join ( select bb.LABEL_ID, bb.ent_id from base.COMM_T_LABEL aa inner join base.COMM_T_ENT_LABEL bb on  aa.label_id=bb.label_id )p
		on a.ENTERPRISE_ID=p.ent_id
		where a.PROJ_TYPE='1'
		<if test='searchBean.beginTime != null and searchBean.beginTime != "" and searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(a.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and searchBean.endTime != "" and searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(a.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.beginTime != null and searchBean.beginTime != "" and searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(a.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and searchBean.endTime != "" and searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(a.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>
		<![CDATA[and nvl(b.IS_EXCEPT,'0')<1]]>
		group by b.fund_id,p.LABEL_ID
		UNION all
		select
		cc.fund_id,p.LABEL_ID,count(p.LABEL_ID) as coun
		from (
		select dd.PROJ_OBJECT,tt.REG_NAME,tt.fund_id from
		(select e.PROJ_OBJECT
		from  BD_T_FUND_INFO b
		inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID and b.FUND_SRC='1'
		and  b.FUND_STS not in(1,10,11,4,6,2,3,9,12,13,14) and b.status='1' and e.status='1'
		and b.group_id='1'
		and b.IS_EXCEPT='1'
		and e.group_id='1'
		and e.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14)
		where 1=1
		)dd
		inner join
		BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT  and tt.status='1'
		and tt.FUND_SRC in(2,4) and tt.group_id='1'
		)cc
		inner join (
		select jj.*,zz.ENTERPRISE_ID,ppl.sign_dt,ppm.ACTUAL_PAY_DATE from
		EI.TZ_T_PROJ_INFO jj inner join MASTER.T_ENT_BASE_INFO zz  ON jj.proj_object=zz.ENTERPRISE_ID
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJ_ID ORDER BY a.SIGN_DT asc) RN,
		a.proj_id,a.SIGN_DT
		FROM TZ_T_PROJ_CONTRACT_FILE a where status='0'  and SIGN_DT is not null )ppl on ppl.proj_id=JJ.proj_id and RN='1'
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJECT_OR_FUND_ID ORDER BY a.ACTUAL_PAY_DATE asc) RM,
		a.PROJECT_OR_FUND_ID,a.ACTUAL_PAY_DATE
		FROM XJL_T_PAYMENT_REQUEST a where status='0'  and ACTUAL_PAY_DATE is not null )ppm
		on ppm.PROJECT_OR_FUND_ID=JJ.proj_id and RM='1'

		) a on cc.PROJ_OBJECT=a.INVE_ID
		left join ( select bb.LABEL_ID, bb.ent_id from base.COMM_T_LABEL aa inner join base.COMM_T_ENT_LABEL bb on  aa.label_id=bb.label_id )p
		on a.ENTERPRISE_ID=p.ent_id
		where  a.PROJ_TYPE='3' and a.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14)
		<if test='searchBean.beginTime != null and searchBean.beginTime != "" and searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(a.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>

		</if>
		<if test='searchBean.endTime != null and searchBean.endTime != "" and searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(a.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>

		<if test='searchBean.beginTime != null and searchBean.beginTime != "" and searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(a.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and searchBean.endTime != "" and searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(a.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>
		group by cc.fund_id,p.LABEL_ID
		) ss
		group by ss.FUND_ID
		)sss on ppp.fund_id=sss.fundId1

		left join
		(select
		sb.fund_id as fundId7,
		MAX(DECODE(sb.LABEL_ID, '1', sb.coun,'0')) as FOURGXJSQY,
		max( DECODE(sb.LABEL_ID, '2', coun,0)) as FOURYDYL,
		max( DECODE(sb.LABEL_ID, '3', coun,0)) as FOURZXQY,
		max( DECODE(sb.LABEL_ID, '4', coun,0)) as FOURZLXX
		from (select cc.FUND_ID,p.LABEL_ID,count(p.LABEL_ID) as coun
		from (
		select dd.PROJ_OBJECT,dd.REG_NAME,dd.FUND_ID from
		(select e.PROJ_OBJECT,b.REG_NAME,b.fund_id
		from  BD_T_FUND_INFO b
		inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID and e.status='1'
		where   e.PROJ_TYPE in(2,4) and b.FUND_SRC='1' and e.PROJ_STATUS not in(1,10,11,4,6,2,3,12,13,14,9)
		and b.FUND_STS not in(1,10,11,4,6,2,3,12,13,14,9) and b.group_id='1' and e.group_id='1'
		<![CDATA[and nvl(b.IS_EXCEPT,'0')<1]]>
		)dd inner join BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT and tt.group_id='1'
		)cc
		inner join (select jj.*,zz.ENTERPRISE_ID，ppl.SIGN_DT,ppm.ACTUAL_PAY_DATE from EI.TZ_T_PROJ_INFO jj inner join MASTER.T_ENT_BASE_INFO zz  ON jj.PROJ_OBJECT=zz.ENTERPRISE_ID
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJ_ID ORDER BY a.SIGN_DT asc) RN,
		a.proj_id,a.SIGN_DT
		FROM TZ_T_PROJ_CONTRACT_FILE a where status='0'  and SIGN_DT is not null )ppl on ppl.proj_id=JJ.proj_id and RN='1'
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJECT_OR_FUND_ID ORDER BY a.ACTUAL_PAY_DATE asc) RM,
		a.PROJECT_OR_FUND_ID,a.ACTUAL_PAY_DATE
		FROM XJL_T_PAYMENT_REQUEST a where status='0'  and ACTUAL_PAY_DATE is not null )ppm
		on ppm.PROJECT_OR_FUND_ID=JJ.proj_id and RM='1'
		)a on cc.PROJ_OBJECT=a.INVE_ID
		left join ( select bb.LABEL_ID, bb.ent_id from base.COMM_T_LABEL aa inner join base.COMM_T_ENT_LABEL bb on  aa.label_id=bb.label_id )p
		on a.ENTERPRISE_ID=p.ent_id
		where  a.PROJ_TYPE='3' and a.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14)
		<if test='searchBean.beginTime != null and searchBean.beginTime != "" and searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(a.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and searchBean.endTime != "" and searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(a.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.beginTime != null and searchBean.beginTime != "" and searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(a.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and searchBean.endTime != "" and searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(a.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>
		group by cc.fund_id,p.LABEL_ID
		union all
		select yy.FUND_ID,p.LABEL_ID,count(p.LABEL_ID) as coun from (
		select gg.PROJ_OBJECT,gg.reg_name,gg.FUND_ID from (
		SELECT a.PROJ_OBJECT,cc.reg_name,cc.fund_id FROM (
		SELECT TT.PROJ_OBJECT,TT.REG_NAME,TT.fund_id FROM (
		select dd.PROJ_OBJECT,dd.REG_NAME,dd.fund_id from  (
		select e.PROJ_OBJECT,b.REG_NAME,b.fund_id from  BD_T_FUND_INFO b
		inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID and e.PROJ_TYPE in(2,4) and e.group_id='1'
		and b.FUND_SRC='1' and e.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14) and e.status='1'
		and  b.IS_EXCEPT='1' and b.FUND_STS not in(1,10,11,4,6,2,3,9,12,13,14) and b.status='1'
		) dd
		inner join BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT and tt.group_id='1' and tt.FUND_SRC in(2,4) and tt.status='1'
		)TT
		INNER JOIN BD_T_FUND_INFO pp on pp.FUND_ID=TT.PROJ_OBJECT and pp.status='1' and pp.group_id='1'
		)cc
		inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID  and a.group_id='1' and a.PROJ_TYPE='5' and a.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14) AND a.status='1')gg
		inner join BD_T_FUND_INFO vv on vv.fund_id=gg.PROJ_OBJECT and vv.group_id='1'   and vv.FUND_SRC='5' and vv.status='1'
		)yy
		left join (
		select jj.*,zz.ENTERPRISE_ID from EI.TZ_T_PROJ_INFO jj inner join MASTER.T_ENT_BASE_INFO zz  ON jj.PROJ_OBJECT=zz.ENTERPRISE_ID )d
		on d.INVE_ID=yy.PROJ_OBJECT and d.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14) and d.status='1'
		left join (select bb.LABEL_ID, bb.ent_id from base.COMM_T_LABEL aa inner join base.COMM_T_ENT_LABEL bb on  aa.label_id=bb.label_id)p
		on d.ENTERPRISE_ID=p.ent_id and d.PROJ_TYPE='6'
		group by yy.fund_id,p.LABEL_ID
		)	sb group by sb.FUND_ID
		)abc on abc.fundId7=ppp.fund_id

		where 1=1
		<if test='paramMap.label=="1"' >
			and <![CDATA[nvl(sss.ONEGXJSQY,'0.1')>=1]]>
		</if>
		<if test='paramMap.label=="2"' >
			and <![CDATA[nvl(sss.ONEYDYL,'0.1')>=1]]>
		</if>
		<if test='paramMap.label=="3"' >
			and <![CDATA[nvl(sss.ONEZXQY,'0.1')>=1]]>
		</if>
		<if test='paramMap.label=="4"' >
			and <![CDATA[nvl(sss.ONEZLXX,'0.1')>=1]]>
		</if>
		<if test='paramMap.label=="1"' >
			or <![CDATA[nvl(abc.FOURGXJSQY,'0.1')>=1]]>
		</if>
		<if test='paramMap.label=="2"' >
			or <![CDATA[nvl(abc.FOURYDYL,'0.1')>=1]]>
		</if>
		<if test='paramMap.label=="3"' >
			or <![CDATA[nvl(abc.FOURZXQY,'0.1')>=1]]>
		</if>
		<if test='paramMap.label=="4"' >
			or <![CDATA[nvl(abc.FOURZLXX,'0.1')>=1]]>
		</if>
		)bb
		left join
		(select * from (
		(select  b.REG_NAME as ONEREGNAME,count(0) AS ONECOUNT,count(decode(d.IS_JS,'1','1'))as ONECOUNTJS ,sum(c.FINA_AMOUNT)ONEFINAAMOUNT,sum(c.INTENDED_AMOUNT)AS ONEINTENDEDAMOUNT ,sum(c.PRE_MONEY) AS ONEPREMONEY ,sum(c.POST_MONEY) AS ONEPOSTMONEY,sum((c.PRE_MONEY-c.POST_MONEY)) as ONEMONEY,SUM(c.ACTUAL_AMOUNT) as ONEACTUALAMOUNT
		,count(decode(a.PROJ_PROPERTY,'1','1'))as ONEMY
		from
		BD_T_FUND_INFO b
		left join TZ_T_PROJ_INFO a on  a.INVE_ID=b.FUND_ID   and a.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14)
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJ_ID ORDER BY a.SIGN_DT asc) RN,
		a.proj_id,a.SIGN_DT
		FROM TZ_T_PROJ_CONTRACT_FILE a where status='0'  and SIGN_DT is not null )ppl on ppl.proj_id=a.proj_id and RN='1'

		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJECT_OR_FUND_ID ORDER BY a.ACTUAL_PAY_DATE asc) RM,
		a.PROJECT_OR_FUND_ID,a.ACTUAL_PAY_DATE
		FROM XJL_T_PAYMENT_REQUEST a where status='0'  and ACTUAL_PAY_DATE is not null )ppm
		on ppm.PROJECT_OR_FUND_ID=a.proj_id and RM='1'
		and a.status='1' and a.group_id='1'
		left JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
		left join BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
		where a.PROJ_TYPE='1' and b.group_id='1'
		<if test='searchBean.beginTime != null and paramMap.beginTime != "" and  searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(ppl.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>

		</if>
		<if test='searchBean.endTime != null and paramMap.endTime != "" and  searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(ppl.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>

		<if test='searchBean.beginTime != null and paramMap.beginTime != "" and  searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(ppm.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and paramMap.endTime != "" and  searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(ppm.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>
		<![CDATA[and nvl(b.IS_EXCEPT,'0')<1]]>
		<if test='paramMap.USER_ID != null and paramMap.USER_ID != ""' >
			and b.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.USER_ID})
		</if>
		<if test="searchBean.projName != null and searchBean.projName != ''" >
			AND a.PROJ_NAME like #{searchBean.projName}
		</if>

		<if test="searchBean.regName != null and searchBean.regName != ''" >
			AND b.REG_NAME like #{searchBean.regName}
		</if>
		<if test="searchBean.ids!=null">
			AND  d.IS_JS in
			<foreach item="item" index="index" collection="searchBean.ids" open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
		group by b.REG_NAME)
		union All
		(select  cc.REG_NAME as ONEREGNAME,count(0) AS ONECOUNT,count(decode(d.IS_JS,'1','1'))as ONECOUNTJS ,sum(c.FINA_AMOUNT) AS ONEFINAAMOUNT,sum(c.INTENDED_AMOUNT) AS ONEINTENDEDAMOUNT ,
		sum(c.PRE_MONEY)AS ONEPOSTMONEY,sum(c.POST_MONEY) AS ONEPOSTMONEY,sum((c.PRE_MONEY-c.POST_MONEY)) as ONEMONEY,SUM(c.ACTUAL_AMOUNT) as ONEACTUALAMOUNT
		,count(decode(a.PROJ_PROPERTY,'1','1'))as ONEMY
		from (
		select dd.PROJ_OBJECT,dd.REG_NAME,dd.fund_id from
		(select e.PROJ_OBJECT,b.REG_NAME,b.fund_id
		from  BD_T_FUND_INFO b
		inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID and b.FUND_SRC='1' and e.status='1'
		and  b.FUND_STS not in(1,10,11,4,6,2,3,9,12,13,14) and b.status='1'  and e.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14)
		and b.IS_EXCEPT='1' and e.PROJ_TYPE in(2,4) and b.group_id='1' and e.group_id='1'
		where 1=1
		)dd inner join
		BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT
		and tt.status='1' and tt.FUND_SRC IN(2,4) and tt.group_id='1'
		)cc
		inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID and a.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14) and a.status='1' and a.group_id='1'
		INNER JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
		LEFT join  EI.BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJ_ID ORDER BY a.SIGN_DT asc) RN,
		a.proj_id,a.SIGN_DT
		FROM TZ_T_PROJ_CONTRACT_FILE a where status='0'  and SIGN_DT is not null )ppl on ppl.proj_id=a.proj_id and RN='1'
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJECT_OR_FUND_ID ORDER BY a.ACTUAL_PAY_DATE asc) RM,
		a.PROJECT_OR_FUND_ID,a.ACTUAL_PAY_DATE
		FROM XJL_T_PAYMENT_REQUEST a where status='0'  and ACTUAL_PAY_DATE is not null )ppm on ppm.PROJECT_OR_FUND_ID=a.proj_id and RM='1'
		where  a.PROJ_TYPE='3'
		<if test='searchBean.beginTime != null and paramMap.beginTime != "" and  searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(ppl.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and paramMap.endTime != "" and  searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(ppl.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.beginTime != null and paramMap.beginTime != "" and  searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(ppm.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and paramMap.endTime != "" and  searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(ppm.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='paramMap.USER_ID != null and paramMap.USER_ID != ""' >
			and cc.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.USER_ID})
		</if>
		<if test="searchBean.projName != null and searchBean.projName != ''" >
			AND a.PROJ_NAME like #{searchBean.projName}
		</if>

		<if test="searchBean.regName != null and searchBean.regName != ''" >
			AND cc.REG_NAME like #{searchBean.regName}
		</if>
		<if test="searchBean.ids!=null">
			AND  d.IS_JS in
			<foreach item="item" index="index" collection="searchBean.ids" open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
		group by cc.REG_NAME)
		))ccc on ccc.ONEREGNAME=bb.REG_NAME
		left join
		(select * from(
		(select  b.REG_NAME as TWOREGNAME, count(0) AS TWOCOUNT,count(decode(d.IS_JS,'1','1'))as TWOCOUNTJS ,sum(c.FINA_AMOUNT) AS TWOFINAAMOUNT,sum(c.INTENDED_AMOUNT) AS TWOINTENDEDAMOUNT ,sum(c.PRE_MONEY)AS TWOPREMONEY,sum(c.POST_MONEY) AS TWOPOSTMONEY,sum((c.PRE_MONEY-c.POST_MONEY)) as TWOMONEY from
		BD_T_FUND_INFO b
		left join TZ_T_PROJ_INFO a on  a.INVE_ID=b.FUND_ID and a.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14)
		and a.status='1' and b.status='1' and  b.FUND_STS not in(1,10,11,4,6,2,3,9,12,13,14) and a.group_id='1'
		left JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
		left join BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJ_ID ORDER BY a.SIGN_DT asc) RN,
		a.proj_id,a.SIGN_DT
		FROM TZ_T_PROJ_CONTRACT_FILE a where status='0'  and SIGN_DT is not null )ppl on ppl.proj_id=a.proj_id and RN='1'
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJECT_OR_FUND_ID ORDER BY a.ACTUAL_PAY_DATE asc) RM,
		a.PROJECT_OR_FUND_ID,a.ACTUAL_PAY_DATE
		FROM XJL_T_PAYMENT_REQUEST a where status='0'  and ACTUAL_PAY_DATE is not null )ppm on ppm.PROJECT_OR_FUND_ID=a.proj_id and RM='1'
		where a.PROJ_TYPE in(2,4) and b.group_id='1'
		<if test='searchBean.beginTime != null and paramMap.beginTime != "" and  searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(ppl.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and paramMap.endTime != "" and  searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(ppl.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.beginTime != null and paramMap.beginTime != "" and  searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(ppm.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and paramMap.endTime != "" and  searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(ppm.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>
		<![CDATA[and nvl(b.IS_EXCEPT,'0')<1]]>
		<if test='paramMap.USER_ID != null and paramMap.USER_ID != ""' >
			and b.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.USER_ID})
		</if>
		<if test="searchBean.projName != null and searchBean.projName != ''" >
			AND a.PROJ_NAME like #{searchBean.projName}
		</if>

		<if test="searchBean.regName != null and searchBean.regName != ''" >
			AND b.REG_NAME like #{searchBean.regName}
		</if>
		<if test="searchBean.ids!=null">
			AND  d.IS_JS in
			<foreach item="item" index="index" collection="searchBean.ids" open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
		group by b.REG_NAME)
		union all
		(
		select  ww.REG_NAME as TWOREGNAME, count(0) AS TWOCOUNT,count(decode(d.IS_JS,'1','1'))as TWOCOUNTJS ,sum(c.FINA_AMOUNT) AS TWOFINAAMOUNT,sum(c.INTENDED_AMOUNT) AS TWOINTENDEDAMOUNT ,sum(c.PRE_MONEY)AS TWOPREMONEY,sum(c.POST_MONEY) AS TWOPOSTMONEY,sum((c.PRE_MONEY-c.POST_MONEY)) as TWOMONEY from  (
		select rr.* from (
		select a.* ,cc.REG_NAME from (
		select dd.PROJ_OBJECT,dd.REG_NAME from
		(select e.PROJ_OBJECT,b.REG_NAME
		from  BD_T_FUND_INFO b
		inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID
		and b.FUND_SRC='1' and e.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14)
		and  b.FUND_STS not in(1,10,11,4,6,2,3,9,12,13,14) and b.status='1'
		and b.IS_EXCEPT='1' and e.proj_type in(2,4) and b.status='1' and e.status='1'
		where 1=1 and b.group_id='1'
		)dd
		inner join
		BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT and tt.status='1' and tt.FUND_SRC IN(2,4) and tt.group_id='1'
		)cc
		inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID
		and a.proj_type='5' and a.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14) and a.status='1' and a.group_id='1'
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJ_ID ORDER BY a.SIGN_DT asc) RN,
		a.proj_id,a.SIGN_DT
		FROM TZ_T_PROJ_CONTRACT_FILE a where status='0'  and SIGN_DT is not null )ppl on ppl.proj_id=a.proj_id and RN='1'
		left join (SELECT ROW_NUMBER() OVER(PARTITION BY a.PROJECT_OR_FUND_ID ORDER BY a.ACTUAL_PAY_DATE asc) RM,
		a.PROJECT_OR_FUND_ID,a.ACTUAL_PAY_DATE
		FROM XJL_T_PAYMENT_REQUEST a where status='0'  and ACTUAL_PAY_DATE is not null )ppm on ppm.PROJECT_OR_FUND_ID=a.proj_id and RM='1'

		where 1=1
		<if test='searchBean.beginTime != null and paramMap.beginTime != "" and  searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(ppl.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>

		</if>
		<if test='searchBean.endTime != null and paramMap.endTime != "" and  searchBean.timeType=="3"' >
			and <![CDATA[to_date(to_char(ppl.SIGN_DT, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.beginTime != null and paramMap.beginTime != "" and  searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(ppm.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')>= to_date(#{searchBean.beginTime}, 'yyyy-MM-dd')]]>
		</if>
		<if test='searchBean.endTime != null and paramMap.endTime != "" and  searchBean.timeType=="4"' >
			and <![CDATA[to_date(to_char(ppm.ACTUAL_PAY_DATE, 'yyyy-MM-dd'),'yyyy-MM-dd')<= to_date(#{searchBean.endTime}, 'yyyy-MM-dd')]]>
		</if>
		)rr
		inner join BD_T_FUND_INFO mm on rr.PROJ_OBJECT=mm.fund_id and mm.FUND_SRC='5' and mm.group_id='1'
		<if test='paramMap.USER_ID != null and paramMap.USER_ID != ""' >
			and mm.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.USER_ID})
		</if>
		<if test="searchBean.projName != null and searchBean.projName != ''" >
			AND rr.PROJ_NAME like #{searchBean.projName}
		</if>

		<if test="searchBean.regName != null and searchBean.regName != ''" >
			AND mm.REG_NAME like #{searchBean.regName}
		</if>
		)ww
		left JOIN EI.TZ_T_PROJ_APP_INFO c ON ww.PROJ_ID=c.PROJ_ID
		left join BD_T_FIT_REGULATION_SELF d on ww.PROJ_ID=d.PROJ_ID
		<if test="searchBean.ids!=null">
			AND  d.IS_JS in
			<foreach item="item" index="index" collection="searchBean.ids" open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
		group by ww.REG_NAME
		)
		))dd on dd.TWOREGNAME=bb.REG_NAME
		left join
		(
		select
		bbb.FOURREGNAME as FOURREGNAME,
		sum(bbb.FOURCONT) AS FOURCONT,
		sum(bbb.FOURCOUNTJS)as FOURCOUNTJS ,
		sum(bbb.FOURFINAAMOUNT) AS FOURFINAAMOUNT,
		sum(bbb.FOURINTENDEDAMOUNT) AS FOURINTENDEDAMOUNT ,
		sum(bbb.FOURPREMONEY)AS FOURPREMONEY,
		sum(bbb.FOURPOSTMONEY) AS FOURPOSTMONEY,
		SUM(bbb.FOURACTUALAMOUNT) as FOURACTUALAMOUNT,
		SUM(bbb.FOURMY) as  FOURMY
		from  (select cc.REG_NAME as FOURREGNAME,count(0) AS FOURCONT,count(decode(d.IS_JS,'1','1'))as FOURCOUNTJS ,sum(c.FINA_AMOUNT) AS FOURFINAAMOUNT,sum(c.INTENDED_AMOUNT) AS FOURINTENDEDAMOUNT ,
		sum(c.PRE_MONEY)AS FOURPREMONEY,sum(c.POST_MONEY) AS FOURPOSTMONEY,SUM(c.ACTUAL_AMOUNT) as FOURACTUALAMOUNT,count(decode(a.PROJ_PROPERTY,'1','1'))as FOURMY
		from (
		select dd.PROJ_OBJECT,dd.REG_NAME from
		(select e.PROJ_OBJECT,b.REG_NAME
		from  BD_T_FUND_INFO b
		inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID
		where   e.PROJ_TYPE in(2,4) and b.FUND_SRC='1' and e.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14)
		and b.FUND_STS not in(1,10,11,4,6,2,3,9,12,13,14) and b.status='1' and e.status='1' and e.group_id='1' and b.group_id='1'
		<![CDATA[and nvl(b.IS_EXCEPT,'0')<1]]>
		)dd inner join BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT and tt.fund_src in(2,5,4) and tt.group_id='1'
		)cc
		inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID and a.group_id='1'
		INNER JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
		LEFT join  EI.BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
		where  a.PROJ_TYPE='3'
		and a.status='1'
		and a.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14)
		group by cc.REG_NAME
		union all
		select yy.reg_name as FOURREGNAME,count(0) AS FOURCONT, count(decode(m.IS_JS,'1','1'))as FOURCOUNTJS ,sum(c.FINA_AMOUNT) AS FOURFINAAMOUNT,sum(c.INTENDED_AMOUNT) AS FOURINTENDEDAMOUNT ,
		sum(c.PRE_MONEY)AS FOURPREMONEY,sum(c.POST_MONEY) AS FOURPOSTMONEY,SUM(c.ACTUAL_AMOUNT) as FOURACTUALAMOUNT,count(decode(d.PROJ_PROPERTY,'1','1'))as FOURMY from (
		select gg.PROJ_OBJECT,gg.reg_name from (
		SELECT a.PROJ_OBJECT,cc.reg_name FROM (
		SELECT TT.PROJ_OBJECT,TT.REG_NAME FROM (
		select dd.PROJ_OBJECT,dd.REG_NAME from	(
		select e.PROJ_OBJECT,b.REG_NAME from  BD_T_FUND_INFO b
		inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID and e.PROJ_TYPE in(2,4) and e.group_id='1'
		and b.FUND_SRC='1' and e.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14)and e.status='1'
		and  b.IS_EXCEPT='1' and b.FUND_STS not in(1,10,11,4,6,2,3,9,12,13,14) and b.status='1'
		) dd
		inner join BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT and tt.group_id='1' and tt.FUND_SRC in(2,4) and tt.status='1')TT
		INNER JOIN BD_T_FUND_INFO pp on pp.FUND_ID=TT.PROJ_OBJECT and pp.group_id='1' and pp.status='1')cc
		inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID   and a.group_id='1'  and a.PROJ_TYPE='5' and a.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14) AND a.status='1')gg
		inner join BD_T_FUND_INFO vv on vv.fund_id=gg.PROJ_OBJECT and vv.group_id='1' and vv.status='1' and  vv.FUND_SRC='5' )yy
		inner join TZ_T_PROJ_INFO d on d.INVE_ID=yy.PROJ_OBJECT   and d.group_id='1'  and d.PROJ_STATUS not in(1,10,11,4,6,2,3,9,12,13,14)
		INNER JOIN EI.TZ_T_PROJ_APP_INFO c ON d.PROJ_ID=c.PROJ_ID
		LEFT join  EI.BD_T_FIT_REGULATION_SELF m on d.PROJ_ID=m.PROJ_ID
		where   d.PROJ_TYPE='6' and d.status='1'
		group by yy.reg_name)bbb
		group by bbb.FOURREGNAME
		)ee on ee.FOURREGNAME=bb.REG_NAME

		<where>
			<include refid="searchCondition.searchClause" />
		</where>
	</select>


	<select id="selectByprojId" parameterType="java.lang.String" resultMap="ProjInfoResult22">
        select a.*,
		b.INTENDED_AMOUNT,b.PER_SHARE,b.FINA_ROUNDS,b.FINA_TIMES,b.FINA_AMOUNT,
		c.IS_CORR,c.IS_JS,
		d.IS_RECORD,d.RECORD_CODE,d.FUND_STRUCT,d.PLAN_AMOUNT,d.CURRENT_AMOUNT
	 from
        EI.TZ_T_PROJ_INFO a
        LEFT JOIN EI.TZ_T_PROJ_APP_INFO b ON a.PROJ_ID=b.PROJ_ID
        LEFT JOIN EI.BD_T_FIT_REGULATION_SELF c ON a.PROJ_ID=c.PROJ_ID
        LEFT JOIN EI.BD_T_FUND_INFO  d
        ON a.PROJ_OBJECT=d.FUND_ID and a.proj_type in(2,4) and a.group_id='1'
	 WHERE
	  a.PROJ_ID=#{projId,jdbcType=VARCHAR}
	</select>

	<select id="selectPayAmount" parameterType="com.ppmg.ei.model.ProjInfoModel" resultType="Map">
          select * from EI.TZ_T_PROJ_INFO

	</select>

	<select id="getsumCurrentC" parameterType="java.lang.String" resultType="Double">
	SELECT sum(d.INVE_CURRENT_AMOUNT) FROM TZ_T_PROJ_INFO a
	  LEFT JOIN EI.TZ_T_PROJ_APP_INFO  d on a.proj_id=d.proj_id
	  left join BD_T_FUND_INFO b on a.proj_object=b.fund_id
	  where inve_id=#{fundId}
	  and a.PROJ_TYPE in(2,4) and a.PROJ_STATUS not in(1,10,11) and a.status='1'
	  and nvl(b.FUND_STS,'0.1') not in(1,10,11) and b.status='1'
	</select>

	<select id="selectListByProjNo" parameterType="com.ppmg.ei.model.ProjInfoModel" resultMap="ProjInfoResult" >
      select * from EI.TZ_T_PROJ_INFO WHERE
      PROJ_NO LIKE #{projNo,jdbcType=VARCHAR}
      and PROJ_TYPE=#{projType,jdbcType=VARCHAR}
      and status!='2'
      ORDER BY  to_number(PROJ_ID) DESC
	</select>

	<select id="getsumCurrentAmount" parameterType="java.lang.String" resultType="Double">
	select sum(CURRENT_AMOUNT) from BD_T_FUND_INFO b where b.fund_id in
	(SELECT proj_object FROM TZ_T_PROJ_INFO a where inve_id=#{fundId}
	and a.PROJ_TYPE in(2,4) and a.status='1' and a.PROJ_STATUS not in('1','10','11','2','3'))
	and  nvl(b.FUND_STS,'0.1') not in('1','10','11','2','3') and b.status='1'
	</select>

	<select id="getsumCurrentRaise" parameterType="java.lang.String" resultType="Double">
	select sum(RAISE_AMOUNT) from BD_T_FUND_INFO b where b.fund_id in
	(SELECT proj_object FROM TZ_T_PROJ_INFO a where inve_id=#{fundId}
	and a.PROJ_TYPE in('2','4') and a.status='1' and a.PROJ_STATUS not in('1','10','11','2','3'))
	and nvl(b.FUND_STS,'0.1') not in('1','10','11','2','3') and b.status='1'
	</select>

	<select id="selectSum" parameterType="java.lang.String" resultType="Map">

		SELECT sum(ACTUAL_AMOUNT)AS AMOUNT,SUM(sumcount) AS SUMCOUNT from (
		(select sum(p.ACTUAL_AMOUNT) AS ACTUAL_AMOUNT ,count(*) AS sumcount from TZ_T_PROJ_INFO f inner join TZ_T_PROJ_APP_INFO p on p.PROJ_ID=f.PROJ_ID where f.INVE_ID in
		(select PROJ_OBJECT from TZ_T_PROJ_INFO a inner join BD_T_FUND_INFO b  on a.INVE_ID=b.fund_id
		and b.fund_id=#{fundId}

		where a.PROJ_TYPE='2' and b.FUND_SRC='2' and a.PROJ_STATUS not in('1','10','11','12','2','3')) and f.PROJ_TYPE='3' and  f.PROJ_STATUS not in('1','10','11','2','3'))

		UNION ALL

		(select sum(AA.ACTUAL_AMOUNT),COUNT(*) from TZ_T_PROJ_INFO ww inner join TZ_T_PROJ_APP_INFO AA on AA.PROJ_ID=WW.PROJ_ID WHERE INVE_ID in(
		select kk.PROJ_OBJECT from
		(
		select f.PROJ_OBJECT from TZ_T_PROJ_INFO f
		where f.INVE_ID in
		(select PROJ_OBJECT from TZ_T_PROJ_INFO a inner join BD_T_FUND_INFO b  on a.INVE_ID=b.fund_id
		and b.fund_id=#{fundId}
		where PROJ_TYPE='2' and b.FUND_SRC='2'  and a.PROJ_STATUS not in('1','10','11','2','3')
         and a.status='1' and b.status='1'
         and nvl(b.FUND_STS,'0.1') not in('1','10','11','2','3')
		) and f.PROJ_TYPE='5' and  f.PROJ_STATUS not in('1','10','11','2','3')

		)kk inner join BD_T_FUND_INFO bbb on bbb.FUND_ID=kk.PROJ_OBJECT and bbb.FUND_SRC='5'
		 and bbb.status='1'
		 and bbb.FUND_STS not in('1','10','11','2','3'))
		 and ww.PROJ_TYPE='6'
		 and ww.status='1'
		 and ww.PROJ_STATUS not in('1','10','11','2','3')))


	</select>

<select id="selectCountLavel" parameterType="java.lang.String" resultType="Map">
   select
     ss.fund_id,
	MAX(DECODE(ss.LABEL_ID, '1', ss.coun,'0')) as ONEGXJSQY,
	max( DECODE(ss.LABEL_ID, '2', coun,0)) as ONEYDYL,
    max( DECODE(ss.LABEL_ID, '3', coun,0)) as ONEZXQY,
     max( DECODE(ss.LABEL_ID, '4', coun,0)) as ONEZLXX
	from(select  b.fund_id,p.LABEL_ID,count(p.LABEL_ID) as coun from
	  EI.BD_T_FUND_INFO b
	  left join
	  (select jj.*,zz.ENTERPRISE_ID from EI.TZ_T_PROJ_INFO jj inner join MASTER.T_ENT_BASE_INFO zz  ON jj.PROJ_NAME=zz.name)a
		on  a.INVE_ID=b.FUND_ID
	  left JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
	  left join EI.BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
	  left join ( select bb.LABEL_ID, bb.ent_id from base.COMM_T_LABEL aa inner join base.COMM_T_ENT_LABEL bb on  aa.label_id=bb.label_id )p
	  on a.ENTERPRISE_ID=p.ent_id
	  where a.PROJ_TYPE='1' and b.FUND_ID=#{fundId} and a.status='1'  and b.status='1'
	  group by b.fund_id,p.LABEL_ID) ss
		group by ss.FUND_ID

</select>

	<select id="selectTwoCountLavel" parameterType="java.lang.String" resultType="Map">
   select
     ss.fund_id,
	MAX(DECODE(ss.LABEL_ID, '1', ss.coun,'0')) as TWOXJSQY,
	max( DECODE(ss.LABEL_ID, '2', coun,0)) as TWOYDYL,
    max( DECODE(ss.LABEL_ID, '3', coun,0)) as TWOZXQY,
     max( DECODE(ss.LABEL_ID, '4', coun,0)) as TWOZLXX
	from(select  b.fund_id,p.LABEL_ID,count(p.LABEL_ID) as coun from
	  EI.BD_T_FUND_INFO b
	  left join
	  (select jj.*,zz.ENTERPRISE_ID from EI.TZ_T_PROJ_INFO jj inner join MASTER.T_ENT_BASE_INFO zz  ON jj.PROJ_NAME=zz.name)a
		on  a.INVE_ID=b.FUND_ID
	  left JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
	  left join EI.BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
	  left join ( select bb.LABEL_ID, bb.ent_id from base.COMM_T_LABEL aa inner join base.COMM_T_ENT_LABEL bb on  aa.label_id=bb.label_id )p
	  on a.ENTERPRISE_ID=p.ent_id
	  where a.PROJ_TYPE in(2,4) and b.FUND_ID=#{fundId} and a.status='1' and b.status='1'
	  group by b.fund_id,p.LABEL_ID) ss
		group by ss.FUND_ID

</select>
   <select id="selectFourCountLavel"  parameterType="java.lang.String" resultType="Map">
	   select
		ss.fund_id,
		MAX(DECODE(ss.LABEL_ID, '1', ss.coun,'0')) as FOURGXJSQY,
		max( DECODE(ss.LABEL_ID, '2', coun,0)) as FOURYDYL,
		max( DECODE(ss.LABEL_ID, '3', coun,0)) as FOURZXQY,
		max( DECODE(ss.LABEL_ID, '4', coun,0)) as FOURZLXX
	    from(select cc.FUND_ID,p.LABEL_ID,count(p.LABEL_ID)as coun
			from (
			select dd.PROJ_OBJECT,dd.REG_NAME,dd.FUND_ID from
			(select e.PROJ_OBJECT,b.REG_NAME,b.FUND_ID
			from  EI.BD_T_FUND_INFO b
			inner join EI.TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID
			and b.fund_src='1'
			and b.fund_id=#{fundId}
			and e.PROJ_TYPE in(2,4)
			and e.status='1'
			and b.status='1'
			where 1=1
			)dd inner join EI.BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT
			)cc
			left join
			(select jj.*,zz.ENTERPRISE_ID from EI.TZ_T_PROJ_INFO jj inner join MASTER.T_ENT_BASE_INFO zz  ON jj.PROJ_NAME=zz.name and jj.status='1')a
		      on  a.INVE_ID=cc.FUND_ID
			INNER JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
			LEFT join  EI.BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
			 left join ( select bb.LABEL_ID, bb.ent_id from base.COMM_T_LABEL aa inner join base.COMM_T_ENT_LABEL bb on  aa.label_id=bb.label_id
			 )p on a.ENTERPRISE_ID=p.ent_id
			where  a.PROJ_TYPE='3' and a.status='1'
			group by cc.fund_id,p.LABEL_ID)ss
			group by ss.FUND_ID

</select>

	<select id="getExSumPayAmount" parameterType="java.lang.String"  resultType="Double">
	    select sum(AA.ACTUAL_PAY_AMOUNT) AS AMOUNT  from (select
			a.PROJ_ID
			from (
			select dd.PROJ_OBJECT,dd.REG_NAME,dd.fund_id from
			(select e.PROJ_OBJECT,b.REG_NAME,b.fund_id
			from  BD_T_FUND_INFO b
			inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID
			and b.FUND_SRC='1'
			and  b.FUND_STS not in(1,10,11)
			and b.status='1'
			and e.PROJ_TYPE in(2,4)
			and e.PROJ_STATUS not in(1,10,11,12,2,3)
			and e.status='1'
			and b.IS_EXCEPT='1' and b.FUND_ID=#{fundId}
			where 1=1
			)dd inner join
			BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT and  tt.FUND_STS not in(1,10,11)
			 and tt.status='1'
			 and tt.FUND_SRC in(2,4)
			)cc
			inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID
			INNER JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
			LEFT join  EI.BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
			where  a.PROJ_TYPE='3'  and a.PROJ_STATUS not in(1,10,11,12,2,3) and a.status='1')ddd
			left join XJL_T_PAYMENT_REQUEST AA on
			 AA.PROJECT_OR_FUND_ID=ddd.proj_id
			  and AA.STATUS!=9

	</select>
<select id="getsumIsExpCurrentC"  parameterType="java.lang.String"  resultType="Map">
   select
		sum (rr.INVE_CURRENT_AMOUNT) as INVE_CURRENT_AMOUNT ,sum (mm.CURRENT_AMOUNT) as CURRENT_AMOUNT,sum(mm.RAISE_AMOUNT) as RAISE_AMOUNT
		from (select a.proj_id,a.PROJ_OBJECT as PROJ_OBJECT1, cc.* ,ss.INVE_CURRENT_AMOUNT from (
		select dd.PROJ_OBJECT,dd.REG_NAME,dd.FUND_ID from
		(select e.PROJ_OBJECT,b.REG_NAME,b.FUND_ID
		from BD_T_FUND_INFO b
		inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID
		and b.FUND_SRC='1'
		and b.FUND_STS not in(1,10,11,12,2,3)
		and b.status='1'
		and e.PROJ_STATUS not in(1,10,11,12,2,3)
		and e.PROJ_TYPE in(2,4)
		and e.status!='2'
		and b.IS_EXCEPT='1' and b.FUND_ID=#{fundId}
		where 1=1
		)dd
		inner join
		BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT  and tt.status='1' and tt.FUND_SRC in(2,4)
		)cc
		inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID and a.status='1'
		left join  EI.TZ_T_PROJ_APP_INFO ss on a.proj_id=ss.proj_id
		and a.proj_type='5'
		)rr
		inner join BD_T_FUND_INFO mm on rr.PROJ_OBJECT1=mm.fund_id and mm.FUND_SRC='5' and mm.status='1'

</select>
	<select id="getSpvSumAmount" parameterType="java.lang.String"  resultType="Double">
		select sum(mm.ACTUAL_PAY_AMOUNT) from (
		select cc.* from (
		select a.PROJ_OBJECT,a.PROJ_ID,b.REG_NAME,b.FUND_ID
		from TZ_T_PROJ_INFO a
		inner join BD_T_FUND_INFO b on a.INVE_ID=b.FUND_ID
		where a.PROJ_TYPE in(2,4)
		and a.STATUS='1'
		and b.status='1'
		and b.FUND_STS not in(1,10,11)
		and a.PROJ_STATUS not in('1','10','11','2','3')
		and b.fund_id=#{fundId}
		<![CDATA[and nvl(b.IS_EXCEPT,'0')<1]]>
		)cc
		inner join BD_T_FUND_INFO c on cc.PROJ_OBJECT=c.FUND_ID  and  c.STATUS='1'
		and c.FUND_STS not in(1,10,11)
		and c.fund_src in(2,4)
		)aaa left join ei.xjl_t_payment_request mm on mm.PROJECT_OR_FUND_ID=aaa.proj_id and mm.status!='9'

	</select>

	<select id="getSpvIsExceptSumAmount" parameterType="java.lang.String"  resultType="Double">
      select sum(ACTUAL_PAY_AMOUNT) from
    (select
    rr.PROJ_ID
    from (select a.proj_id,a.PROJ_OBJECT as PROJ_OBJECT1, cc.* from (
    select dd.PROJ_OBJECT,dd.REG_NAME,dd.FUND_ID from
    (select e.PROJ_OBJECT,b.REG_NAME,b.FUND_ID
    from BD_T_FUND_INFO b
    inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID
    and b.FUND_SRC='1'
    and b.FUND_STS not in(1,10,11,12,2,3)
    and b.status='1'
    and e.PROJ_TYPE in(2,4)
    and b.IS_EXCEPT='1'
    and b.fund_id=#{fundId}
    and e.status='1'
	and e.PROJ_STATUS not in(1,10,11,12,2,3)
    where 1=1
    )dd
    inner join
    BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT  and tt.status='1' and tt.FUND_SRC in(2,4)
    )cc
    inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID
    and a.proj_type='5' and a.PROJ_STATUS not in(1,10,11,12,2,3)
    )rr
    inner join BD_T_FUND_INFO mm on rr.PROJ_OBJECT1=mm.fund_id and mm.FUND_SRC='5' and mm.STATUS='1'
    and mm.FUND_STS not in(1,10,11)
    )zzz left join ei.xjl_t_payment_request mm on mm.PROJECT_OR_FUND_ID=zzz.proj_id and mm.status!='9'



	</select>

	<select id="selectSumAmount"  parameterType="java.lang.String"  resultType="Double">
		select sum(bbb.ACTUAL_PAY_AMOUNT) from
		( select
		a.PROJ_ID
		from (
		select REG_NAME,dd.PROJ_OBJECT from
		(select e.PROJ_OBJECT
		from BD_T_FUND_INFO b
		inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID
		and b.fund_src='1'
		and b.FUND_SRC='1'
		and e.PROJ_TYPE in(2,4)
		and b.FUND_STS not in(1,10,11,12,2,3)
		and e.PROJ_STATUS not in(1,10,11,12,2,3)
		and b.status='1'
		and e.status='1'
		where 1=1
		<![CDATA[and nvl(b.IS_EXCEPT,'0')<1]]>
		and b.status='1'
		and b.FUND_ID=#{fundId}
		)dd inner join BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT and tt.fund_src in(2,5,4)
		)cc
		inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID
		INNER JOIN EI.TZ_T_PROJ_APP_INFO c ON a.PROJ_ID=c.PROJ_ID
		LEFT join EI.BD_T_FIT_REGULATION_SELF d on a.PROJ_ID=d.PROJ_ID
		where 	a.PROJ_TYPE='3' and a.status='1') aaa
		left join XJL_T_PAYMENT_REQUEST bbb on aaa.proj_id=bbb.PROJECT_OR_FUND_ID
        AND bbb.status!='9'
	</select>

	<select id="selectExceptSumAmount" parameterType="java.lang.String"  resultType="Double" >
     select sum(bb.ACTUAL_PAY_AMOUNT) from (select d.PROJ_ID  from
    (
    select gg.proj_id,gg.PROJ_OBJECT,gg.reg_name from (
    SELECT a.proj_id,a.PROJ_OBJECT,cc.reg_name FROM (
    SELECT TT.PROJ_OBJECT,TT.REG_NAME FROM (
    select dd.PROJ_OBJECT,dd.REG_NAME from  (
    select e.PROJ_OBJECT,b.REG_NAME from  BD_T_FUND_INFO b
    inner join TZ_T_PROJ_INFO e on e.INVE_ID=b.FUND_ID and e.PROJ_TYPE in(2,4)
    and b.FUND_SRC='1' and e.PROJ_STATUS not in(1,10,11,12,2,3) and b.status='1' and e.status='1'
    and  b.IS_EXCEPT='1' and b.FUND_STS not in(1,10,11,12,2,3)
    and b.FUND_ID=#{fundId}
    ) dd
    inner join BD_T_FUND_INFO tt on tt.FUND_ID=dd.PROJ_OBJECT  and tt.FUND_SRC in(2,4)
    )TT
    INNER JOIN BD_T_FUND_INFO pp on pp.FUND_ID=TT.PROJ_OBJECT)cc
    inner join TZ_T_PROJ_INFO a on cc.PROJ_OBJECT=a.INVE_ID
    and a.PROJ_TYPE='5' and a.PROJ_STATUS not in(1,10,11,12,2,3)
    )gg
    inner join BD_T_FUND_INFO vv on vv.fund_id=gg.PROJ_OBJECT and vv.FUND_SRC='5'
    )yy
    inner join TZ_T_PROJ_INFO d on d.INVE_ID=yy.PROJ_OBJECT
    and d.PROJ_STATUS not in(1,10,11,12,2,3)
    INNER JOIN EI.TZ_T_PROJ_APP_INFO c ON d.PROJ_ID=c.PROJ_ID
    LEFT join  EI.BD_T_FIT_REGULATION_SELF m on d.PROJ_ID=m.PROJ_ID
    where   d.PROJ_TYPE='6'
    order by to_number(d.proj_id) desc)aa
    left join  EI.XJL_T_PAYMENT_REQUEST bb on
     bb.PROJECT_OR_FUND_ID=aa.proj_id
          and bb.STATUS!=9

	</select>

	<select id="selectListByInveId" parameterType="com.ppmg.ei.model.ProjInfoModel" resultMap="ProjInfoResult">
       select * from TZ_T_PROJ_INFO
       where PROJ_NAME=#{projName}
       AND STATUS!=2
       AND INVE_ID=#{inveId}
	</select>

	<select id="selectSumPayAmount" parameterType="java.lang.String"  resultType="Double">
         select sum(ACTUAL_PAY_AMOUNT) from XJL_T_PAYMENT_REQUEST where PROJECT_OR_FUND_ID in(
         select proj_id from TZ_T_PROJ_INFO where inve_id=#{fundId} and status='1' and proj_status not in(1,10,11,2,3)
          and proj_type='1'
       ) and STATUS!=9


	</select>

	<!--新增-->
	<!--新增TZ_T_PROJ_INFO-->
	<insert id="ProjInfoModelMapper" parameterType="List">
		INSERT INTO TZ_T_PROJ_INFO (PROJ_ID,PROJ_NAME,PROJ_SRC,INVE_ID,CREATE_BY,UPDATE_BY,PROJ_OVERVIEW,FILE_DESC,INVE_FILE,PROJ_NO)
		<foreach collection="list" item="item" index="index" separator="union all">
			(select
			#{item.projId,jdbcType=VARCHAR},
			#{item.projName,jdbcType=VARCHAR},
			#{item.projSrc,jdbcType=VARCHAR},
			#{item.inveId,jdbcType=VARCHAR},
			#{item.createBy,jdbcType=VARCHAR},
			#{item.updateBy,jdbcType=VARCHAR},
			#{item.projOverview,jdbcType=VARCHAR},
			#{item.fileDesc,jdbcType=VARCHAR},
			#{item.inveFile,jdbcType=VARCHAR},
			#{item.projNo,jdbcType=VARCHAR}
			from dual)
		</foreach>
	</insert>
	<update id="updateprojInfoMapper" parameterType="com.ppmg.ei.model.ProjInfoModel">
		UPDATE TZ_T_PROJ_INFO
		<set>
			<if test="projId != null and projId != ''" >
				PROJ_ID = #{projId,jdbcType=VARCHAR},
			</if>
			<if test="projName != null and projName != ''" >
				PROJ_NAME = #{projName,jdbcType=VARCHAR},
			</if>
			<if test="srcDesc != null and srcDesc != ''" >
				SRC_DESC = #{srcDesc,jdbcType=VARCHAR},
			</if>
			<if test="projSrc != null and projSrc != ''" >
				PROJ_SRC = #{projSrc,jdbcType=VARCHAR},
			</if>
			<if test="inveId != null and inveId != ''" >
				INVE_ID = #{inveId,jdbcType=VARCHAR},
			</if>
			<if test="createBy != null and createBy != ''" >
				CREATE_BY = #{createBy,jdbcType=VARCHAR},
			</if>
			<if test="updateBy != null and updateBy != ''" >
				UPDATE_BY = #{updateBy,jdbcType=VARCHAR},
			</if>
			<if test="updateDt != null" >
				UPDATE_DT = #{updateDt,jdbcType=VARCHAR},
			</if>
			<if test="projOverview != null and projOverview != ''" >
				PROJ_OVERVIEW = #{projOverview,jdbcType=VARCHAR},
			</if>
			<if test="fileDesc != null and fileDesc != ''" >
				FILE_DESC = #{fileDesc,jdbcType=VARCHAR},
			</if>
			<if test="inveFile != null and inveFile != ''" >
				INVE_FILE = #{inveFile,jdbcType=VARCHAR},
			</if>
			<if test="projNo != null and projNo != ''" >
				PROJ_NO = #{projNo,jdbcType=VARCHAR},
			</if>
			<if test="inveName != null and inveName != ''" >
				INVE_NAME = #{inveName,jdbcType=VARCHAR},
			</if>
            <if test="projStatus != null and projStatus != ''" >
                PROJ_STATUS = #{projStatus,jdbcType=VARCHAR},
            </if>
			<if test="processInstId != null and processInstId != ''" >
				PROCESS_INST_ID = #{processInstId,jdbcType=VARCHAR},
			</if>
		</set>
		WHERE PROJ_ID = #{projId,jdbcType=VARCHAR}
	</update>


	<select id="selectInfoProj" parameterType="java.lang.String" resultMap="ProjInfoResult13" >
       select a.* ,b.fund_name,b.fund_code from
       TZ_T_PROJ_INFO a
       left join BD_T_FUND_INFO b on a.PROJ_OBJECT=b.fund_id
       where a.proj_id=#{projId}
	</select>

	<select id="getInternalProjList" resultMap="ProjInfoResultInternal" parameterType="com.founder.ssm.core.common.SearchCondition">
		select aa.SUM_ACTUAL_PAY_AMOUNT,bb.* from (
		SELECT  a.*,c.START_DATE,b.PRE_MONEY,b.POST_MONEY,b.INVE_ROLE,b.INVE_TYPE as inve_types   FROM  EI.TZ_T_PROJ_INFO a
		left join EI.TZ_T_PROJ_APP_INFO b on a.proj_id=b.proj_id
		left join MASTER.T_ENT_BASE_INFO c on a.PROJ_OBJECT=c.ENTERPRISE_ID
		WHERE  a.PROJ_TYPE='1' and a.inve_id in(
		select bbb.FUND_id  FROM  EI.BD_T_FUND_INFO bbb
		left join EI.TZ_T_PROJ_INFO a on
		a.proj_type='2'
		and a.proj_object=bbb.fund_id and a.status!='2'
		where 1=1
		and ( (bbb.ISDIRECT='1' and bbb.OLD_SUB_PLAT_PROP in(2,3))or(bbb.ISDIRECT='1'))
		)
		) bb
		left join EI.BD_T_FUND_INFO ff on ff.fund_id=bb.inve_id  and ff.status!='2'
		left join (	select sum(RMB_ACTUAL_PAY_AMOUNT) as SUM_ACTUAL_PAY_AMOUNT ,PROJECT_OR_FUND_ID from XJL_T_PAYMENT_REQUEST  where 1=1 AND  STATUS=4
		group by PROJECT_OR_FUND_ID, INVESTOR_ID)aa on aa.PROJECT_OR_FUND_ID=bb.proj_id
		left join  TZ_T_PROJ_MEMBER ddd on ddd.proj_id=bb.proj_id and ddd.IS_PM='2'
		<where>

			<if test="searchBean.keyword!='' and searchBean.keyword!=null">
				<bind name="pattern" value="'%' + searchBean.keyword + '%'" />
				AND ( bb.INVE_NAME like #{pattern} OR bb.PROJ_NO like #{pattern} or bb.PROJ_NAME like #{pattern} )
			</if>
			<include refid="searchCondition.searchClause" />
		</where>
		order by bb.CREATE_DT desc
	</select>
	<select id="getNewProCode" parameterType="java.lang.String" resultMap="ProjInfoResult" >
      select * from EI.TZ_T_PROJ_INFO WHERE
      PROJ_NO LIKE #{projCode,jdbcType=VARCHAR}
      and PROJ_TYPE='1'
      and status!='2'
      ORDER BY to_number(PROJ_ID) DESC
	</select>

	<select id="getJchyProjList" resultMap="ProjInfoResultInternal" parameterType="com.founder.ssm.core.common.SearchCondition">
		select aa.SUM_ACTUAL_PAY_AMOUNT,bb.* from (
		SELECT  a.*,c.START_DATE,b.PRE_MONEY,b.POST_MONEY,b.INVE_ROLE,b.INVE_TYPE as inve_types   FROM  EI.TZ_T_PROJ_INFO a
		left join EI.TZ_T_PROJ_APP_INFO b on a.proj_id=b.proj_id
		left join MASTER.T_ENT_BASE_INFO c on a.PROJ_OBJECT=c.ENTERPRISE_ID
		WHERE  a.PROJ_TYPE='1'
		) bb
		left join EI.BD_T_FUND_INFO ff on ff.fund_id=bb.inve_id  and ff.status!='2'
		left join (	select sum(RMB_ACTUAL_PAY_AMOUNT) as SUM_ACTUAL_PAY_AMOUNT ,PROJECT_OR_FUND_ID from XJL_T_PAYMENT_REQUEST  where 1=1 AND  STATUS=4
		group by PROJECT_OR_FUND_ID, INVESTOR_ID)aa on aa.PROJECT_OR_FUND_ID=bb.proj_id
		left join  TZ_T_PROJ_MEMBER ddd on ddd.proj_id=bb.proj_id and ddd.IS_PM='2'
		<where>

			<if test="searchBean.keyword!='' and searchBean.keyword!=null">
				<bind name="pattern" value="'%' + searchBean.keyword + '%'" />
				AND ( bb.INVE_NAME like #{pattern} OR bb.PROJ_NO like #{pattern} or bb.PROJ_NAME like #{pattern} )
			</if>
			<include refid="searchCondition.searchClause" />
		</where>
		order by bb.CREATE_DT desc
	</select>

	<select id="selectPassPayAmount" parameterType="java.lang.String" resultType="Double">
      select sum(RMB_ACTUAL_PAY_AMOUNT) from XJL_T_PAYMENT_REQUEST where PROJECT_OR_FUND_ID in(
         select proj_id from TZ_T_PROJ_INFO where inve_id=#{fundId}
         and status!='2'
         and proj_status not in(1,10,11,12,2,3,13,14,9)
         and proj_type in(1,2)
       ) and STATUS=4
	</select>

	<select id="selectByFofInfoList" resultMap="ProjInfoResult23" parameterType="com.founder.ssm.core.common.SearchCondition">
      select a.proj_id,a.proj_name,a.proj_no,c.reg_name,c.fund_id,a.INVE_NAME,a.inve_id,a.PROJ_SRC,a.PROJ_STATUS
      from TZ_T_PROJ_INFO a
      inner join bd_t_fund_info b on a.inve_id=b.fund_id  and b.status!='2'
      inner join bd_t_fund_info c on a.PROJ_OBJECT=c.fund_id and a.PROJ_TYPE='2'  and c.status!='2'
		<where>
		a.status!='2'
			<include refid="searchCondition.searchClause" />
		</where>
        order by a.UPDATE_DT desc
	</select>

	<select id="selectFofDirectList" resultMap="ProjInfoResult23" parameterType="com.founder.ssm.core.common.SearchCondition">

		select a.PROJ_NAME,a.PROJ_ID,a.PROJ_NO,a.PROJ_OBJECT,a.PROJ_OBJECT_NAME,a.INVE_NAME,a.inve_id,a.PROJ_SRC,a.PROJ_STATUS
		from TZ_T_PROJ_INFO a
		inner join bd_t_fund_info b on a.inve_id=b.fund_id
		 and  a.PROJ_TYPE in(1)
		<where>
			<include refid="searchCondition.searchClause" />
		</where>
		order by a.UPDATE_DT desc
	</select>

<select id="selectByProjNno" parameterType="java.lang.String" resultMap="ProjInfoResult">
  select * from TZ_T_PROJ_INFO where status!='2' and PROJ_NO like #{projNo}

</select>


	<select id="selectByInveList" parameterType="com.ppmg.ei.model.ProjInfoModel" resultMap="ProjInfoResult">
		select A.* from EI.TZ_T_PROJ_INFO A
		INNER JOIN TZ_T_PROJ_APP_INFO B on A.PROJ_ID=B.PROJ_ID
		WHERE 1=1
		<if test="projName != null and projName != ''" >
			and A.proj_name=#{projName}
		</if>
		<if test="inveId != null and inveId != ''" >
			and A.inve_id=#{inveId}
		</if>
		<if test="inveRounds != null and inveRounds != ''" >
			AND B.INVE_ROUNDS=#{inveRounds}
		</if>

	</select>

	<resultMap id="NjProjInfoResult" type="com.ppmg.ei.model.NjProjInfoModel">
		<result column="PROJ_ID" property="projId" jdbcType="VARCHAR" />
		<result column="PROJ_NO" property="projNo" jdbcType="VARCHAR" />
		<result column="PROJ_NAME" property="projName" jdbcType="VARCHAR" />
		<result column="PROJ_TYPE" property="projType" jdbcType="VARCHAR" />
		<result column="PROJ_STATUS" property="projStatus" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT" property="projObject" jdbcType="VARCHAR" />
		<result column="PROJ_OBJECT_NAME" property="projObjectName" jdbcType="VARCHAR" />
		<result column="ENTE_PHASE" property="entePhase" jdbcType="VARCHAR" />
		<result column="PROJ_SRC" property="projSrc" jdbcType="VARCHAR" />
		<result column="SRC_DESC" property="srcDesc" jdbcType="VARCHAR" />
		<result column="INVE_ID" property="inveId" jdbcType="VARCHAR" />
		<result column="INVE_NAME" property="inveName" jdbcType="VARCHAR" />
		<result column="INVE_TYPE" property="inveType" jdbcType="VARCHAR" />
		<result column="CHARGE_PARTNER" property="chargePartner" jdbcType="VARCHAR" />
		<result column="SECRECY_LEVEL" property="secrecyLevel" jdbcType="VARCHAR" />
		<result column="INVE_FILE" property="inveFile" jdbcType="VARCHAR" />
		<result column="SETUP_DT" property="setupDt" jdbcType="TIMESTAMP" />
		<result column="DECISION_DT" property="decisionDt" jdbcType="TIMESTAMP" />
		<result column="CREATE_BY" property="createBy" jdbcType="VARCHAR" />
		<result column="CREATE_DT" property="createDt" jdbcType="TIMESTAMP" />
		<result column="UPDATE_BY" property="updateBy" jdbcType="VARCHAR" />
		<result column="UPDATE_DT" property="updateDt" jdbcType="TIMESTAMP" />
		<result column="GROUP_ID" property="groupId" jdbcType="NUMERIC" />
		<result column="PROCESS_INST_ID" property="processInstId" jdbcType="VARCHAR" />
		<result column="PROJ_GUID" property="projGuid" jdbcType="VARCHAR" />
		<result column="IS_PLAT" property="isPlat" jdbcType="VARCHAR" />
		<result column="PAUSE_APPLY" property="pauseApply" jdbcType="VARCHAR" />
		<result column="PAUSE_DECISION" property="pauseDecision" jdbcType="VARCHAR" />
		<result column="PROJ_OVERVIEW" property="projOverview" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="INVE_EVALUATION" property="inveEvaluation" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="REMARK" property="remark" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="FILE_DESC" property="fileDesc" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="MAJOR_MATTER" property="majorMatter" jdbcType="CLOB" javaType="java.lang.String" />
		<result column="PROJ_OVERVIEW_ATT" property="projOverviewAtt" jdbcType="VARCHAR" />
		<result column="INVE_EVALUATION_ATT" property="inveEvaluationAtt" jdbcType="VARCHAR" />
		<result column="REMARK_ATT" property="remarkAtt" jdbcType="VARCHAR" />
		<result column="MAJOR_MATTER_ATT" property="majorMatterAtt" jdbcType="VARCHAR" />
		<result column="SCORE_RESULT" property="scoreResult" jdbcType="NUMERIC" />
		<result column="APPLY_MEETING_FILE" property="applyMeetingFile" jdbcType="VARCHAR" />
		<result column="DECISION_MEETING_FILE" property="decisionMeetingFile" jdbcType="VARCHAR" />
		<result column="FUND_LIMIT" property="fundLimit" jdbcType="NUMERIC" />
		<result column="DATA_SRC" property="dataSrc" jdbcType="VARCHAR" />
		<result column="INDUSTRY" property="industry" jdbcType="VARCHAR" />
		<result column="CONTROLLER" property="controller" jdbcType="VARCHAR" />
		<result column="CONTROLLER_TEL" property="controllerTel" jdbcType="VARCHAR" />
		<result column="REG_ADD" property="regAdd" jdbcType="VARCHAR" />
	</resultMap>

	<select id="getJcProjList" resultMap="NjProjInfoResult" parameterType="com.founder.ssm.core.common.SearchCondition">
		select a.*,b.INDUSTRY,b.CONTROLLER,b.CONTROLLER_TEL,b.REG_ADD  from EINJ.TZ_T_PROJ_INFO a left join EINJ.BD_T_ENTE_INFO b on a.PROJ_OBJECT=b.ENTERPRISE_ID
		<where>
			AND a.PROJ_TYPE='1' AND a.PROJ_ID NOT IN(13854,13855,13856,13865,13866)
			<if test="searchBean.keyword!='' and searchBean.keyword!=null">
				<bind name="pattern" value="'%' + searchBean.keyword + '%'" />
				AND ( a.proj_name like #{pattern} OR a.PROJ_NO like #{pattern} )
			</if>
			<include refid="searchCondition.searchClause" />
		</where>
		order by a.UPDATE_DT desc
	</select>

	<select id="getReportList" resultMap="ProjInfoResult"  parameterType="com.founder.ssm.core.common.SearchCondition">
		select * from (
		select max(a.proj_id) as proj_id，max(a.proj_object)as proj_object,TO_CHAR(WMSYS.WM_CONCAT(distinct(a.inve_name)))as inve_name,TO_CHAR(WMSYS.WM_CONCAT(
		distinct(a.inve_id)))as inve_id,h.name as ent_name from EI.TZ_T_PROJ_INFO a
		inner join ei.bd_t_fund_info b on a.inve_id=b.fund_id
		inner join master.T_ENT_BASE_INFO h on h.ENTERPRISE_ID=a.proj_object
		where a.PROJ_TYPE='1' and a.group_id='1' and b.fund_src='1' and b.group_id='1' and a.status!='2'
		<![CDATA[and nvl(b.IS_EXCEPT,'0')<1]]>
		<if test="paramMap.USER_ID!='' and paramMap.USER_ID!=null">
			and b.fund_id in(select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.USER_ID})
		</if>
		group by h.name
		union all
		select max(d.proj_id) as proj_id,max(d.proj_object),TO_CHAR(WMSYS.WM_CONCAT(distinct(d.inve_name)))as inve_name,TO_CHAR(WMSYS.WM_CONCAT(
		distinct(d.inve_id)))as inve_id,h.name as ent_name from ei.TZ_T_PROJ_INFO a
		inner join ei.BD_T_FUND_INFO b  on a.INVE_ID=b.fund_id and b.fund_src='1' and b.IS_EXCEPT='1' and b.group_id='1' and b.status!='2'
		inner join ei.BD_T_FUND_INFO c on a.proj_object=c.FUND_ID and c.FUND_SRC in(2,4) and c.group_id='1' and c.status!='2'
		inner join ei.TZ_T_PROJ_INFO d on d.inve_id=c.fund_id and d.proj_type='3' and d.group_id='1' and d.status!='2'
		inner join master.T_ENT_BASE_INFO h on h.ENTERPRISE_ID=d.proj_object
		<if test="paramMap.USER_ID!='' and paramMap.USER_ID!=null">
			and b.fund_id in(select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.USER_ID})
		</if>
		group by h.name
		)mm
		<where>
			1=1
			<if test="searchBean.keyword!='' and searchBean.keyword!=null">
				<bind name="pattern" value="'%' + searchBean.keyword + '%'" />
				AND (mm.ent_name like #{pattern} OR mm.inve_name like #{pattern} )
			</if>
			<include refid="searchCondition.searchClause" />
		</where>
		order by  to_number(mm.proj_id) desc
	</select>

	<select id="selectFundInvePage" resultMap="ProjInfoResult"  parameterType="com.founder.ssm.core.common.SearchCondition">
		select aaa.* from (
		select max(aa.proj_id)as proj_id,max(aa.proj_object)as proj_object,
		TO_CHAR(WMSYS.WM_CONCAT(distinct(aa.inve_name)))as inve_name,
		TO_CHAR(WMSYS.WM_CONCAT(distinct(aa.inve_id)))as inve_id,h.name as ent_name,
		bb.twoFundName
		from EI.TZ_T_PROJ_INFO aa inner join(select
		b.fund_id,c.fund_name as twoFundName,b.fund_name as threeFundName
		from  EI.TZ_T_PROJ_INFO a
		inner join  EI.BD_T_FUND_INFO b  ON  a.PROJ_OBJECT=b.FUND_ID and b.group_id='1'  and b.status!='2'
		inner join  EI.BD_T_FUND_INFO c  ON  a.inve_id=c.FUND_ID and c.fund_src='1' and c.group_id='1'
		<if test='paramMap.userId != null and paramMap.userId != ""' >
			and c.fund_id in(select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.userId})
		</if>
		WHERE
		a.proj_type in('2','4') and a.group_id='1' and a.status!='2' and b.FUND_SRC in(2,4)
		<![CDATA[and nvl(c.IS_EXCEPT,'0')<1]]>
		)bb on aa.inve_id=bb.fund_id
		left join master.T_ENT_BASE_INFO h on h.ENTERPRISE_ID=aa.proj_object

		<where>
			and aa.proj_type='3' and aa.group_id='1' and aa.status!='2'

			<if test="searchBean.keyword!='' and searchBean.keyword!=null">
				<bind name="pattern" value="'%' + searchBean.keyword + '%'" />
				AND ( h.name like #{pattern} or aa.inve_name like #{pattern}or bb.twoFundName like #{pattern})
			</if>
			<include refid="searchCondition.searchClause" />
		</where>
		group by h.name,aa.inve_id,bb.twoFundName,aa.proj_id
		union all
		select max(g.proj_id) as proj_id,
		max(g.proj_object)as proj_object,
		TO_CHAR(WMSYS.WM_CONCAT(distinct(g.inve_name)))as inve_name,
		TO_CHAR(WMSYS.WM_CONCAT(distinct(g.inve_id)))as inve_id,
		h.name as ent_name,
		b.reg_name as twoFundName
		from ei.TZ_T_PROJ_INFO a
		inner join ei.BD_T_FUND_INFO b  on a.INVE_ID=b.fund_id and b.fund_src='1' and b.IS_EXCEPT='1' and b.group_id='1'
		inner join ei.BD_T_FUND_INFO c on a.proj_object=c.FUND_ID and c.FUND_SRC in(2,4) and c.group_id='1'
		inner join ei.TZ_T_PROJ_INFO d on d.inve_id=c.fund_id and d.proj_type='5' and d.group_id='1'
		inner join ei.BD_T_FUND_INFO f on  d.proj_object=f.fund_id  and f.fund_src='5'
		inner join ei.TZ_T_PROJ_INFO g on g.inve_id=f.fund_id and g.proj_type='6'
		inner join master.T_ENT_BASE_INFO h on h.ENTERPRISE_ID=g.proj_object
		<where>
			<if test='paramMap.userId != null and paramMap.userId != ""' >
				and b.fund_id in(select FUND_ID from BD_T_FUND_USER_RELATE FU
				WHERE FU.USER_ID=#{paramMap.userId})
			</if>
			<if test="searchBean.keyword!='' and searchBean.keyword!=null">
				<bind name="pattern" value="'%' + searchBean.keyword + '%'" />
				AND ( h.name like #{pattern}or g.inve_name like #{pattern} or b.reg_name like #{pattern})
			</if>
			<include refid="searchCondition.searchClause" />
		</where>
		group by h.name,g.inve_name,b.reg_name,g.proj_id
		)aaa where 1=1 order by aaa.proj_id desc
	</select>

	<select id="selectSumInvePage" resultMap="ProjInfoResult"  parameterType="com.founder.ssm.core.common.SearchCondition">

	 select * from (
	    select  max(aa.proj_id) as proj_id,max(aa.proj_object)as proj_object,max(bb.twoFundName) as twoFundName ,max(bb.threeFundName) as threeFundName,h.name as ent_name from EI.TZ_T_PROJ_INFO aa inner join(select
	   b.fund_id,c.fund_name as twoFundName,b.fund_name as threeFundName
		from  EI.TZ_T_PROJ_INFO a
		inner join  EI.BD_T_FUND_INFO b  ON  a.PROJ_OBJECT=b.FUND_ID and b.group_id='1'  and b.status!='2'
		inner join  EI.BD_T_FUND_INFO c  ON  a.inve_id=c.FUND_ID and c.fund_src='1' and c.group_id='1'
		<if test='paramMap.userId != null and paramMap.userId != ""' >
			and c.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{paramMap.userId})
		</if>
	    WHERE
		a.proj_type='2' and a.group_id='1' and a.status!='2' and b.FUND_SRC in(2)
		and a.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
		<![CDATA[and nvl(c.IS_EXCEPT,'0')<1]]>
			)bb on aa.inve_id=bb.fund_id
		left join master.T_ENT_BASE_INFO h on h.ENTERPRISE_ID=aa.proj_object and h.DELETE_FLAG='0'
		left join base.COMM_T_ENT_LABEL k on k.ENT_ID=h.ENTERPRISE_ID
			where  aa.proj_type='3' and aa.group_id='1'
			and aa.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
			and k.label_id=#{paramMap.labelId,jdbcType=VARCHAR}

		    group by h.name,bb.twoFundName,bb.threeFundName
			union all
			 select max(aa.proj_id),max(aa.proj_object),max(aa.inve_name) as twoFundName,'' asthreeFundName,h.name as ent_name
			 from EI.TZ_T_PROJ_INFO aa
			 inner join ei.bd_t_fund_info bb on aa.INVE_ID=bb.fund_id
			  left join master.T_ENT_BASE_INFO h on h.ENTERPRISE_ID=aa.proj_object and h.DELETE_FLAG='0'
			  left join base.COMM_T_ENT_LABEL k on k.ENT_ID=h.ENTERPRISE_ID
			 where  bb.fund_src='1' and bb.group_id='1' 	AND aa.PROJ_TYPE='1' and aa.group_id='1'
		  <![CDATA[and nvl(bb.IS_EXCEPT,'0')<1]]>
		    and aa.status!='2'
		    and bb.status!='2'
			and aa.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
		    and k.label_id=#{paramMap.labelId,jdbcType=VARCHAR}

			<if test="paramMap.userId!=null and paramMap.userId!=''">
				and bb.fund_id in(select FUND_ID from BD_T_FUND_USER_RELATE FU
				WHERE FU.USER_ID=#{paramMap.userId})
			</if>
		group by h.name,aa.inve_name
			union all
			select max(d.proj_id),max(d.proj_object),max(b.fund_name) as twoFundName,max(c.fund_name) as threeFundName,h.name as ent_name
			from ei.TZ_T_PROJ_INFO a
			inner join ei.BD_T_FUND_INFO b  on a.INVE_ID=b.fund_id and b.fund_src='1' and b.IS_EXCEPT='1' and b.group_id='1'
			inner join ei.BD_T_FUND_INFO c on a.proj_object=c.FUND_ID and c.FUND_SRC in(2,4) and c.group_id='1'
			inner join ei.TZ_T_PROJ_INFO d on d.inve_id=c.fund_id and d.proj_type='3' and d.group_id='1'
			left join master.T_ENT_BASE_INFO h on h.ENTERPRISE_ID=d.proj_object
		     left join base.COMM_T_ENT_LABEL k on k.ENT_ID=h.ENTERPRISE_ID
			where 1=1 and k.label_id=#{paramMap.labelId,jdbcType=VARCHAR}
		   and a.status!='2' and a.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
			and b.status!='2'
			and c.status!='2'
		     and d.status!='2' and d.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
			<if test="paramMap.userId!='' and paramMap.userId!=null">
				and b.fund_id in(select FUND_ID from BD_T_FUND_USER_RELATE FU
				WHERE FU.USER_ID=#{paramMap.userId})
			</if>
		group by h.name,b.fund_name,c.fund_name
		union all
			select   max(g.proj_id),max(g.proj_object),max(c.fund_name) as twoFundName,max(f.fund_name) as threeFundName,h.name as ent_name
		from ei.TZ_T_PROJ_INFO a
			inner join ei.BD_T_FUND_INFO b  on a.INVE_ID=b.fund_id and b.fund_src='1' and b.IS_EXCEPT='1' and b.group_id='1'
			inner join ei.BD_T_FUND_INFO c on a.proj_object=c.FUND_ID and c.FUND_SRC in(2,4) and c.group_id='1'
			inner join ei.TZ_T_PROJ_INFO d on d.inve_id=c.fund_id and d.proj_type='5' and d.group_id='1'
			inner join ei.BD_T_FUND_INFO f on  d.proj_object=f.fund_id  and f.fund_src='5'
			inner join ei.TZ_T_PROJ_INFO g on g.inve_id=f.fund_id and g.proj_type='6'
			inner join master.T_ENT_BASE_INFO h on h.ENTERPRISE_ID=g.proj_object
		    left join base.COMM_T_ENT_LABEL k on k.ENT_ID=h.ENTERPRISE_ID
			where 1=1 and k.label_id=#{paramMap.labelId,jdbcType=VARCHAR}
			and a.status!='2' and a.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
			and b.status!='2'
			and c.status!='2'
			and d.status!='2' and d.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
			and f.status!='2'
			and g.status!='2' and g.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
			<if test='paramMap.userId != null and paramMap.userId != ""' >
				and b.fund_id in(select FUND_ID from BD_T_FUND_USER_RELATE FU
				WHERE FU.USER_ID=#{paramMap.userId})
			</if>
		group by h.name,c.fund_name,f.fund_name
			 )dd
		<where>
            1=1
			<if test='paramMap.keyWord != null and paramMap.keyWord != ""' >
				and dd.ent_name like ${paramMap.keyWord}
			</if>
			<include refid="searchCondition.searchClause" />
		</where>
      order by proj_id desc

	</select>

	<select id="selectImportInveList" resultMap="ImportResult"  parameterType="Map">
		select distinct dd.* ,hh.LABEL_NAME,aa.PROPERTY from (
		select  max(aa.proj_id) as proj_id,max(aa.proj_object)as proj_object ,max(bb.twoFundName) as twoFundName,max(bb.threeFundName) as threeFundName,h.name as ent_name,max(k.LABEL_ID)as LABEL_ID from
		EI.TZ_T_PROJ_INFO aa inner join(select
		b.fund_id,c.fund_name as twoFundName,b.fund_name as threeFundName
		from EI.TZ_T_PROJ_INFO a
		inner join EI.BD_T_FUND_INFO b ON a.PROJ_OBJECT=b.FUND_ID and b.group_id='1' and b.status!='2'
		inner join EI.BD_T_FUND_INFO c ON a.inve_id=c.FUND_ID and c.fund_src='1' and c.group_id='1'
		<if test="userId!='' and userId!=null">
			and c.FUND_ID IN (select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{userId,jdbcType=VARCHAR})
		</if>
		WHERE
		a.proj_type='2' and a.group_id='1' and a.status!='2' and b.FUND_SRC in(2)
		<![CDATA[and nvl(c.IS_EXCEPT,'0')<1]]>
		and a.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')

		)bb on aa.inve_id=bb.fund_id
		left join master.T_ENT_BASE_INFO h on h.ENTERPRISE_ID=aa.proj_object and h.DELETE_FLAG='0'
		left join base.COMM_T_ENT_LABEL k on k.ENT_ID=h.ENTERPRISE_ID
		where aa.proj_type='3' and aa.group_id='1'
		and aa.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
		and k.label_id=#{labelId}

		group by h.name,bb.twoFundName,bb.threeFundName
		union all
		select max(aa.proj_id),max(aa.proj_object),max(aa.inve_name) as twoFundName,'' as threeFundName,h.name as ent_name
		,max(k.LABEL_ID) from EI.TZ_T_PROJ_INFO aa
		inner join ei.bd_t_fund_info bb on aa.INVE_ID=bb.fund_id
		left join master.T_ENT_BASE_INFO h on h.ENTERPRISE_ID=aa.proj_object and h.DELETE_FLAG='0'
		left join base.COMM_T_ENT_LABEL k on k.ENT_ID=h.ENTERPRISE_ID
		where bb.fund_src='1' and bb.group_id='1' AND aa.PROJ_TYPE='1' and aa.group_id='1'
		and k.label_id=#{labelId}
		<![CDATA[and nvl(bb.IS_EXCEPT,'0')<1]]>
		and aa.status!='2'
		and bb.status!='2'

		and aa.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
		<if test="userId!=null and userId!=''">
			bb.fund_id in(select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{userId,jdbcType=VARCHAR})
		</if>
		group by h.name,aa.inve_name
		union all
		select  max(d.proj_id),max(d.proj_object),max(b.fund_name) as twoFundName,max(c.fund_name) as threeFundName,h.name as ent_name,max(k.LABEL_ID) from ei.TZ_T_PROJ_INFO a
		inner join ei.BD_T_FUND_INFO b  on a.INVE_ID=b.fund_id and b.fund_src='1' and b.IS_EXCEPT='1' and b.group_id='1'
		inner join ei.BD_T_FUND_INFO c on a.proj_object=c.FUND_ID and c.FUND_SRC in(2,4) and c.group_id='1'
		inner join ei.TZ_T_PROJ_INFO d on d.inve_id=c.fund_id and d.proj_type='3' and d.group_id='1'
		left join master.T_ENT_BASE_INFO h on h.ENTERPRISE_ID=d.proj_object
		left join base.COMM_T_ENT_LABEL k on k.ENT_ID=h.ENTERPRISE_ID
		where 1=1 and k.label_id=#{labelId}
		and a.status!='2' and a.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
		and b.status!='2'

		and c.status!='2'
		and d.status!='2' and d.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
		<if test="userId!='' and userId!=null">
			and b.fund_id in(select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{userId})
		</if>
		group by h.name,b.fund_name,c.fund_name
		union all
		select  max(g.proj_id),max(g.proj_object),max(c.fund_name) as twoFundName,max(f.fund_name) as threeFundName,h.name as ent_name,max(k.LABEL_ID)
		from ei.TZ_T_PROJ_INFO a
		inner join ei.BD_T_FUND_INFO b  on a.INVE_ID=b.fund_id and b.fund_src='1' and b.IS_EXCEPT='1' and b.group_id='1'
		inner join ei.BD_T_FUND_INFO c on a.proj_object=c.FUND_ID and c.FUND_SRC in(2,4) and c.group_id='1'
		inner join ei.TZ_T_PROJ_INFO d on d.inve_id=c.fund_id and d.proj_type='5' and d.group_id='1'
		inner join ei.BD_T_FUND_INFO f on  d.proj_object=f.fund_id  and f.fund_src='5'
		inner join ei.TZ_T_PROJ_INFO g on g.inve_id=f.fund_id and g.proj_type='6'
		inner join master.T_ENT_BASE_INFO h on h.ENTERPRISE_ID=g.proj_object
		left join base.COMM_T_ENT_LABEL k on k.ENT_ID=h.ENTERPRISE_ID
		where 1=1 and k.label_id=#{labelId}
		and a.status!='2' and a.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
		and b.status!='2'

		and c.status!='2'
		and d.status!='2' and d.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
		and f.status!='2'
		and g.status!='2' and g.PROJ_STATUS not in('1','10','11','4','6','3','2','13','14','9')
		<if test='userId != null and userId != ""' >
			and b.fund_id in(select FUND_ID from BD_T_FUND_USER_RELATE FU
			WHERE FU.USER_ID=#{userId})
		</if>
		group by h.name,c.fund_name,f.fund_name
		)dd
		left join BASE.COMM_T_LABEL_ITEM aa on dd.label_id=aa.LABEL_ID
		left join BASE.COMM_T_ENT_LABEL_ITEM hh  on hh.ENT_ID=dd.PROJ_OBJECT and dd.LABEL_ID=hh.LABEL_ID and aa.ITEM_ID=hh.ITEM_ID
		<where>
		    1=1
			<if test='keyWord != null and keyWord != ""' >
				<bind name="pattern" value="'%' + keyWord + '%'" />
				and dd.ent_name like #{pattern}
			</if>
		</where>
		order by dd.proj_id desc

	</select>

	<select id="selectByThrProj" parameterType="map" resultMap="ProjInfoResult">
		select a.* from TZ_T_PROJ_INFO a  inner join TZ_T_PROJ_APP_INFO b on a.PROJ_ID=b.PROJ_ID
		where
		a.proj_name=#{projName}
		and a.INVE_ID=#{inveId}
		and b.INVE_ROUNDS=#{inveRounds}
		AND a.STATUS!='2'
	</select>


	<select id="selectNumList" parameterType="com.ppmg.ei.model.ProjInfoModel" resultMap="ProjInfoResult">
     select * from TZ_T_PROJ_INFO
     where
     INVE_ID = #{inveId}
     and PROJ_TYPE = '2'
     and STATUS!='2'
	</select>

	<select id="selectAllProjInfo" resultMap="ProjInfoResult"   parameterType="com.founder.ssm.core.common.SearchCondition"  >
		select aa.* from ei.tz_t_proj_info aa where 1=1 and aa.status!='2'
		and aa.proj_type='1' and aa.inve_id in(
				select * from (
				select * from ei.bd_t_fund_info where status!='2' and OLD_SUB_PLAT_PROP in(6)
				union all
				select a.* from ei.bd_t_fund_info a
				left join tz_t_proj_info b on b.PROJ_OBJECT=a.fund_id and b.proj_type='2' and b.status!='2'
				where a.status!='2' and a.OLD_SUB_PLAT_PROP in(2,4) and b.proj_status in(7,8,9)
			)

		)

	</select>


	<select id="selectAllProjList" resultMap="ProjInfoResult"   parameterType="com.founder.ssm.core.common.SearchCondition" >
		select * from tz_t_proj_info
		<where>
			 proj_type='1'
			and status!='2'
			<include refid="searchCondition.searchClause" />
		</where>

	</select>

</mapper>