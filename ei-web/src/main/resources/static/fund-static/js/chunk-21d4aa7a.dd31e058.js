(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21d4aa7a"],{"3c7e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"btnBox",staticStyle:{"margin-top":"20px"}},[t.buttonList.includes("50010901")?a("button",{on:{click:t.addInfo}},[a("i",{staticClass:"iconfont iconjiahao"}),t._v("\n        新增\n      ")]):t._e(),t._v(" "),t.buttonList.includes("50010902")?a("button",{on:{click:function(e){return t.editInfo(t.selectList)}}},[a("i",{staticClass:"iconfont iconbianji"}),t._v("\n        编辑\n      ")]):t._e(),t._v(" "),a("button",{on:{click:function(e){return t.lookInfo(t.selectList)}}},[a("i",{staticClass:"iconfont iconyanjing1"}),t._v("\n        查看\n      ")]),t._v(" "),t.buttonList.includes("50010903")?a("button",{on:{click:function(e){return t.delInfo(t.selectList)}}},[a("i",{staticClass:"iconfont iconbianji"}),t._v("\n        删除\n      ")]):t._e()]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData.data,"header-cell-style":{background:"#FEFAFA",color:"#333",fontWeight:"bold",fontSize:"12px",textAlign:"center"},size:"small",border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"70",prop:"year",label:"年度"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"90",prop:"quarterName",label:"季度"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"assessmentDate",label:"估值基准日期"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"endTotalAssets",label:"期末总资产（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"endNetAssets",label:"期末净资产（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"totalManage",label:"累计管理费（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"totalManagePay",label:"累计已付管理费（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"totalConsult",label:"累计投资顾问费（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"totalConsultPay",label:"累计已付投资顾问费（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"totalDeposit",label:"累计托管费/保管费（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"150",prop:"totalDepositPay",label:"累计已付托管费/保管费（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"180",prop:"totalOutsource",label:"累计运营服务费/外包服务费（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"200",prop:"totalOutsourcePay",label:"累计已付运营服务费/外包服务费（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"totalAchievement",label:"累计业绩报酬（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"totalAchievementPay",label:"累计已付业绩报酬（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"totalOther",label:"累计其他费用（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"totalBonus",label:"累计分红（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"130",prop:"totalProfit",label:"累计本金、收益分配（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"220",prop:"totalResidue",label:"剩余可用资金-预留管理费、审计费等（万元）"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"200",prop:"totalAvailableFunds",label:"剩余可用资金-可用于投资资金（万元）"}})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.tableData.currPage,"page-sizes":[5,10,20,30,40,50,60,70],"page-size":t.tableData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.submitLoading,expression:"submitLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{title:t.modalTitle,visible:t.dialogVisible,"element-loading-background":"rgba(0, 0, 0, 0)",width:"70%"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.dialogClose}},[a("formPage",{attrs:{isEdit:t.isEdit},model:{value:t.dialogInfo,callback:function(e){t.dialogInfo=e},expression:"dialogInfo"}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.submitDialogInfo("save")}}},[t._v("保 存")])],1)],1)],1)},s=[],o=(a("a450"),a("e680"),a("aa18"),a("982e"),a("1bc7"),a("fc02"),a("698e")),n=a("ad9f"),l={name:"Index",data:function(){return{tableData:{data:[],pageSize:5,currPage:1,totalCount:0},modalTitle:"",dialogVisible:!1,dialogInfo:{},contractList:[],currencyList:[],submitLoading:!1,selectList:[],buttonList:[],isEdit:!0}},mounted:function(){this.getTableList()},components:{formPage:n["default"]},methods:{getParentId:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(sessionStorage.getItem("code".concat(t))){var s=[];if(i){var n=i.split(",");JSON.parse(sessionStorage.getItem("code".concat(t))).forEach((function(t){n.includes(t.value)&&s.push(t)}))}else s=JSON.parse(sessionStorage.getItem("code".concat(t)));this[e]=s}else o["a"].getCodeByParentId({parentId:t}).then((function(s){var o=[];if(i){var n=i.split(",");s.data.data.options.forEach((function(t){n.includes(t.value)&&o.push(t)}))}else o=s.data.data.options;a[e]=o,sessionStorage.setItem("code".concat(t),JSON.stringify(s.data.data.options))}))},getTableList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i={pageSize:e,currPage:a,fundId:this.$route.query.fundId};o["a"].costList(i).then((function(e){t.tableData=e.data}))},addInfo:function(){this.modalTitle="新增资产和费用",this.dialogVisible=!0},editInfo:function(){var t=this;if(1!==this.selectList.length)this.$message({offset:150,type:"warning",message:"请选择一条数据编辑"});else{var e=this.selectList[0].id;o["a"].costInfo({costId:e}).then((function(e){t.dialogInfo=e.data.data})),this.modalTitle="编辑资产和费用",this.dialogVisible=!0}},lookInfo:function(){var t=this;if(1!==this.selectList.length)this.$message({offset:150,type:"warning",message:"请选择一条数据查看"});else{var e=this.selectList[0].id;o["a"].costInfo({costId:e}).then((function(e){t.dialogInfo=e.data.data})),this.isEdit=!1,this.modalTitle="查看资产和费用",this.dialogVisible=!0}},delInfo:function(t){var e=this;0===t.length?this.$message({offset:150,type:"warning",message:"请至少选择一条数据删除"}):this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.selectList.map((function(t){return t.id})).join();o["a"].delCostInfo({ids:t}).then((function(t){"成功"===t.data.msg?e.getTableList():e.$message({offset:150,type:"warning",message:t.data.msg})}))}))},handleSizeChange:function(t){this.getTableList(t,1)},handleCurrentChange:function(t){this.getTableList(this.tableData.pageSize,t)},handleSelectionChange:function(t){this.selectList=t},dialogClose:function(){this.dialogInfo={},this.isEdit=!0},submitDialogInfo:function(t){var e=this;if("submit"===t);else if("save"===t){if(!this.dialogInfo.year)return void this.$message({offset:150,type:"warning",message:"请选择年度"});this.dialogInfo.fundId=this.$route.query.fundId;var a=/(^[\-0-9][0-9]*(.[0-9]+)?)$/;if(!this.dialogInfo.assessmentDate)return void this.$message({offset:150,type:"warning",message:"请选择估值基准日期"});if(!this.dialogInfo.endTotalAssets&&0!==this.dialogInfo.endTotalAssets)return void this.$message({offset:150,type:"warning",message:"请填写期末总资产"});if(!a.test(this.dialogInfo.endTotalAssets))return void this.$message({offset:150,type:"warning",message:"请正确填写期末总资产,格式为数字"});if(!this.dialogInfo.endNetAssets&&0!==this.dialogInfo.endNetAssets)return void this.$message({offset:150,type:"warning",message:"请填写期末净资产"});if(!a.test(this.dialogInfo.endNetAssets))return void this.$message({offset:150,type:"warning",message:"请正确填写期末净资产,格式为数字"});if(!this.dialogInfo.totalManage&&0!==this.dialogInfo.totalManage)return void this.$message({offset:150,type:"warning",message:"请填写累计管理费"});if(!a.test(this.dialogInfo.totalManage))return void this.$message({offset:150,type:"warning",message:"请正确填写累计管理费,格式为数字"});if(!this.dialogInfo.totalManagePay&&0!==this.dialogInfo.totalManagePay)return void this.$message({offset:150,type:"warning",message:"请填写累计已付管理费"});if(!a.test(this.dialogInfo.totalManagePay))return void this.$message({offset:150,type:"warning",message:"请正确填写累计已付管理费,格式为数字"});if(!this.dialogInfo.totalConsult&&0!==this.dialogInfo.totalConsult)return void this.$message({offset:150,type:"warning",message:"请填写累计投资顾问费"});if(!a.test(this.dialogInfo.totalConsult))return void this.$message({offset:150,type:"warning",message:"请正确填写累计投资顾问费,格式为数字"});if(!this.dialogInfo.totalConsultPay&&0!==this.dialogInfo.totalConsultPay)return void this.$message({offset:150,type:"warning",message:"请填写累计已付投资顾问费"});if(!a.test(this.dialogInfo.totalConsultPay))return void this.$message({offset:150,type:"warning",message:"请正确填写累计已付投资顾问费,格式为数字"});if(!this.dialogInfo.totalDeposit&&0!==this.dialogInfo.totalDeposit)return void this.$message({offset:150,type:"warning",message:"请填写累计托管费/保管费"});if(!a.test(this.dialogInfo.totalDeposit))return void this.$message({offset:150,type:"warning",message:"请正确填写累计托管费/保管费,格式为数字"});if(!this.dialogInfo.totalDepositPay&&0!==this.dialogInfo.totalDepositPay)return void this.$message({offset:150,type:"warning",message:"请填写累计已付托管费/保管费"});if(!a.test(this.dialogInfo.totalDepositPay))return void this.$message({offset:150,type:"warning",message:"请正确填写累计已付托管费/保管费,格式为数字"});if(!this.dialogInfo.totalOutsource&&0!==this.dialogInfo.totalOutsource)return void this.$message({offset:150,type:"warning",message:"请填写累计运营服务费/外包服务费"});if(!a.test(this.dialogInfo.totalOutsource))return void this.$message({offset:150,type:"warning",message:"请正确填写累计运营服务费/外包服务费,格式为数字"});if(!this.dialogInfo.totalOutsourcePay&&0!==this.dialogInfo.totalOutsourcePay)return void this.$message({offset:150,type:"warning",message:"请填写累计已付运营服务费/外包服务费"});if(!a.test(this.dialogInfo.totalOutsourcePay))return void this.$message({offset:150,type:"warning",message:"请正确填写累计已付运营服务费/外包服务费,格式为数字"});if(!this.dialogInfo.totalAchievement&&0!==this.dialogInfo.totalAchievement)return void this.$message({offset:150,type:"warning",message:"请填写累计业绩报酬"});if(!a.test(this.dialogInfo.totalAchievement))return void this.$message({offset:150,type:"warning",message:"请正确填写累计业绩报酬,格式为数字"});if(!this.dialogInfo.totalAchievementPay&&0!==this.dialogInfo.totalAchievementPay)return void this.$message({offset:150,type:"warning",message:"请填写累计已付业绩报酬"});if(!a.test(this.dialogInfo.totalAchievementPay))return void this.$message({offset:150,type:"warning",message:"请正确填写累计已付业绩报酬,格式为数字"});if(!this.dialogInfo.totalOther&&0!==this.dialogInfo.totalOther)return void this.$message({offset:150,type:"warning",message:"请填写累计其他费用"});if(!a.test(this.dialogInfo.totalOther))return void this.$message({offset:150,type:"warning",message:"请正确填写累计其他费用,格式为数字"});if(!this.dialogInfo.totalBonus&&0!==this.dialogInfo.totalBonus)return void this.$message({offset:150,type:"warning",message:"请填写累计分红"});if(!a.test(this.dialogInfo.totalBonus))return void this.$message({offset:150,type:"warning",message:"请正确填写累计分红,格式为数字"});if(!this.dialogInfo.totalProfit&&0!==this.dialogInfo.totalProfit)return void this.$message({offset:150,type:"warning",message:"请填写累计本金、收益分配"});if(!a.test(this.dialogInfo.totalProfit))return void this.$message({offset:150,type:"warning",message:"请正确填写累计本金、收益分配,格式为数字"});if(this.dialogInfo.totalResidue&&0!==this.dialogInfo.totalResidue&&!a.test(this.dialogInfo.totalResidue))return void this.$message({offset:150,type:"warning",message:"请正确填写剩余可用资金-预留管理费、审计费等,格式为数字"});if(this.dialogInfo.totalAvailableFunds&&0!==this.dialogInfo.totalAvailableFunds&&!a.test(this.dialogInfo.totalAvailableFunds))return void this.$message({offset:150,type:"warning",message:"请正确填写剩余可用资金-可用于投资资金,格式为数字"});this.dialogInfo.endTotalAssets=Number(this.dialogInfo.endTotalAssets),this.dialogInfo.endNetAssets=Number(this.dialogInfo.endNetAssets),this.dialogInfo.totalManage=Number(this.dialogInfo.totalManage),this.dialogInfo.totalManagePay=Number(this.dialogInfo.totalManagePay),this.dialogInfo.totalConsult=Number(this.dialogInfo.totalConsult),this.dialogInfo.totalConsultPay=Number(this.dialogInfo.totalConsultPay),this.dialogInfo.totalDeposit=Number(this.dialogInfo.totalDeposit),this.dialogInfo.totalDepositPay=Number(this.dialogInfo.totalDepositPay),this.dialogInfo.totalOutsource=Number(this.dialogInfo.totalOutsource),this.dialogInfo.totalOutsourcePay=Number(this.dialogInfo.totalOutsourcePay),this.dialogInfo.totalAchievement=Number(this.dialogInfo.totalAchievement),this.dialogInfo.totalAchievementPay=Number(this.dialogInfo.totalAchievementPay),this.dialogInfo.totalOther=Number(this.dialogInfo.totalOther),this.dialogInfo.totalBonus=Number(this.dialogInfo.totalBonus),this.dialogInfo.totalProfit=Number(this.dialogInfo.totalProfit),this.dialogInfo.totalResidue&&(this.dialogInfo.totalResidue=Number(this.dialogInfo.totalResidue)),this.dialogInfo.totalAvailableFunds&&(this.dialogInfo.totalAvailableFunds=Number(this.dialogInfo.totalAvailableFunds));var i=this.dialogInfo;this.submitLoading=!0,o["a"].saveCostInfo(i).then((function(t){"成功"===t.data.msg&&"0"===t.data.status?(e.$message({offset:150,type:"success",message:e.dialogInfo.id?"成功保存":"成功新增"}),e.submitLoading=!1,e.dialogVisible=!1,e.getTableList()):(e.$message({offset:150,type:"warning",message:t.data.msg}),e.submitLoading=!1,e.dialogVisible=!1)}))}},setButtonList:function(t){var e=this;this.buttonList=[],this.$route.meta.buttons.forEach((function(t){"资产和费用信息"===t.name&&t.buttons.forEach((function(t){"50010902"===t.code&&e.buttonList.push(t.code),"50010901"===t.code&&e.buttonList.push(t.code),"50010903"===t.code&&e.buttonList.push(t.code)}))}))}}},g=l,f=(a("a682"),a("4ac2")),d=Object(f["a"])(g,i,s,!1,null,"5100c70a",null);e["default"]=d.exports},9447:function(t,e,a){},a682:function(t,e,a){"use strict";a("9447")}}]);