(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e777d7c","chunk-2d0deb05"],{"5f0c":function(e,t,a){"use strict";var n="http://172.29.201.151:8080",i={getEntBaseInfo:n+"/ei-web/entBaseInfo/entInfoDetail",platFuncPermissionList:n+"/ei-web/platFuncPermissionList",platInfoDetail:n+"/ei-web/platformInfo/platInfoDetail",roleList:n+"/ei-web/roleList",assInfoList:n+"/ei-web/assInfoList",ledgerMagList:n+"/ei-web/ledgerMagList",paymentRequestList:n+"/ei-web/paymentRequestList",founderOaApplyInfoList:n+"/ei-web/founderOaApplyInfoList",getYear:n+"/ei-web/getYear",quarterReportJJ:n+"/ei-web/quarterReportJJ",quarterReportQY:n+"/ei-web/quarterReportQY",quarterReportRS:n+"/ei-web/quarterReportRS",projAppInfoOthList:n+"/ei-web/projAppInfoOthList",EntInvestmentList:n+"/ei-web/EntInvestmentList",fundInfoList:n+"/ei-web/fundInfoList",getProjListByFundId:n+"/ei-web/getProjListByFundId",QuotaConfList:n+"/ei-web/QuotaConfList",QuotaConfDetail:n+"/ei-web/QuotaConfDetail",updateTableDataInfo:n+"/ei-web/updateTableDataInfo",entLogo:n+"/ei-web/entBaseInfo/entLogo",getDeleteTableDataById:n+"/ei-web/deleteTableDataById",deleteTableDataByIdWL:n+"/ei-web/deleteTableDataByIdWL",otherThreeMeetingList:n+"/ei-web/otherThreeMeetingList",getLoginInfo:n+"/ei-web/getLoginInfo",getCodeByParentId:n+"/ei-web/commonTCode/getCodeByParentId",projectFuncPermissionList:n+"/ei-web/projectFuncPermissionList"};t["a"]=i},"76b5":function(e,t,a){"use strict";a("b078")},"875e":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));a("a450"),a("fc02"),a("8dee"),a("3269");function n(e,t,a,n,o){var l=top.document.documentElement.clientHeight-50,c=i();"IE10"==c&&(l=top.document.documentElement.clientHeight-50),""!=n&&n>l&&(n=l),layer.open({type:2,title:e,shadeClose:!1,offset:"auto",shade:[.8,"#393D49"],area:[a,n],tips:[1,"#c00"],scrollbar:!1,content:t,end:o})}function i(){var e=navigator.userAgent,t=e.indexOf("Opera")>-1,a=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t,n=e.indexOf("Windows NT 6.1; Trident/7.0;")>-1&&!a,i=e.indexOf("Firefox")>-1,o=e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome"),l=e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1;if(a){var c=new RegExp("MSIE (\\d+\\.\\d+);");c.test(e);var r=parseFloat(RegExp["$1"]);return 7==r?"IE7":8==r?"IE8":9==r?"IE9":10==r?"IE10":11==r?"IE11":"0"}return i?"FF":t?"Opera":o?"Safari":l?"Chrome":n?"Edge":void 0}function o(e,t){var a=e;return-1==e.indexOf("?")?a+="?":a+="&",$.isPlainObject(t)?a+=$.param(t):a+=t,a}function l(e){var t=decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null;return t?t.indexOf("/")>-1?t.split("/")[0]:t:""}},b078:function(e,t,a){},e7ad:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fund-contanier tableCommon"},[a("ul",{staticClass:"editNav"},[a("li",{on:{click:e.add_new}},[e._m(0)]),e._v(" "),a("li",{class:1==e.checkLength?"red":"",on:{click:e.edit_click}},[e._m(1)]),e._v(" "),a("li",{class:1==e.checkLength?"red":"",on:{click:e.printer_click}},[e._m(2)]),e._v(" "),a("li",{class:1==e.checkLength?"red":"",on:{click:e.recall_click}},[e._m(3)]),e._v(" "),a("li",{class:0!==e.multipleSelection.length?"red":"",on:{click:e.delete_click}},[e._m(4)]),e._v(" "),a("li",{staticStyle:{"background-color":"#c50000"},on:{click:e.export_click}},[e._m(5)])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"No",align:"center",type:"index",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"合同名称","header-align":"center",align:"left",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px",color:"blue","text-decoration":"underline",cursor:"pointer",width:"100%",display:"inline-block"},on:{click:function(a){return e.cellClick(t.row)}}},[e._v(e._s(t.row.contractName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"contractTypeDesc",label:"合同类型","header-align":"center",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"applicantName","header-align":"center",align:"center",width:"75",label:"申请人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"applyTime","header-align":"center",align:"center",width:"100",label:"申请时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"processStatus","header-align":"center",align:"center",width:"140",label:"申请状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startTime_endTime","header-align":"center",align:"center",width:"100",label:"起止时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"effecStatus","header-align":"center",align:"center",width:"100",label:"合同状态"}})],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("是否删除")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.delete_click_ack}},[e._v("确 定")])],1)]),e._v(" "),a("div",{staticClass:"paginationNav paginationCommon"},[a("div",{staticClass:"title"},[e._v("共 查询到 "+e._s(e.recordsTotal)+" 条记录 共 "+e._s(e.totalPage)+" 页")]),e._v(" "),a("div",{staticClass:"first-page",on:{click:e.indexBtn}},[e._v("首页")]),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,total:e.recordsTotal,"page-size":e.pageSize,layout:"prev, pager, next",background:"","prev-text":"上一页","next-text":"下一页"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"prev-click":e.prevClick,"next-click":e.nextClick}}),e._v(" "),a("div",{staticClass:"end-page",on:{click:e.backBtn}},[e._v("末页")])],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("新增")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"el-icon-edit"}),e._v("编辑")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"el-icon-printer"}),e._v("打印")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"el-icon-refresh"}),e._v("撤回")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"el-icon-circle-close-outline"}),e._v("删除")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"el-icon-share"}),e._v("导出")])}],o=a("5f0c"),l=a("875e"),c={props:{pkId:{type:String},groupId:{type:String},flag:{type:Boolean}},data:function(){return{tableData:[],currentPage:1,pageSize:5,totalPage:0,shouYePage:1,recordsTotal:null,checkLength:0,multipleSelection:[],dialogVisible:!1}},watch:{flag:function(e){e&&this.getTableData()}},created:function(){this.flag&&this.getTableData()},methods:{getTableData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this,n=(new Date).getTime();this.$axios({url:"".concat(o["a"].founderOaApplyInfoList,"?pkId=").concat(this.pkId,"&groupId=").concat(this.groupId,"&pageSize=").concat(e,"&currPage=").concat(t,"&t=").concat(n),method:"get"}).then((function(e){200===e.status&&(a.tableData=e.data.data,a.recordsTotal=e.data.totalCount,a.totalPage=e.data.totalPage)}))},indexBtn:function(){this.currentPage=this.shouYePage,this.getTableData(this.pageSize,this.currentPage)},backBtn:function(){this.currentPage=this.totalPage,this.getTableData(this.pageSize,this.currentPage)},prevClick:function(e){this.currentPage=e,this.getTableData(this.pageSize,this.currentPage)},nextClick:function(e){this.currentPage=e,this.getTableData(this.pageSize,this.currentPage)},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.getTableData(this.pageSize,e),this.currentPage=e},handleSelectionChange:function(e){1===e.length?this.checkLength=1:this.checkLength=0,this.multipleSelection=e},add_new:function(){var e=this,t={toobarTitle:"新增合同申请",openMethod:"2"},a="/oaweb",n="YHKG_DS_OA",i=Object(l["a"])(a+"/action/bizObjectBase.action",{keyValues:"",tableName:"FOUNDER_OA_APPLY_CONTRACT",dealMark:"new",sequenceName:"",springJndiId:n,resultJsp:"../WEB-INF/views/contractManager/applyContractDeal.jsp",className:"com.founder.oa.bizobject.FounderOaApplyContractObj",inJCEdit:"false",openMethod:t.openMethod});Object(l["c"])(t.toobarTitle,i,"1000px","600px",(function(){e.getTableData()}))},edit_click:function(){if(0==this.checkLength)layer.msg("请选中一项",{icon:6});else if("0"==this.multipleSelection[0].applyStatus){this.multipleSelection[0].processInstId;var e=this.multipleSelection[0].applyNo,t={toobarTitle:"编辑",openMethod:"2"},a="/oaweb",n="",i="YHKG_DS_OA",o="";o=Object(l["a"])(a+"/action/bizObjectBase.action",{keyValues:e,taskInstanceId:n,tableName:"FOUNDER_OA_APPLY_CONTRACT",dealMark:"update",sequenceName:"",springJndiId:i,resultJsp:"../WEB-INF/views/contractManager/applyContractDeal.jsp",className:"com.founder.oa.bizobject.FounderOaApplyContractObj",openMethod:t.openMethod}),Object(l["c"])(t.toobarTitle,o,"1000px","600px",(function(){_self.getTableData()}))}else layer.msg("只有[草稿]状态的申请才能编辑!",{icon:6})},printer_click:function(){if(0==this.checkLength)layer.msg("请选中一项",{icon:6});else{var e="/oaweb",t=this.multipleSelection[0].applyNo,a=this.multipleSelection[0].applyNo2,n=this.multipleSelection[0].processInstId,i=Object(l["a"])(e+"/applyContract/printContractDetails.action",{applyNo:t,instId:n,applyNo2:a});window.open(i)}},recall_click:function(){var e=this,t=this,a="/oaweb";if(0==this.checkLength)layer.msg("请选择需要撤回的任务",{icon:6});else{this.multipleSelection[0].processInstId;var n=this.multipleSelection[0].applyStatus,i=this.multipleSelection[0].applyNo;if(1==n){var o=this.multipleSelection[0].instanceModel.taskinstanceId,l="".concat(a,"/applyContract/execProcessRollBackTask.action?taskId=").concat(o,"&bizKey=").concat(i);this.$confirm("此操作将永久撤回该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios({method:"post",url:l,data:{}}).then((function(e){200===e.status&&(void 0===e.data.resultMsg?(layer.msg("撤回成功",{icon:6}),t.getTableData()):layer.msg("".concat(e.data.resultMsg),{icon:6}))}))})).catch((function(){e.$message({offset:150,type:"info",message:"已取消删除"})}))}else layer.msg("您申请的单据已经有签署信息，撤回后重新提交，则签署人需要重新签署！",{icon:6})}},delete_click:function(){var e=!0;if(0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++)-1==this.multipleSelection[t].applyStatus.indexOf("0")&&(layer.msg("只能草稿下才能删除",{icon:6}),e=!1);e&&(this.dialogVisible=!0)}else layer.msg("请选中一条数据",{icon:6})},delete_click_ack:function(){var e=this,t=this,a=this.multipleSelection,n=[],i="";for(var l in a)n.push(a[l].applyNo);i=n.join(",");var c="".concat(o["a"].deleteTableDataByIdWL,"?applyNos=").concat(i);this.$axios({url:c,method:"get"}).then((function(a){"0"===a.data.status&&(layer.msg("删除成功",{icon:6}),e.dialogVisible=!1,t.getTableData())})).catch((function(e){}))},export_click:function(){this.$axios({method:"get",url:"".concat(o["a"].getLoginInfo)}).then((function(e){if(200===e.status){var t=e.data.data.appUserModel;if(t){var a=t.id,n=t.orgid,i=t.deptid,o="/oaweb",c=Object(l["a"])(o+"/action/exportListview.action",{listViewFileName:"contractInfoManager",listViewId:"contractInfo",fromKeyValues:"",fromKeyValuesJson:"",fromFilter:"",loginId:a,orgId:n,deptId:i,queryFilter:"",permissionId:"90701"});window.location.href=c}}}))},handleClose:function(e){},cellClick:function(e){var t={toobarTitle:"详情",openMethod:"2"},a="/oaweb",n="",i="",o="YHKG_DS_OA",c="",r=e.processInstId,s=e.applyNo,d=e.instanceModel;r&&null!=r&&null!=d?(n=e.instanceModel.processdefinitionId,i=e.instanceModel.taskinstanceId,e.instanceModel.formuri,e.instanceModel.formuriview,c=Object(l["a"])(a+"/editor/editor.jsp?showToolBar=false",{xmlFileName:"contractInfoConfig",groupId:"1",dealMark:"view",defId:n,instId:r,taskId:i,keyValues:s,springJndiId:o})):c=Object(l["a"])(a+"/action/bizObjectBase.action",{keyValues:s,tableName:"FOUNDER_OA_APPLY_CONTRACT",dealMark:"view",sequenceName:"",springJndiId:o,resultJsp:"../WEB-INF/views/contractManager/applyContractDeal.jsp",className:"com.founder.oa.bizobject.FounderOaApplyContractObj",openMethod:t.openMethod}),Object(l["c"])(t.toobarTitle,c,"1000px","600px",(function(){}))}}},r=c,s=(a("76b5"),a("4ac2")),d=Object(s["a"])(r,n,i,!1,null,null,null);t["default"]=d.exports}}]);