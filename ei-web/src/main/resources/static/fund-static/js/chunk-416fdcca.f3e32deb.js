(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-416fdcca","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4"],{"2c2d":function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-box"},[t.hiddenUpload?a("div",{staticClass:"fileView"},t._l(t.fileLists,(function(e){return a("h3",{key:e.uid},[a("a",{attrs:{href:t.contextPath+"attachController/download?fileId="+e.uid,target:"_blank"}},[t._v(t._s(e.name))])])})),0):t._e(),t._v(" "),t.hiddenUpload?t._e():a("div",{staticClass:"el-upload-box"},[a("el-upload",{ref:"upload",attrs:{limit:t.limit,action:t.updatePath,"auto-upload":!0,name:t.upLoadName,data:t.extraData,"file-list":t.fileLists,accept:t.acceptFormat,"on-success":t.handleSuccess,"on-exceed":t.handleExceed,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-error":t.handleError,"on-change":t.handleChange,"before-remove":t.beforeRemove,"before-upload":t.beforeUpload}},[a("el-button",{class:{active:t.hiddenUpload},attrs:{size:t.size,type:"primary"}},[t._v("\n        "+t._s(t.uploadTitle)+"\n      ")]),t._v(" "),t.isShowTip?a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(t._s(t.TipTitle))]):t._e()],1)],1)])},n=[],s=(a("fc02"),a("a450"),a("e680"),a("7f43")),i=a.n(s),o={name:"GuluUpload",model:{prop:"value",event:"update-value"},props:{value:[String],isShowTip:{type:Boolean,default:!0},hiddenUpload:{type:Boolean,default:!1},TipTitle:{type:String,default:"最大可上传50M文件"},uploadTitle:{type:String,default:"点击上传"},limit:{type:Number,default:50},extraData:{type:Object,default:function(){return{bizTableName:"",bizTablePk:"",fieldName:""}}},size:{type:String,default:"small"},upLoadName:{type:String,default:"file"},contextPath:{type:String,default:"/ei-web/"},acceptFormat:{type:String,default:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF,.rp,.vsd"}},data:function(){return{fileList:[],fileLists:[]}},watch:{value:function(t){null!==t&&void 0!==t&&""!==t?this.getFileData():(this.fileLists=[],this.fileList=[])},hiddenUpload:function(){},fileLists:function(t){}},computed:{updatePath:function(){var t="".concat(this.contextPath,"attachController/upload?fieldToken=").concat(this.value?this.value:"");return t}},created:function(){null!==this.value&&void 0!==this.value&&""!==this.value?this.getFileData():(this.fileLists=[],this.fileList=[])},methods:{getFileData:function(t){var e=this,a=t||this.value;""!=a&&null!=a||(a="-1");var l=this.contextPath+"attachController/getFileList?fieldToken="+a;i()({url:l,method:"get"}).then((function(t){"0"===t.data.status&&t.data.data.fileList&&e.$nextTick((function(){e.fileLists=t.data.data.fileList,t.data.data.fileList.length>0&&(e.fileList=t.data.data.fileList),0===e.fileLists.length&&(e.$emit("update-value",""),this.fileLists=[],this.fileList=[])}))}))},beforeUpload:function(t){},handleChange:function(t,e){var a=t.name.substring(t.name.lastIndexOf(".")+1),l="rp"===a,n="vsd"===a;(l||n)&&(this.$message({offset:150,message:"上传文件不能是 rp 、vsd 格式!",type:"warning"}),this.$refs.upload.clearFiles())},handleExceed:function(t,e){this.$message.warning("当前限制选择 ".concat(t.length," 个文件，本次选择了 ").concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},handleRemove:function(t,e){var a=this;i()({url:this.contextPath+"attachController/delete?fileId="+t.uid,method:"get"}).then((function(t){"0"===t.data.status&&(0==e.length?(a.$emit("update-value",""),a.fileLists=[],a.fileList=[]):a.fileLists=e)}))},handleError:function(t,e,a){},handleSuccess:function(t,e,a){var l=t.data.fieldToken;void 0==l&&(l=this.value);var n=this.updatePath.split("=");""!=n[1]&&""==l&&(l=n[1]),this.$emit("update-value",l),this.fileLists=a,this.getFileData(l)},beforeRemove:function(t,e){return this.$confirm("确定移除 ".concat(t.name,"？"))},handlePreview:function(t){window.open(this.contextPath+"attachController/download?fileId="+t.uid)}}},u=o,c=(a("e116"),a("4ac2")),r=Object(c["a"])(u,l,n,!1,null,"e22390a6",null);e["a"]=r.exports},"33b0":function(t,e,a){"use strict";a("82d9")},"82d9":function(t,e,a){},bb60:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog-item"},[a("el-row",{staticClass:"infoRow",attrs:{type:"flex",align:"center",justify:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n      平台全称"),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),t.isEdit?a("el-col",{staticClass:"col-content",attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"small",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":t.searchFundList,loading:t.loading},on:{change:t.getFund},model:{value:t.value.creditCode,callback:function(e){t.$set(t.value,"creditCode",e)},expression:"value.creditCode"}},t._l(t.fundList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),t._v(" "),t.isEdit?t._e():a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n      "+t._s(t.value.fundName)+"\n    ")]),t._v(" "),a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n      平台简称\n      "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),t.isEdit?a("el-col",{staticClass:"col-content",attrs:{span:8}},[a("el-input",{attrs:{size:"small",maxlength:"30"},model:{value:t.value.platShortName,callback:function(e){t.$set(t.value,"platShortName",e)},expression:"value.platShortName"}})],1):t._e()],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{type:"flex",align:"center",justify:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n      统一社会信用代码\n    ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n      "+t._s(t.value.info1)+"\n    ")]),t._v(" "),a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n      组织机构代码\n    ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n      "+t._s(t.value.info2)+"\n    ")])],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{type:"flex",align:"center",justify:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n      所属行业\n    ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n      "+t._s(t.value.info3)+"\n    ")]),t._v(" "),a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n      平台性质\n      "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"small",placeholder:"请选择"},model:{value:t.value.platType,callback:function(e){t.$set(t.value,"platType",e)},expression:"value.platType"}},t._l(t.platTypeList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{type:"flex",align:"center",justify:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n      主营业务\n    ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:20}},[t._v("\n      "+t._s(t.value.info4)+"\n    ")])],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{type:"flex",align:"center",justify:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n      注册资本\n    ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n      "+t._s(t.value.info6)+"\n    ")]),t._v(" "),a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n      成立日期\n    ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n      "+t._s(t.value.stepDate)+"\n    ")])],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{type:"flex",align:"center",justify:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n      法定代表人\n    ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:20}},[t._v("\n      "+t._s(t.value.info10)+"\n    ")])],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{type:"flex",align:"center",justify:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n      地址\n    ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:20}},[t._v("\n      "+t._s(t.value.info11)+"\n    ")])],1)],1)},n=[],s=(a("8dee"),a("aa18"),a("982e"),a("1bc7"),a("fc02"),a("7562")),i=a("e19c"),o=a("2c2d"),u={name:"FormPage",components:{upLoad:o["a"]},model:{prop:"value",event:"update-value"},props:{value:{type:Object,default:function(){return{}}},isEdit:{type:Boolean,default:!0},detail:{type:Boolean,default:!1},dialogVisible:{type:Boolean,default:!1},status:{type:String,default:"add"}},data:function(){return{registerStatusList:[],url:i["a"],loading:!1,fundList:[],platPropList:[],subPlatPropList:[],inveFundList:[],recordList:[],fundStructList:[],selectGpList:[],fundPeople:[],fundStatusList:[],fundAttributeList:[],manageDepartmentList:[],approvalDepartmentList:[{value:"1",label:"办公室"},{value:"2",label:"理办公室"},{value:"3",label:"江苏省政办公室"},{value:"4",label:"江苏省政"}],provinceFunudSourceList:[],investmentTypeList:[],raiseType:[],trueOrfalse:[],currencyList:[],fundsTypeList:[],platTypeList:[]}},computed:{},watch:{isEdit:function(t){var e=this;!0===t&&s["a"].adminList({keyWord:this.value.mcName}).then((function(t){e.loading=!1,e.fundPeople=t.data.data.map((function(t){return{value:t.adminId,label:t.adminName}}))}))},status:function(t){},value:function(t){"edit"===this.status&&(this.searchFundList(this.value.platName),this.getFund(this.value.creditCode))}},mounted:function(){this.getParentId("601","platTypeList"),"edit"===this.status&&(this.searchFundList(this.value.platName),this.getFund(this.value.creditCode))},methods:{getGpDetail:function(){if(null!==this.value.gp&&(null!==this.value.gp||0!==this.value.gp.length)){var t=this.value.gp.split(","),e=this.value.gpId.split(",");this.value.gpIdList=e;var a=[];t.forEach((function(t,l){a.push({value:e[l],label:t})})),this.selectGpList=a}},getParentId:function(t,e){var a=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(sessionStorage.getItem("code".concat(t))){var n=[];if(l){var i=l.split(",");JSON.parse(sessionStorage.getItem("code".concat(t))).forEach((function(t){i.includes(t.value)&&n.push(t)}))}else n=JSON.parse(sessionStorage.getItem("code".concat(t)));this[e]=n}else s["a"].getCodeByParentId({parentId:t}).then((function(n){var s=[];if(l){var i=l.split(",");n.data.data.options.forEach((function(t){i.includes(t.value)&&s.push(t)}))}else s=n.data.data.options;a[e]=s,sessionStorage.setItem("code".concat(t),JSON.stringify(n.data.data.options))}))},searchFundList:function(t){var e=this;t?(this.loading=!0,s["a"].QCCSearchData({keyword:t.replace(/\s+/g,"")}).then((function(t){var a=JSON.parse(t.data.data.value);e.loading=!1,null==a.Result||(e.fundList=a.Result.map((function(t){return{value:t.CreditCode,label:t.Name}})))}))):this.loading=!0},getFund:function(t){var e=this;s["a"].QCCDataGetDetailsByName({keyword:t}).then((function(t){var a=JSON.parse(t.data.data.value).Result;return null===a?(e.$message({offset:150,type:"warning",message:"查询无结果，请重新选择合适数据"}),!1):a})).then((function(t){return e.$set(e.value,"info1",t.CreditCode?t.CreditCode:null),e.$set(e.value,"info2",t.OrgNo?t.OrgNo:null),e.$set(e.value,"info3",t.Industry.Industry?t.Industry.Industry:null),e.$set(e.value,"info4",t.Scope?t.Scope:null),e.$set(e.value,"info5",t.Address?t.Address:null),e.$set(e.value,"info6",t.RegistCapi?t.RegistCapi:null),e.$set(e.value,"stepDate",t.StartDate?t.StartDate.slice(0,10):null),e.$set(e.value,"info9",t.Name?t.Name:null),e.$set(e.value,"info10",t.OperName?t.OperName:null),e.$set(e.value,"info11",t.Address?t.Address:null),e.$set(e.value,"platName",t.Name?t.Name:null),s["a"].saveEntBaseInfo(t)})).then((function(t){"系统异常"!==t.data.msg?e.value.entId=t.data.msg:(e.$message({offset:150,type:"warning",message:"网络波动，请重新选择"}),e.value.socode="",e.value.code1="",e.value.people="",e.value.date="",e.value.address="",e.value.regName="",e.value.projName="",e.value.fundName="",e.value.creditCode="")})).catch((function(t){console.error(t)}))},selectSubPlatProp:function(t){this.$set(this.value,"subPlatProp",""),this.getParentId("204"+t,"subPlatPropList")},writeGpName:function(t){var e=this;t?(this.loading=!0,s["a"].QCCSearchData({keyword:t}).then((function(t){var a=JSON.parse(t.data.data.value);e.loading=!1,null==a.Result||(e.selectGpList=a.Result.map((function(t){return{value:t.CreditCode,label:t.Name}})))}))):this.loading=!0},getGpInfo:function(t){var e=this;this.$forceUpdate();var a=t.join(","),l=[];this.value.gpId=a,t.forEach((function(t){s["a"].QCCDataGetDetailsByName({keyword:t}).then((function(t){var a=JSON.parse(t.data.data.value).Result;return null===a?(e.$message({offset:150,type:"warning",message:"查询无结果，请重新选择合适数据"}),!1):a})).then((function(t){l.push(t.Name),e.value.gp=l.join(",")}))})),0===t.length&&(this.value.gp=null,this.value.gpId=null)},removeGp:function(t){var e=this;0===this.selectGpList.length&&(this.value.gp="",this.value.gpId=""),this.selectGpList.forEach((function(a,l){a.value===t&&e.selectGpList.splice(l,1)}))},fundManagementPeople:function(t){var e=this;if(t){this.loading=!0;var a={pageSize:10,currPage:1,keyWord:t,fundId:""};s["a"].adminList(a).then((function(t){e.loading=!1,e.fundPeople=t.data.data.map((function(t){return{value:t.adminId,label:t.adminName}}))}))}else this.loading=!0},selectFundPeopleHandel:function(t){var e=this;this.$forceUpdate(),this.value.mcId=t,this.fundPeople.forEach((function(a){a.value===t&&(e.value.mcName=a.label)}))},getInveName:function(t){var e=this;this.inveFundList.forEach((function(a){a.fundId===t&&(e.value.inveName=a.fundName,e.value.inveParentId=a.parentId,e.value.inveTypeStr=a.oldSubPlatProp,e.value.inveName=a.fundName,e.value.inveFundCode=a.fundCode,e.$set(e.value,"oldFundCodeSign",a.fundCodeSign))}))}}},c=u,r=(a("33b0"),a("4ac2")),d=Object(r["a"])(c,l,n,!1,null,"2f80c920",null);e["default"]=d.exports},c059:function(t,e,a){},e116:function(t,e,a){"use strict";a("c059")}}]);