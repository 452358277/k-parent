(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f8fe41a","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4","chunk-a6d221b4"],{"0f8c":function(t,e,a){},"2c2d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-box"},[t.hiddenUpload?a("div",{staticClass:"fileView"},t._l(t.fileLists,(function(e){return a("h3",{key:e.uid},[a("a",{attrs:{href:t.contextPath+"attachController/download?fileId="+e.uid,target:"_blank"}},[t._v(t._s(e.name))])])})),0):t._e(),t._v(" "),t.hiddenUpload?t._e():a("div",{staticClass:"el-upload-box"},[a("el-upload",{ref:"upload",attrs:{limit:t.limit,action:t.updatePath,"auto-upload":!0,name:t.upLoadName,data:t.extraData,"file-list":t.fileLists,accept:t.acceptFormat,"on-success":t.handleSuccess,"on-exceed":t.handleExceed,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-error":t.handleError,"on-change":t.handleChange,"before-remove":t.beforeRemove,"before-upload":t.beforeUpload}},[a("el-button",{class:{active:t.hiddenUpload},attrs:{size:t.size,type:"primary"}},[t._v("\n        "+t._s(t.uploadTitle)+"\n      ")]),t._v(" "),t.isShowTip?a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(t._s(t.TipTitle))]):t._e()],1)],1)])},i=[],l=(a("fc02"),a("a450"),a("e680"),a("7f43")),s=a.n(l),o={name:"GuluUpload",model:{prop:"value",event:"update-value"},props:{value:[String],isShowTip:{type:Boolean,default:!0},hiddenUpload:{type:Boolean,default:!1},TipTitle:{type:String,default:"最大可上传50M文件"},uploadTitle:{type:String,default:"点击上传"},limit:{type:Number,default:50},extraData:{type:Object,default:function(){return{bizTableName:"",bizTablePk:"",fieldName:""}}},size:{type:String,default:"small"},upLoadName:{type:String,default:"file"},contextPath:{type:String,default:"/ei-web/"},acceptFormat:{type:String,default:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF,.rp,.vsd"}},data:function(){return{fileList:[],fileLists:[]}},watch:{value:function(t){null!==t&&void 0!==t&&""!==t?this.getFileData():(this.fileLists=[],this.fileList=[])},hiddenUpload:function(){},fileLists:function(t){}},computed:{updatePath:function(){var t="".concat(this.contextPath,"attachController/upload?fieldToken=").concat(this.value?this.value:"");return t}},created:function(){null!==this.value&&void 0!==this.value&&""!==this.value?this.getFileData():(this.fileLists=[],this.fileList=[])},methods:{getFileData:function(t){var e=this,a=t||this.value;""!=a&&null!=a||(a="-1");var n=this.contextPath+"attachController/getFileList?fieldToken="+a;s()({url:n,method:"get"}).then((function(t){"0"===t.data.status&&t.data.data.fileList&&e.$nextTick((function(){e.fileLists=t.data.data.fileList,t.data.data.fileList.length>0&&(e.fileList=t.data.data.fileList),0===e.fileLists.length&&(e.$emit("update-value",""),this.fileLists=[],this.fileList=[])}))}))},beforeUpload:function(t){},handleChange:function(t,e){var a=t.name.substring(t.name.lastIndexOf(".")+1),n="rp"===a,i="vsd"===a;(n||i)&&(this.$message({offset:150,message:"上传文件不能是 rp 、vsd 格式!",type:"warning"}),this.$refs.upload.clearFiles())},handleExceed:function(t,e){this.$message.warning("当前限制选择 ".concat(t.length," 个文件，本次选择了 ").concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},handleRemove:function(t,e){var a=this;s()({url:this.contextPath+"attachController/delete?fileId="+t.uid,method:"get"}).then((function(t){"0"===t.data.status&&(0==e.length?(a.$emit("update-value",""),a.fileLists=[],a.fileList=[]):a.fileLists=e)}))},handleError:function(t,e,a){},handleSuccess:function(t,e,a){var n=t.data.fieldToken;void 0==n&&(n=this.value);var i=this.updatePath.split("=");""!=i[1]&&""==n&&(n=i[1]),this.$emit("update-value",n),this.fileLists=a,this.getFileData(n)},beforeRemove:function(t,e){return this.$confirm("确定移除 ".concat(t.name,"？"))},handlePreview:function(t){window.open(this.contextPath+"attachController/download?fileId="+t.uid)}}},c=o,d=(a("e116"),a("4ac2")),r=Object(d["a"])(c,n,i,!1,null,"e22390a6",null);e["a"]=r.exports},3055:function(t,e,a){"use strict";a("f3e8")},"50f9":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-pagination"},[a("span",{staticClass:"button-first",on:{click:t.toFirst}},[t._v("首页")]),t._v(" "),a("el-pagination",{attrs:{size:"small",background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"prev-click":t.prevClickChange,"next-click":t.nextClickChange}}),t._v(" "),a("span",{staticClass:"button-first",on:{click:t.toEnd}},[t._v("末页")]),t._v(" "),a("span",{staticClass:"total"},[t._v("共 "+t._s(t.total)+" 条 ")]),t._v(" "),a("div",{staticClass:"pagination__editor"},[t._v("\n        跳至\n        "),a("el-input",{attrs:{size:"mini",maxlength:"2"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.inputKeyEvent(e)}},model:{value:t.internalCurrentPage,callback:function(e){t.internalCurrentPage=t._n(e)},expression:"internalCurrentPage"}}),t._v("\n        页\n      ")],1)],1)])],1)},i=[],l=(a("e680"),{name:"GuluPagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"prev, pager, next"},background:{type:Boolean,default:!1},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},data:function(){return{value:null,internalCurrentPage:1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}},pageCount:{get:function(){return Math.ceil(this.total/this.pageSize)}}},watch:{currentPage:{immediate:!0,handler:function(t){this.internalCurrentPage=t}}},created:function(){},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t})},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize})},toFirst:function(){this.$emit("update:page",1),this.$emit("pagination",{page:1,limit:this.pageSize})},toEnd:function(){this.$emit("update:page",this.pageCount),this.$emit("pagination",{page:this.pageCount,limit:this.pageSize})},inputKeyEvent:function(){var t=this.internalCurrentPage>this.pageCount?this.pageCount:this.internalCurrentPage;this.internalCurrentPage=t,this.$emit("update:page",t),this.$emit("pagination",{page:t,limit:this.pageSize})},prevClickChange:function(t){},nextClickChange:function(t){},getValidCurrentPage:function(t){t=parseInt(t,10);var e,a="number"===typeof this.internalPageCount;return a?t<1?e=1:t>this.internalPageCount&&(e=this.internalPageCount):(isNaN(t)||t<1)&&(e=1),(void 0===e&&isNaN(t)||0===e)&&(e=1),void 0===e?t:e}}}),s=l,o=(a("59a0"),a("4ac2")),c=Object(o["a"])(s,n,i,!1,null,null,null);e["a"]=c.exports},"59a0":function(t,e,a){"use strict";a("0f8c")},"6ed1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"solicitationTable"},[a("div",{staticClass:"btnBox"},[t.buttonList.includes("60201030201")?a("button",{on:{click:t.addSolicitation}},[a("i",{staticClass:"iconfont iconjiahao"}),t._v(" "),a("div",[t._v("新增")])]):t._e(),t._v(" "),t.buttonList.includes("60201030202")?a("button",{on:{click:t.editSolicitation}},[a("i",{staticClass:"iconfont iconbianji"}),t._v(" "),a("div",[t._v("编辑")])]):t._e(),t._v(" "),a("button",{on:{click:t.lookSolicitation}},[a("i",{staticClass:"iconfont iconsousuo"}),t._v(" "),a("div",[t._v("查看")])]),t._v(" "),t.buttonList.includes("60201030203")?a("button",{on:{click:t.delSolicitation}},[a("i",{staticClass:"iconfont iconqingchu"}),t._v(" "),a("div",[t._v("删除")])]):t._e()]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.data,"header-cell-style":{background:"#FEFAFA",color:"#333",fontSize:"12px",textAlign:"center",fontWeight:"bold"},border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{fixed:"",type:"selection",align:"center",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",align:"center",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"300",prop:"fundName",label:"母基金名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"200",prop:"planSize",label:"拟征集规模(万元)"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"200",prop:"cooSize",label:"已征集规模(万元)"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"120",prop:"planNum",label:"拟征集数量(家)"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"120",prop:"totalCooNum",label:"已征集数量(家)"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"120",prop:"fitCooNum",label:"符合征集条件(家)"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"120",prop:"statusName",label:"状态"}})],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":t.tableData.currPage,"page-sizes":[10,15,20,30],"page-size":t.tableData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.totalCount},on:{"size-change":t.tableDataSizeChange,"current-change":t.tableDataCurrentChange}}),t._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.submitLoading,expression:"submitLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{title:t.modalTitle,visible:t.dialogVisible,"element-loading-background":"rgba(0, 0, 0, 0)",width:"70%"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.dialogClose}},["征集信息详情"!==t.modalTitle?a("div",{staticClass:"dialog-item"},[a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          关联公开征集\n          "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:20}},[a("el-button",{attrs:{type:"primary",size:"small",disabled:"新增征集信息"!==t.modalTitle},on:{click:t.choiceOpenCollect}},[t._v("选择\n          ")])],1)],1)],1):t._e(),t._v(" "),a("div",{staticClass:"dialog-item"},[a("div",{staticClass:"dialog-item-title"},[t._v("公开征集")]),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          母基金名称\n        ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n          "+t._s(t.dialogInfo.fundName)+"\n        ")]),t._v(" "),a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          母基金规模(万元)\n        ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n          "+t._s(t.dialogInfo.fundSize)+"\n        ")])],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          拟征集规模(万元)\n        ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n          "+t._s(t.dialogInfo.planSize)+"\n        ")]),t._v(" "),a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          拟征集数量(家)\n        ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n          "+t._s(t.dialogInfo.planNum)+"\n        ")])],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          征集开始日期\n        ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n          "+t._s(t.dialogInfo.startDate)+"\n        ")]),t._v(" "),a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          征集截止日期\n        ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n          "+t._s(t.dialogInfo.endDate)+"\n        ")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-item"},[a("div",{staticClass:"dialog-item-title"},[t._v("征集信息")]),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          已征集规模(万元)\n        ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},["征集信息详情"!==t.modalTitle?a("el-input",{attrs:{size:"small"},model:{value:t.dialogInfo.cooSize,callback:function(e){t.$set(t.dialogInfo,"cooSize",e)},expression:"dialogInfo.cooSize"}}):t._e(),t._v(" "),"征集信息详情"===t.modalTitle?a("div",[t._v("\n            "+t._s(t.dialogInfo.cooSize)+"\n          ")]):t._e()],1),t._v(" "),a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          已征集数量(家)\n          "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:8}},["征集信息详情"!==t.modalTitle?a("el-input",{attrs:{size:"small"},model:{value:t.dialogInfo.totalCooNum,callback:function(e){t.$set(t.dialogInfo,"totalCooNum",e)},expression:"dialogInfo.totalCooNum"}}):t._e(),t._v(" "),"征集信息详情"===t.modalTitle?a("div",[t._v("\n            "+t._s(t.dialogInfo.totalCooNum)+"\n          ")]):t._e()],1)],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          符合征集条件(家)\n          "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:20}},["征集信息详情"!==t.modalTitle?a("el-input",{attrs:{size:"small"},model:{value:t.dialogInfo.fitCooNum,callback:function(e){t.$set(t.dialogInfo,"fitCooNum",e)},expression:"dialogInfo.fitCooNum"}}):t._e(),t._v(" "),"征集信息详情"===t.modalTitle?a("div",[t._v("\n            "+t._s(t.dialogInfo.fitCooNum)+"\n          ")]):t._e()],1)],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          附件说明\n        ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:20}},["征集信息详情"!==t.modalTitle?a("el-input",{attrs:{size:"small",type:"textarea",rows:4,maxlength:"1500"},model:{value:t.dialogInfo.attaDetail,callback:function(e){t.$set(t.dialogInfo,"attaDetail",e)},expression:"dialogInfo.attaDetail"}}):t._e(),t._v(" "),"征集信息详情"===t.modalTitle?a("div",[a("pre",[t._v(t._s(t.dialogInfo.attaDetail))])]):t._e()],1)],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          相关附件\n        ")]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:20}},[t.dialogVisible?a("upLoad",{staticStyle:{width:"100%"},attrs:{"context-path":t.url.upApi,"hidden-upload":"征集信息详情"===t.modalTitle},model:{value:t.dialogInfo.attaFile,callback:function(e){t.$set(t.dialogInfo,"attaFile",e)},expression:"dialogInfo.attaFile"}}):t._e()],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-item"},[a("div",{staticClass:"dialog-item-title"},[t._v("基金管理人")]),t._v(" "),a("div",["征集信息详情"!==t.modalTitle?a("div",{staticClass:"btnBox"},[a("button",{on:{click:t.addFundManage}},[a("i",{staticClass:"iconfont iconjiahao"}),t._v(" "),a("div",[t._v("新增")])]),t._v(" "),a("button",{on:{click:t.editFundManage}},[a("i",{staticClass:"iconfont iconbianji"}),t._v(" "),a("div",[t._v("编辑")])])]):t._e(),t._v(" "),"征集信息详情"===t.modalTitle?a("div",{staticClass:"btnBox"},[a("button",{on:{click:t.lookFundManage}},[a("i",{staticClass:"iconfont iconsousuo"}),t._v(" "),a("div",[t._v("查看")])])]):t._e(),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.fundManageTableList.data,"header-cell-style":{background:"#FEFAFA",color:"#333",fontSize:"12px",textAlign:"center"},border:""},on:{"selection-change":t.fundManageChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"300",prop:"fundAdminName",label:"基金管理人"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"200",prop:"fundName",label:"子基金"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"100",prop:"isFit",label:"是否符合"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.isFit?a("div",[t._v("是")]):t._e(),t._v(" "),"0"===e.row.isFit?a("div",[t._v("否")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"100",prop:"raiseAmount",label:"基金规模(万元)"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"100",prop:"fundAdminApplyMoney",label:"申请金额(万元)"}}),t._v(" "),"征集信息详情"!==t.modalTitle?a("el-table-column",{attrs:{align:"center","min-width":"100",prop:"",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.delManage(e)}}},[t._v("删除")])]}}],null,!1,3238357728)}):t._e()],1)],1)]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("关 闭")]),t._v(" "),"look"!==t.status?a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitDialogInfo("save")}}},[t._v("保 存")]):t._e(),t._v(" "),"look"!==t.status?a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitDialogInfo("submit")}}},[t._v("提 交")]):t._e()],1)]),t._v(" "),a("el-dialog",{attrs:{title:t.fundManageTitle,visible:t.fundManageVisible,width:"65%"},on:{"update:visible":function(e){t.fundManageVisible=e},close:t.fundManageInfoClose}},[a("div",{staticClass:"dialog-item"},[a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          子基金\n          "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),"基金管理人详情"!==t.fundManageTitle?a("el-col",{staticClass:"col-content",attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"small",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":t.searchFundList,loading:t.loading},on:{change:t.getFund},model:{value:t.fundManageInfo.creditCode,callback:function(e){t.$set(t.fundManageInfo,"creditCode",e)},expression:"fundManageInfo.creditCode"}},t._l(t.childFundList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),t._v(" "),"基金管理人详情"===t.fundManageTitle?a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n          "+t._s(t.fundManageInfo.fundName)+"\n        ")]):t._e(),t._v(" "),a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          基金管理人\n          "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),"基金管理人详情"!==t.fundManageTitle?a("el-col",{staticClass:"col-content",attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"small",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":t.searchFundManage,loading:t.loading},on:{change:t.getManage},model:{value:t.fundManageInfo.fundAdminId,callback:function(e){t.$set(t.fundManageInfo,"fundAdminId",e)},expression:"fundManageInfo.fundAdminId"}},t._l(t.fundManageList,(function(t){return a("el-option",{key:t.adminId,attrs:{label:t.adminName,value:t.adminId}})})),1)],1):t._e(),t._v(" "),"基金管理人详情"===t.fundManageTitle?a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n          "+t._s(t.fundManageInfo.fundAdminName)+"\n        ")]):t._e()],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          是否符合\n          "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),"基金管理人详情"!==t.fundManageTitle?a("el-col",{staticClass:"col-content",attrs:{span:8}},[a("el-radio",{attrs:{label:"1"},model:{value:t.fundManageInfo.isFit,callback:function(e){t.$set(t.fundManageInfo,"isFit",e)},expression:"fundManageInfo.isFit"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:t.fundManageInfo.isFit,callback:function(e){t.$set(t.fundManageInfo,"isFit",e)},expression:"fundManageInfo.isFit"}},[t._v("否")])],1):t._e(),t._v(" "),"基金管理人详情"===t.fundManageTitle?a("el-col",{staticClass:"col-content",attrs:{span:8}},["1"===t.fundManageInfo.isFit?a("div",[t._v("是")]):t._e(),t._v(" "),"0"===t.fundManageInfo.isFit?a("div",[t._v("否")]):t._e()]):t._e(),t._v(" "),a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          基金规模(万元)\n          "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),"基金管理人详情"!==t.fundManageTitle?a("el-col",{staticClass:"col-content",attrs:{span:8}},[a("el-input",{attrs:{size:"small"},model:{value:t.fundManageInfo.raiseAmount,callback:function(e){t.$set(t.fundManageInfo,"raiseAmount",e)},expression:"fundManageInfo.raiseAmount"}})],1):t._e(),t._v(" "),"基金管理人详情"===t.fundManageTitle?a("el-col",{staticClass:"col-content",attrs:{span:8}},[t._v("\n          "+t._s(t.fundManageInfo.raiseAmount)+"\n        ")]):t._e()],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:4}},[t._v("\n          申请金额(万元)\n          "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),"基金管理人详情"!==t.fundManageTitle?a("el-col",{staticClass:"col-content",attrs:{span:20}},[a("el-input",{attrs:{size:"small"},model:{value:t.fundManageInfo.fundAdminApplyMoney,callback:function(e){t.$set(t.fundManageInfo,"fundAdminApplyMoney",e)},expression:"fundManageInfo.fundAdminApplyMoney"}})],1):t._e(),t._v(" "),"基金管理人详情"===t.fundManageTitle?a("el-col",{staticClass:"col-content",attrs:{span:20}},[t._v("\n          "+t._s(t.fundManageInfo.fundAdminApplyMoney)+"\n        ")]):t._e()],1)],1),t._v(" "),a("div",{staticClass:"dialog-item"},[a("div",{staticClass:"dialog-item-title"},[t._v("征集材料")]),t._v(" "),"基金管理人详情"!==t.fundManageTitle?a("div",{staticClass:"btnBox"},[a("button",{on:{click:t.addCollectionMaterial}},[a("i",{staticClass:"iconfont iconjiahao"}),t._v(" "),a("div",[t._v("新增")])]),t._v(" "),a("button",{on:{click:t.editCollectionMaterial}},[a("i",{staticClass:"iconfont iconbianji"}),t._v(" "),a("div",[t._v("编辑")])])]):t._e(),t._v(" "),"基金管理人详情"===t.fundManageTitle?a("div",{staticClass:"btnBox"},[a("button",{on:{click:t.lookCollectionMaterial}},[a("i",{staticClass:"iconfont iconsousuo"}),t._v(" "),a("div",[t._v("查看")])])]):t._e(),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.fundManageInfo.conditionFileModels,"header-cell-style":{background:"#FEFAFA",color:"#333",fontSize:"12px",textAlign:"center"},border:""},on:{"selection-change":t.materialChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"300",prop:"fileTypeName",label:"征集材料类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.getFileType(e.row.fileType))+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"160",prop:"fileDate",label:"发生时间"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"300",prop:"fileDetail",label:"附件说明"}}),t._v(" "),"基金管理人详情"!==t.fundManageTitle?a("el-table-column",{attrs:{align:"center","min-width":"300",prop:"attaFile",label:"附件"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.attaFile?a("upLoad",{attrs:{"hidden-upload":!0,"context-path":t.url.upApi},model:{value:e.row.attaFile,callback:function(a){t.$set(e.row,"attaFile",a)},expression:"scope.row.attaFile"}}):t._e()]}}],null,!1,3900048302)}):t._e(),t._v(" "),"基金管理人详情"!==t.fundManageTitle?a("el-table-column",{attrs:{align:"center","min-width":"120",prop:"attaFile",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.delCollectionMaterial(e)}}},[t._v("删除")])]}}],null,!1,3283509712)}):t._e()],1)],1),t._v(" "),"基金管理人详情"!==t.fundManageTitle?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelFundMange}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitFundMange}},[t._v("保 存")])],1):t._e(),t._v(" "),"基金管理人详情"===t.fundManageTitle?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelFundMange}},[t._v("关 闭")])],1):t._e()]),t._v(" "),a("el-dialog",{attrs:{title:t.materialTitle,visible:t.collectionMaterialVisible,width:"40%"},on:{"update:visible":function(e){t.collectionMaterialVisible=e},close:t.collectionMaterialVisibleClose}},[a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:6}},[t._v("\n        征集材料\n        "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),"征集材料详情"!==t.materialTitle?a("el-col",{staticClass:"col-content",attrs:{span:18}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.materialInfo.fileType,callback:function(e){t.$set(t.materialInfo,"fileType",e)},expression:"materialInfo.fileType"}},t._l(t.materialList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),t._v(" "),"征集材料详情"===t.materialTitle?a("el-col",{staticClass:"col-content",attrs:{span:18}},[t._v("\n        "+t._s(t.materialInfo.fileTypeName)+"\n      ")]):t._e()],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:6}},[t._v("\n        发生日期\n      ")]),t._v(" "),"征集材料详情"!==t.materialTitle?a("el-col",{staticClass:"col-content",attrs:{span:18}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",size:"small",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.materialInfo.fileDate,callback:function(e){t.$set(t.materialInfo,"fileDate",e)},expression:"materialInfo.fileDate"}})],1):t._e(),t._v(" "),"征集材料详情"===t.materialTitle?a("el-col",{staticClass:"col-content",attrs:{span:18}},[t._v("\n        "+t._s(t.materialInfo.fileDate)+"\n      ")]):t._e()],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:6}},[t._v("\n        附件说明\n      ")]),t._v(" "),"征集材料详情"!==t.materialTitle?a("el-col",{staticClass:"col-content",attrs:{span:18}},[a("el-input",{attrs:{type:"textarea",size:"small",rows:4},model:{value:t.materialInfo.fileDetail,callback:function(e){t.$set(t.materialInfo,"fileDetail",e)},expression:"materialInfo.fileDetail"}})],1):t._e(),t._v(" "),"征集材料详情"===t.materialTitle?a("el-col",{staticClass:"col-content",attrs:{span:18}},[a("pre",[t._v("          "+t._s(t.materialInfo.fileDetail)+"\n        ")])]):t._e()],1),t._v(" "),a("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[a("el-col",{staticClass:"col-title",attrs:{span:6}},[t._v("\n        附件\n        "),a("span",{staticClass:"mustIn"})]),t._v(" "),a("el-col",{staticClass:"col-content",attrs:{span:18}},[t.collectionMaterialVisible?a("upLoad",{staticStyle:{width:"100%"},attrs:{"context-path":t.url.upApi,"hidden-upload":"征集材料详情"===t.materialTitle},model:{value:t.materialInfo.attaFile,callback:function(e){t.$set(t.materialInfo,"attaFile",e)},expression:"materialInfo.attaFile"}}):t._e()],1)],1),t._v(" "),"征集材料详情"!==t.materialTitle?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.collectionMaterialVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitMaterialInfo}},[t._v("保 存")])],1):t._e(),t._v(" "),"征集材料详情"===t.materialTitle?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.collectionMaterialVisible=!1}}},[t._v("关 闭")])],1):t._e()],1),t._v(" "),a("el-dialog",{attrs:{title:"选择公开征集",visible:t.openCollectVisible,width:"60%"},on:{"update:visible":function(e){t.openCollectVisible=e},close:t.fundManageClose}},[a("div",{staticClass:"titleItem-item",staticStyle:{"margin-left":"20px"}},[a("el-input",{staticClass:"searchInput",attrs:{placeholder:"请输入母基金名称",size:"small","prefix-icon":"el-icon-search"},model:{value:t.openCollectListFundName,callback:function(e){t.openCollectListFundName=e},expression:"openCollectListFundName"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getOpenCollectList(5,1)}}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.removeOpenCollectList}},[t._v("清空")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.openCollectList.data,"header-cell-style":{background:"#FEFAFA",color:"#333",fontSize:"12px",textAlign:"center"},border:""},on:{"selection-change":t.openCollectChange}},[a("el-table-column",{attrs:{fixed:"",type:"selection",align:"center",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",align:"center",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"300",prop:"fundName",label:"母基金名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"200",prop:"fundSize",label:"母基金规模(万元)"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"200",prop:"planSize",label:"拟征集规模(万元)"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"120",prop:"planNum",label:"拟征集数量(家)"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"120",prop:"startDate",label:"征集开始日期"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"120",prop:"endDate",label:"征集结束日期"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"120",prop:"statusName",label:"状态"}})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.openCollectList.currPage,"page-sizes":[5,10,15,20],"page-size":t.openCollectList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.openCollectList.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.openCollectVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitOpenCollectList}},[t._v("保 存")])],1)],1)],1)},i=[],l=(a("8dee"),a("e680"),a("aa18"),a("982e"),a("fc02"),a("1bc7"),a("7562")),s=a("e19c"),o=a("2c2d"),c=a("50f9"),d={name:"SolicitationTable",components:{upLoad:o["a"],pagination:c["a"]},props:{tableData:{type:Object,default:function(){return{data:[],currPage:1,pageSize:1,totalCount:1}}}},data:function(){return{loading:!1,dialogVisible:!1,modalTitle:"",url:s["a"],dialogInfo:{},fundManageTitle:"",fundManage:[],fundManageVisible:!1,openCollectVisible:!1,openCollectList:{data:[],totalCount:1,currPage:1,pageSize:5},manageIndex:"",openCollectListFundName:"",childFundVisible:!1,fundMcVisible:!1,collectionMaterialVisible:!1,materialList:[{label:"申请书",value:"1"},{label:"承诺函",value:"2"},{label:"基本材料",value:"3"},{label:"其他",value:"4"},{label:"证明材料",value:"5"}],materialInfo:{},materialType:"1",childFundList:[],childFundTotal:5,childFundTable:{page:1,limit:5},fundMcList:[{value:"1",label:"基金管理人1"},{value:"2",label:"基金管理人2"},{value:"3",label:"基金管理人3"}],fundMcTotal:5,fundMcTable:{page:1,limit:5},organizationalForm:"1",organizationalFormList:[{label:"合作企业",value:"1"},{label:"有限责任公司",value:"2"},{label:"股份有限公司",value:"3"},{label:"契约式",value:"4"},{label:"中外合作非法人企业",value:"5"},{label:"行政事业单位",value:"6"},{label:"其他",value:"7"}],choiceChildFundVisible:!1,choiceFundMcVisible:!1,createFundMcInfoVisible:!1,createChildFundInfoVisible:!1,createShareholderInfoVisible:!1,shareholderTable:[],checkList:[],raiseType:[],parentFundList:[{value:"1",label:"母基金名称1"},{value:"1",label:"母基金名称1"}],tableInfo:{data:[],totalCount:1,currPage:1,pageSize:5},fundManageList:[],fundManageTableList:{data:[],totalCount:1,currPage:1,pageSize:5},selectOpenCollect:[],selectCollectList:[],fundMangeKeyword:"",fundManageInfo:{conditionFileModels:[]},selectMaterialList:[],selectFundManage:[],materialTitle:"新增征集材料",status:"",materialIndex:"",submitLoading:!1,buttonList:[]}},computed:{},mounted:function(){var t=this;this.$route.meta.buttons.forEach((function(e){"60201030201"===e.code&&t.buttonList.push(e.code),"60201030202"===e.code&&t.buttonList.push(e.code),"60201030203"===e.code&&t.buttonList.push(e.code)}))},methods:{getParentId:function(t,e){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(sessionStorage.getItem("code".concat(t))){var i=[];if(n){var s=n.split(",");JSON.parse(sessionStorage.getItem("code".concat(t))).forEach((function(t){s.includes(t.value)&&i.push(t)}))}else i=JSON.parse(sessionStorage.getItem("code".concat(t)));this[e]=i}else l["a"].getCodeByParentId({parentId:t}).then((function(i){var l=[];if(n){var s=n.split(",");i.data.data.options.forEach((function(t){s.includes(t.value)&&l.push(t)}))}else l=i.data.data.options;a[e]=l,sessionStorage.setItem("code".concat(t),JSON.stringify(i.data.data.options))}))},getFileType:function(t){var e="";return this.materialList.forEach((function(a){a.value===t&&(e=a.label)})),e},getFundManageList:function(){},handleSelectionChange:function(t){this.selectCollectList=t},fundManageChange:function(t){this.selectFundManage=t},dialogClose:function(){this.dialogInfo={},this.status=""},fundManageClose:function(){},fundManageInfoClose:function(){this.fundManageInfo={},this.fundManageInfo.conditionItemModel=[]},addSolicitation:function(){this.dialogVisible=!0,this.modalTitle="新增征集信息",this.fundManageTableList.data=[]},editSolicitation:function(){var t=this;if(1!==this.selectCollectList.length)this.$message({offset:150,message:"请选择一条数据",type:"warning"});else{if("0"!==this.selectCollectList[0].status)return void this.$message({offset:150,message:"数据已进入审批，不可编辑",type:"warning"});this.dialogVisible=!0,this.modalTitle="编辑征集信息";var e=this.selectCollectList[0].conditionId;this.dialogInfo={},l["a"].getCollectInformationDetail({conditionId:e}).then((function(e){t.$forceUpdate(),t.dialogInfo=e.data.data,t.fundManageTableList.data=e.data.data.conditionItemModel,l["a"].getOpenSolicitationDeatil({conditionId:t.dialogInfo.conditionId}).then((function(e){t.dialogInfo.fundName=e.data.data.fundName,t.dialogInfo.fundSize=e.data.data.fundSize,t.dialogInfo.planNum=e.data.data.planNum,t.dialogInfo.planSize=e.data.data.planSize,t.dialogInfo.startDate=e.data.data.startDate,t.dialogInfo.endDate=e.data.data.endDate}))}))}},lookSolicitation:function(){var t=this;if(1!==this.selectCollectList.length)this.$message({offset:150,message:"请选择一条数据",type:"warning"});else{this.status="look",this.dialogVisible=!0,this.modalTitle="征集信息详情";var e=this.selectCollectList[0].conditionId;this.dialogInfo={},l["a"].getCollectInformationDetail({conditionId:e}).then((function(e){t.$forceUpdate(),t.dialogInfo=e.data.data,t.fundManageTableList.data=e.data.data.conditionItemModel,l["a"].getOpenSolicitationDeatil({conditionId:t.dialogInfo.conditionId}).then((function(e){t.dialogInfo.fundName=e.data.data.fundName,t.dialogInfo.fundSize=e.data.data.fundSize,t.dialogInfo.planNum=e.data.data.planNum,t.dialogInfo.planSize=e.data.data.planSize,t.dialogInfo.startDate=e.data.data.startDate,t.dialogInfo.endDate=e.data.data.endDate}))}))}},getFundList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l["a"].selectConditionItem({infoId:this.dialogInfo.infoId?this.infoId:"",name:this.fundMangeKeyword,pageSize:e,currPage:a}).then((function(e){t.fundManageTableList=e.data}))},delSolicitation:function(){var t=this;if(0===this.selectCollectList.length)this.$message({offset:150,message:"请至少选择一条数据",type:"warning"});else{var e=[];this.selectCollectList.forEach((function(t){"0"===t.status&&e.push(t.infoId)})),e.length!==this.selectCollectList.length?this.$message({offset:150,message:"进入审核的数据无法删除",type:"warning"}):this.$confirm("确认删除这".concat(e.length,"条数据?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(a){l["a"].delConditionInfoItemAll({infoId:e.join(",")}).then((function(e){"0"===e.data.status&&"成功"===e.data.msg&&t.$message({offset:150,message:"删除成功",type:"success"}),t.$emit("refreshData",t.tableData.pageSize,1)}))})).catch((function(t){}))}},addFundManage:function(){this.fundManageTitle="新建基金管理人",this.fundManageVisible=!0,this.childFundList=[]},editFundManage:function(){var t=this;if(1!==this.selectFundManage.length)this.$message({offset:150,type:"warning",message:"请选择一条数据编辑"});else{this.fundManageTableList.data.forEach((function(e,a){e.fundId===t.selectFundManage[0].fundId&&(t.manageIndex=a)})),this.fundManageTitle="编辑基金管理人",this.fundManageVisible=!0;var e=JSON.parse(JSON.stringify(this.selectFundManage));this.fundManageInfo=e[0],this.$set(this.fundManageInfo,"creditCode",this.fundManageInfo.fundId),this.childFundList=[{value:this.fundManageInfo.fundId,label:this.fundManageInfo.fundName}],this.searchFundManage(this.fundManageInfo.fundAdminName)}},openCollectChange:function(t){this.selectOpenCollect=t},choiceOpenCollect:function(){this.getOpenCollectList(),this.openCollectVisible=!0},getOpenCollectList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l["a"].getOpenSolicitation({pageSize:e,currPage:a,fundName:this.openCollectListFundName,status:"2"}).then((function(e){"成功"===e.data.msg&&(t.openCollectList=e.data)}))},addCollectionMaterial:function(){this.materialTitle="新增征集材料",this.collectionMaterialVisible=!0},choiceChildFund:function(){this.choiceChildFundVisible=!0},choiceFundMc:function(){this.choiceFundMcVisible=!0},childFundChange:function(){},childFundPageChange:function(){},fundMcChange:function(){},addChildFundInfo:function(){this.createChildFundInfoVisible=!0},addFundMcInfo:function(){this.createFundMcInfoVisible=!0},shareholderChange:function(){},addShareholderInfo:function(){this.createShareholderInfoVisible=!0},openCollectListChange:function(t){this.getOpenCollectList(t.limit,t.page)},fundManageTableListChange:function(){},tableDataChange:function(t){this.$emit("refreshData",t.limit,t.page)},submitOpenCollectList:function(){if(!(this.selectOpenCollect.length>1))return 1===this.selectOpenCollect.length?(this.dialogInfo.conditionId=this.selectOpenCollect[0].conditionId,this.dialogInfo.fundName=this.selectOpenCollect[0].fundName,this.$set(this.dialogInfo,"fundSize",this.selectOpenCollect[0].fundSize),this.dialogInfo.planSize=this.selectOpenCollect[0].planSize,this.dialogInfo.planNum=this.selectOpenCollect[0].planNum,this.dialogInfo.startDate=this.selectOpenCollect[0].startDate,this.dialogInfo.endDate=this.selectOpenCollect[0].endDate,this.dialogInfo.fundId=this.selectOpenCollect[0].fundId,void(this.openCollectVisible=!1)):void(this.openCollectVisible=!1);this.$message({offset:150,type:"warning",message:"请选择一条数据保存"})},submitDialogInfo:function(t){var e=this,a=this.dialogInfo;if(a.conditionItemModel=this.fundManageTableList.data,a.conditionItemModel.forEach((function(t){t.conditionFileModels&&t.conditionFileModels.length>0&&t.conditionFileModels.forEach((function(t){delete t.createDt,delete t.updateDt})),delete t.createDt,delete t.updateDt})),a.conditionId)if(void 0!==a.totalCooNum&&null!==a.totalCooNum&&""!==String(a.totalCooNum))if(isNaN(Number(String(a.totalCooNum))))this.$message({offset:150,type:"warning",message:"请填写正确的已征集数量，格式为数字"});else if(void 0!==a.fitCooNum&&null!==a.fitCooNum&&""!==String(a.fitCooNum))if(isNaN(Number(String(a.fitCooNum))))this.$message({offset:150,type:"warning",message:"请填写正确的符合征集条件，格式为数字"});else{if("save"===t)a.tag="1";else if(a.tag="0",0===a.conditionItemModel.length)return void this.$message({offset:150,type:"warning",message:"请增加基金管理人"});"新增征集信息"===this.modalTitle?(this.submitLoading=!0,l["a"].addConditionInfoItemAll(a).then((function(t){"0"===t.data.status?(e.$message({offset:150,type:"success",message:"新增成功"}),e.submitLoading=!1,e.$emit("refreshData",e.tableData.pageSize,e.tableData.currPage),e.dialogVisible=!1):(e.submitLoading=!1,e.$message({offset:150,type:"warning",message:t.data.msg}))}))):"编辑征集信息"===this.modalTitle?(this.submitLoading=!0,l["a"].upDateCollectInformation(a).then((function(t){"0"===t.data.status?(e.$message({offset:150,type:"success",message:"编辑成功"}),e.dialogVisible=!1,e.submitLoading=!1,e.$emit("refreshData",e.tableData.pageSize,e.tableData.currPage)):(e.submitLoading=!1,e.$message({offset:150,type:"warning",message:t.data.msg}))}))):this.dialogVisible=!1}else this.$message({offset:150,type:"warning",message:"请填写符合征集条件，不能为空"});else this.$message({offset:150,type:"warning",message:"请填写已征集数量，不能为空"});else this.$message({offset:150,type:"warning",message:"请关联公开征集信息"})},submitFundMange:function(){this.fundManageInfo.fundId?this.fundManageInfo.fundAdminId?this.fundManageInfo.isFit?void 0!==this.fundManageInfo.raiseAmount&&null!==this.fundManageInfo.raiseAmount&&""!==String(this.fundManageInfo.raiseAmount).trim()?isNaN(Number(this.fundManageInfo.raiseAmount))?this.$message({offset:150,type:"warning",message:"请填写正确的基金规模"}):void 0!==this.fundManageInfo.fundAdminApplyMoney&&null!==this.fundManageInfo.fundAdminApplyMoney&&""!==String(this.fundManageInfo.fundAdminApplyMoney).trim()?isNaN(Number(this.fundManageInfo.fundAdminApplyMoney))?this.$message({offset:150,type:"warning",message:"请填写正确的申请金额"}):("新建基金管理人"===this.fundManageTitle?this.fundManageTableList.data.push(this.fundManageInfo):this.fundManageTableList.data.splice(this.manageIndex,1,this.fundManageInfo),this.fundManageVisible=!1):this.$message({offset:150,type:"warning",message:"请填写申请金额"}):this.$message({offset:150,type:"warning",message:"请填写基金规模"}):this.$message({offset:150,type:"warning",message:"请选择是否符合"}):this.$message({offset:150,type:"warning",message:"请选择基金管理人"}):this.$message({offset:150,type:"warning",message:"请选择子基金"})},submitMaterialInfo:function(){var t=this;this.materialInfo.fileType?(this.materialList.forEach((function(e){e.value===t.materialInfo.fileType&&(t.materialInfo.fileTypeName=e.label)})),"新增征集材料"===this.materialTitle?(this.fundManageInfo.conditionFileModels||(this.fundManageInfo.conditionFileModels=[]),this.fundManageInfo.conditionFileModels.push(this.materialInfo)):this.fundManageInfo.conditionFileModels.splice(this.materialIndex,1,this.materialInfo),this.collectionMaterialVisible=!1):this.$message({offset:150,type:"warning",message:"请选择材料类型"})},collectionMaterialVisibleClose:function(){this.materialInfo={},this.materialInfo.conditionFileModels=[]},editCollectionMaterial:function(){var t=this;if(this.materialTitle="编辑征集材料",1===this.selectMaterialList.length){this.fundManageInfo.conditionFileModels.forEach((function(e,a){e===t.selectMaterialList[0]&&(t.materialIndex=a)})),this.collectionMaterialVisible=!0;var e=JSON.parse(JSON.stringify(this.selectMaterialList)),a=new Array;a=e[0],this.materialInfo=a}else this.$message({offset:150,type:"warning",message:"请选择一条数据编辑"})},delCollectionMaterial:function(t){var e=this;this.$confirm("确认删除这条数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(a){var n=t.$index;e.fundManageInfo.conditionFileModels.splice(n,1)})).catch((function(t){}))},materialChange:function(t){this.selectMaterialList=t},removeOpenCollectList:function(){this.openCollectListFundName="",this.getOpenCollectList()},handleCurrentChange:function(t){this.getOpenCollectList(this.openCollectList.pageSize,t)},handleSizeChange:function(t){this.getOpenCollectList(t,1)},tableDataSizeChange:function(t){this.$emit("refreshData",t,this.tableData.currentPage)},tableDataCurrentChange:function(t){this.$emit("refreshData",this.tableData.pageSize,t)},searchFundList:function(t){var e=this;t?(this.loading=!0,l["a"].QCCSearchData({keyword:t.replace(/\s+/g,"")}).then((function(t){var a=JSON.parse(t.data.data.value);e.loading=!1,null==a.Result||(e.childFundList=a.Result.map((function(t){return{value:t.CreditCode,label:t.Name}})))}))):this.loading=!0},getFund:function(t){var e=this;l["a"].QCCDataGetDetailsByName({keyword:t}).then((function(t){var a=JSON.parse(t.data.data.value).Result;return null===a?(e.$message({offset:150,type:"warning",message:"请从下拉框选择合适数据"}),!1):a})).then((function(t){return e.$set(e.fundManageInfo,"fundName",t.Name?t.Name:"..."),l["a"].saveEntBaseInfo(t)})).then((function(t){"系统异常"!==t.data.msg?e.$set(e.fundManageInfo,"fundId",t.data.msg):(e.$message({offset:150,type:"warning",message:"网络波动，请重新选择"}),e.fundManageInfo.fundId="")})).catch((function(t){console.error(t)}))},searchFundManage:function(t){var e=this;t?(this.loading=!0,l["a"].adminList({keyWord:t.replace(/\s+/g,"")}).then((function(t){e.fundManageList=t.data.data,e.loading=!1}))):this.loading=!0},getManage:function(t){var e=this;this.fundManageList.forEach((function(a){t===a.adminId&&(e.fundManageInfo.fundAdminName=a.adminName)}))},delManage:function(t){var e=this;this.$confirm("确认删除这条数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(a){var n=t.$index;e.fundManageTableList.data.splice(n,1)})).catch((function(t){}))},lookFundManage:function(){var t=this;if(1!==this.selectFundManage.length)this.$message({offset:150,type:"warning",message:"请选择一条数据查看"});else{this.fundManageTableList.data.forEach((function(e,a){e.fundId===t.selectFundManage[0].fundId&&(t.manageIndex=a)})),this.fundManageTitle="基金管理人详情",this.fundManageVisible=!0;var e=JSON.parse(JSON.stringify(this.selectFundManage));this.fundManageInfo=e[0],this.$set(this.fundManageInfo,"creditCode",this.fundManageInfo.fundId),this.childFundList=[{value:this.fundManageInfo.fundId,label:this.fundManageInfo.fundName}],this.searchFundManage(this.fundManageInfo.fundAdminName)}},cancelFundMange:function(){this.fundManageVisible=!1},lookCollectionMaterial:function(){var t=this;if(this.materialTitle="征集材料详情",1===this.selectMaterialList.length){this.fundManageInfo.conditionFileModels.forEach((function(e,a){e===t.selectMaterialList[0]&&(t.materialIndex=a)})),this.collectionMaterialVisible=!0;var e=JSON.parse(JSON.stringify(this.selectMaterialList)),a=new Array;a=e[0],this.materialList.forEach((function(t){t.value===a.fileType&&(a.fileTypeName=t.label)})),this.materialInfo=a}else this.$message({offset:150,type:"warning",message:"请选择一条数据查看"})}}},r=d,u=(a("3055"),a("4ac2")),f=Object(u["a"])(r,n,i,!1,null,"f2a5b942",null);e["default"]=f.exports},c059:function(t,e,a){},e116:function(t,e,a){"use strict";a("c059")},f3e8:function(t,e,a){}}]);