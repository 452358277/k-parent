(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e1f576a"],{"02bf":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.add}},[t._v("新增")])],1),t._v(" "),a("div",{staticClass:"box_margin"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0)",size:"small",data:t.tableData.data,border:"","header-cell-style":{background:"#FEFAFA",color:"#333",fontWeight:"bold",fontSize:"12px",textAlign:"center"}}},[a("el-table-column",{attrs:{prop:"year",label:"年份","min-width":"80"}}),a("el-table-column",{attrs:{prop:"quarter",label:"季度","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.quarter?a("div",[t._v("第一季度")]):"2"===e.row.quarter?a("div",[t._v("第二季度")]):"3"===e.row.quarter?a("div",[t._v("第三季度")]):"4"===e.row.quarter?a("div",[t._v("第四季度")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"manageFee",label:"管理费(万元)","min-width":"110"}}),a("el-table-column",{attrs:{prop:"collocationFee",label:"资金托管费用(万元)","min-width":"160"}}),a("el-table-column",{attrs:{prop:"otherFee",label:"其他费用(万元)","min-width":"110"}}),a("el-table-column",{attrs:{prop:"interestIncome",label:"利息收入(万元)","min-width":"110"}}),a("el-table-column",{attrs:{prop:"investIncome",label:"投资收入(万元)","min-width":"110"}}),a("el-table-column",{attrs:{prop:"otherIncome",label:"其他收入(万元)","min-width":"110"}}),a("el-table-column",{attrs:{prop:"surplus",label:"结余(万元)","min-width":"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return["2"!==e.row.status?a("el-link",{attrs:{type:"danger",underline:!1}},[t._v("未确认")]):a("el-link",{attrs:{type:"success",underline:!1}},[t._v("已确认")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"210"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"tableBtn"},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.detail(e,"edit")}}},[t._v("编辑")]),t._v(" "),a("div",{staticClass:"split_line"}),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.detail(e,"view")}}},[t._v("查看")]),t._v(" "),a("div",{staticClass:"split_line"}),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.detail(e,"confirm")}}},[t._v("确认")]),t._v(" "),a("div",{staticClass:"split_line"}),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.del(e)}}},[t._v("删除")])],1)]}}])})],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"20px",display:"flex","justify-content":"flex-end"},attrs:{"current-page":t.tableData.currPage,"page-sizes":[10,20,30],"page-size":t.tableData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"90%"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.dialogClose}},[a("formPage",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.dialogLoading,expression:"dialogLoading",modifiers:{fullscreen:!0,lock:!0}}],ref:"formPage",attrs:{"is-edit":t.isEdit},model:{value:t.dialogData,callback:function(e){t.dialogData=e},expression:"dialogData"}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("关闭")]),t._v(" "),t.isEdit?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.save}},[t._v("保存")]):t._e(),t._v(" "),t.confirm?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.save}},[t._v("确认")]):t._e()],1)],1)],1)])},s=[],r=a("bed7"),o=a("fa8a"),i={name:"Index",components:{formPage:r["default"]},data:function(){return{tableData:{data:[{}],currPage:1,pageSize:10,totalCount:0},dialogVisible:!1,dialogData:{},isEdit:!0,tableLoading:!1,dialogLoading:!1,fundId:"",dialogTitle:"",confirm:!1}},created:function(){this.initPage()},methods:{initPage:function(){this.fundId=this.$route.params.fundId,this.getTableList()},add:function(){var t=this;this.dialogVisible=!0,this.dialogTitle="新增",this.$nextTick((function(){t.$refs.formPage.clearValidate()}))},getTableList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.tableLoading=!0,Object(o["L"])({pageSize:e,currPage:a,fundId:this.fundId}).then((function(e){"成功"===e.msg?(t.tableData=e,t.tableLoading=!1):t.tableLoading=!1}))},handleSizeChange:function(t){this.getTableList(t,1)},handleCurrentChange:function(t){this.getTableList(this.tableData.pageSize,t)},dialogClose:function(){var t=this;this.dialogData={},this.isEdit=!0,this.$nextTick((function(){t.$refs.formPage.clearValidate()}))},save:function(){var t=this;if(!this.$refs.formPage.checkValue())return!1;this.confirm&&(this.dialogData.status="2"),console.log(this.dialogData),this.dialogLoading=!0,this.dialogData.fundId=this.fundId,Object(o["M"])(this.dialogData).then((function(e){console.log(e),"成功"===e.msg?(t.dialogVisible=!1,t.dialogLoading=!1,t.$message({message:"保存成功",type:"success"}),t.getTableList()):(t.$message({message:e.msg,type:"warning"}),t.dialogLoading=!1),t.$emit("update-year")}))},detail:function(t,e){var a=this;console.log(t,e),Object(o["J"])({financeId:t.row.financeId}).then((function(t){console.log(t),"成功"===t.msg&&(a.dialogData=t.data,a.dialogVisible=!0,a.isEdit="edit"===e,a.dialogTitle="edit"===e?"编辑":"查看",a.confirm="confirm"===e)}))},del:function(t){var e=this;this.$confirm("是否删除此数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["I"])({financeId:t.row.financeId}).then((function(t){"成功"===t.msg?(e.$message({message:"成功删除",type:"success"}),e.getTableList()):e.$message({message:t.msg,type:"warning"})}))})).catch((function(){}))}}},n=i,u=a("4ac2"),c=Object(u["a"])(n,l,s,!1,null,"8a4091b0",null);e["default"]=c.exports},5966:function(t,e,a){t.exports={theme:"#b28147"}},adeb:function(t,e,a){"use strict";a("5966")},bed7:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"purvar_form"},[a("el-col",[a("el-form",{ref:"formRule",attrs:{model:t.value,rules:t.formRule}},[a("el-row",{staticClass:"removeBorder"},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"",prop:"projObjectName"}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:4}},[a("span",[t._v("提示")])]),t._v(" "),a("el-col",{attrs:{span:20}},[a("div",{staticStyle:{color:"#f00"}},[a("div",[t._v("1.本季度管理费用按管理费提取时间填报")]),t._v(" "),a("div",[t._v("2.累计数据为基金设立至今的累计数据")])])])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"year"}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("年份")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy",size:"small","value-format":"yyyy",type:"year",placeholder:"选择年"},on:{change:t.yearChange},model:{value:t.value.year,callback:function(e){t.$set(t.value,"year",e)},expression:"value.year"}}):a("div",[t._v(t._s(t.value.year))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"quarter"}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("季度")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",disabled:!t.value.year,placeholder:"请选择"},on:{change:t.checkQuarter},model:{value:t.value.quarter,callback:function(e){t.$set(t.value,"quarter",e)},expression:"value.quarter"}},t._l(t.quarterList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):a("div",["1"===t.value.quarter?a("div",[t._v("第一季度")]):t._e(),t._v(" "),"2"===t.value.quarter?a("div",[t._v("第二季度")]):t._e(),t._v(" "),"3"===t.value.quarter?a("div",[t._v("第三季度")]):t._e(),t._v(" "),"4"===t.value.quarter?a("div",[t._v("第四季度")]):t._e()])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"manageFee",rules:{validator:t.checkIsNumber,trigger:["blur"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("本季度管理费用(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},on:{change:function(e){return t.computed("now")}},model:{value:t.value.manageFee,callback:function(e){t.$set(t.value,"manageFee",e)},expression:"value.manageFee"}}):a("div",[t._v(t._s(t.value.manageFee))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"totalManageFee",rules:{validator:t.checkIsNumber,trigger:["blur"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("累计管理费用(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},on:{change:function(e){return t.computed("total")}},model:{value:t.value.totalManageFee,callback:function(e){t.$set(t.value,"totalManageFee",e)},expression:"value.totalManageFee"}}):a("div",[t._v(t._s(t.value.totalManageFee))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"collocationFee",rules:{validator:t.checkIsNumber,trigger:["blur"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("本季度托管费用(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},on:{change:function(e){return t.computed("now")}},model:{value:t.value.collocationFee,callback:function(e){t.$set(t.value,"collocationFee",e)},expression:"value.collocationFee"}}):a("div",[t._v(t._s(t.value.collocationFee))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"totalCollocationFee",rules:{validator:t.checkIsNumber,trigger:["blur"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("累计托管费用(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},on:{change:function(e){return t.computed("total")}},model:{value:t.value.totalCollocationFee,callback:function(e){t.$set(t.value,"totalCollocationFee",e)},expression:"value.totalCollocationFee"}}):a("div",[t._v(t._s(t.value.totalCollocationFee))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"otherFee",rules:{validator:t.checkIsNumber,trigger:["blur"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("本季度其他费用(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},on:{change:function(e){return t.computed("now")}},model:{value:t.value.otherFee,callback:function(e){t.$set(t.value,"otherFee",e)},expression:"value.otherFee"}}):a("div",[t._v(t._s(t.value.otherFee))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"totalOtherFee",rules:{validator:t.checkIsNumber,trigger:["blur"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("累计其他费用(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},on:{change:function(e){return t.computed("total")}},model:{value:t.value.totalOtherFee,callback:function(e){t.$set(t.value,"totalOtherFee",e)},expression:"value.totalOtherFee"}}):a("div",[t._v(t._s(t.value.totalOtherFee))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"interestIncome",rules:{validator:t.checkIsNumber,trigger:["blur"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("本季度利息收入(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},on:{change:function(e){return t.computed("now")}},model:{value:t.value.interestIncome,callback:function(e){t.$set(t.value,"interestIncome",e)},expression:"value.interestIncome"}}):a("div",[t._v(t._s(t.value.interestIncome))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"totalInterestIncome",rules:{validator:t.checkIsNumber,trigger:["blur"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("累计利息收入(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},on:{change:function(e){return t.computed("total")}},model:{value:t.value.totalInterestIncome,callback:function(e){t.$set(t.value,"totalInterestIncome",e)},expression:"value.totalInterestIncome"}}):a("div",[t._v(t._s(t.value.totalInterestIncome))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"investIncome",rules:{validator:t.checkIsNumber,trigger:["blur"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("本季度投资收入(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},on:{change:function(e){return t.computed("now")}},model:{value:t.value.investIncome,callback:function(e){t.$set(t.value,"investIncome",e)},expression:"value.investIncome"}}):a("div",[t._v(t._s(t.value.investIncome))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"totalInvestIncome",rules:{validator:t.checkIsNumber,trigger:["blur"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("累计投资收入(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},on:{change:function(e){return t.computed("total")}},model:{value:t.value.totalInvestIncome,callback:function(e){t.$set(t.value,"totalInvestIncome",e)},expression:"value.totalInvestIncome"}}):a("div",[t._v(t._s(t.value.totalInvestIncome))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"otherIncome",rules:{validator:t.checkIsNumber,trigger:["blur"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("本季度其他收入(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},on:{change:function(e){return t.computed("now")}},model:{value:t.value.otherIncome,callback:function(e){t.$set(t.value,"otherIncome",e)},expression:"value.otherIncome"}}):a("div",[t._v(t._s(t.value.otherIncome))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"totalOtherIncome",rules:{validator:t.checkIsNumber,trigger:["blur"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("累计其他收入(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},on:{change:function(e){return t.computed("total")}},model:{value:t.value.totalOtherIncome,callback:function(e){t.$set(t.value,"totalOtherIncome",e)},expression:"value.totalOtherIncome"}}):a("div",[t._v(t._s(t.value.totalOtherIncome))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"surplus",rules:{validator:t.checkIsNumber,trigger:["blur","change"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("本季度结余(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},model:{value:t.value.surplus,callback:function(e){t.$set(t.value,"surplus",e)},expression:"value.surplus"}}):a("div",[t._v(t._s(t.value.surplus))])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"totalSurplus",rules:{validator:t.checkIsNumber,trigger:["blur","change"]}}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:8}},[a("span",[t._v("累计结余(万元)")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.isEdit?a("el-input",{attrs:{size:"small"},model:{value:t.value.totalSurplus,callback:function(e){t.$set(t.value,"totalSurplus",e)},expression:"value.totalSurplus"}}):a("div",[t._v(t._s(t.value.totalSurplus))])],1)],1)],1)],1),t._v(" "),t.isEdit?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"",prop:"secrecyLevel"}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:4}},[a("span",[t._v("累计数据自动计算")])]),t._v(" "),a("el-col",{attrs:{span:20}},[a("el-button",{attrs:{type:"primary",round:"",size:"small"},on:{click:function(e){return t.computed("all")}}},[t._v("计算")]),t._v(" "),a("el-link",{attrs:{underline:!1,type:"primary",size:"small"}},[t._v("公式：上季度累计值+本季度当季值")])],1)],1)],1)],1):t._e(),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"",prop:"financeFile"}},[a("el-row",{staticClass:"purvar_form_item"},[a("el-col",{staticClass:"purvar_form_item_title",attrs:{span:4}},[a("span",[t._v("附件")]),t._v(" "),a("span",{staticClass:"mustIn"},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{span:20}},[a("upload",{attrs:{"hidden-upload":!t.isEdit},on:{"update-value":t.checkFileValue},model:{value:t.value.financeFile,callback:function(e){t.$set(t.value,"financeFile",e)},expression:"value.financeFile"}})],1)],1)],1)],1)],1)],1)],1)],1)},s=[],r=(a("e680"),a("fa8a")),o=(a("fc02"),function(t,e,a){e||0===e?isNaN(Number(e))?a(new Error("请输入正确的数字")):(console.log(e),String(e).split(".")[1]&&String(e).split(".")[1].length>4?a(new Error("请输入正确的数字,最多4位小数")):a()):a(new Error("请输入正确的数字"))});function i(t,e,a){o(t,e,a)}var n=a("2c2d"),u={name:"Index",components:{upload:n["a"]},model:{prop:"value",event:"update-value"},props:{size:{type:String,default:"small"},value:{type:Object,default:function(){return{list:[{}]}}},isEdit:{type:Boolean,default:!0}},data:function(){return{formRule:{year:[{required:!0,message:"请选择年份",trigger:["blur","change"]}],quarter:[{required:!0,message:"请选择季度",trigger:["blur","change"]}],financeFile:[{required:!0,message:"请上传附件",trigger:["change"]}]},quarterList:[{value:"1",label:"第一季度"},{value:"2",label:"第二季度"},{value:"3",label:"第三季度"},{value:"4",label:"第四季度"}],totalInfo:{}}},computed:{},mounted:function(){this.initPage()},methods:{initPage:function(){},checkValue:function(){var t;return this.$refs["formRule"].validate((function(e){return e?(t=!0,!0):(t=!1,!1)})),t},checkIsNumber:function(t,e,a){i(t,e,a)},checkQuarter:function(t){var e=this,a=t,l=this.value.year;t&&("1"!==t?a-=1:(a="4",l-=1),Object(r["K"])({fundId:this.$route.params.fundId,quarter:a,year:l}).then((function(t){t.data.year?(e.totalInfo=t.data,e.$set(e.value,"totalManageFee",t.data.totalManageFee),e.$set(e.value,"totalCollocationFee",t.data.totalCollocationFee),e.$set(e.value,"totalOtherFee",t.data.totalOtherFee),e.$set(e.value,"totalInterestIncome",t.data.totalInterestIncome),e.$set(e.value,"totalInvestIncome",t.data.totalInvestIncome),e.$set(e.value,"totalOtherIncome",t.data.totalOtherIncome),e.$set(e.value,"totalSurplus",t.data.totalSurplus)):e.$message({message:"上季度财务信息不存在，请补全上季度信息或手动输入",type:"warning"})})))},checkFileValue:function(){this.$refs.formRule.validateField("financeFile")},computed:function(t){"now"===t?this.$set(this.value,"surplus",Number(this.value.interestIncome||0)+Number(this.value.investIncome||0)+Number(this.value.otherIncome||0)-Number(this.value.manageFee||0)-Number(this.value.collocationFee||0)-Number(this.value.otherFee||0)):"total"===t?this.$set(this.value,"totalSurplus",Number(this.value.totalInterestIncome||0)+Number(this.value.totalInvestIncome||0)+Number(this.value.totalOtherIncome||0)-Number(this.value.totalManageFee||0)-Number(this.value.totalCollocationFee||0)-Number(this.value.totalOtherFee||0)):"all"===t&&(this.$set(this.value,"totalManageFee",Number(this.value.manageFee||0)+Number(this.totalInfo.totalManageFee||0)),this.$set(this.value,"totalCollocationFee",Number(this.value.collocationFee||0)+Number(this.totalInfo.totalCollocationFee||0)),this.$set(this.value,"totalOtherFee",Number(this.value.otherFee||0)+Number(this.totalInfo.totalOtherFee||0)),this.$set(this.value,"totalInterestIncome",Number(this.value.interestIncome||0)+Number(this.totalInfo.totalInterestIncome||0)),this.$set(this.value,"totalInvestIncome",Number(this.value.investIncome||0)+Number(this.totalInfo.totalInvestIncome||0)),this.$set(this.value,"totalOtherIncome",Number(this.value.otherIncome||0)+Number(this.totalInfo.totalOtherIncome||0)),this.$set(this.value,"totalSurplus",Number(this.value.surplus||0)+Number(this.totalInfo.totalSurplus||0)))},clearValidate:function(){this.$refs.formRule.clearValidate()},yearChange:function(t){this.$set(this.value,"quarter",""),this.$refs.formRule.clearValidate("quarter")}}},c=u,v=(a("adeb"),a("4ac2")),m=Object(v["a"])(c,l,s,!1,null,null,null);e["default"]=m.exports}}]);