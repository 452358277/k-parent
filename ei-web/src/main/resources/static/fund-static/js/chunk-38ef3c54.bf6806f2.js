(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38ef3c54"],{"65f3":function(t,e,a){"use strict";a("76ef")},"76ef":function(t,e,a){},ab08:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"tag",staticClass:"link-tag-box",style:{marginTop:t.cmarginTop+"px"}},[a("div",{staticClass:"all"},[a("span",{staticClass:"spa",class:{allActiveClass:t.isActive},on:{click:t.allTags}},[t._v("不限")])]),t._v(" "),a("el-row",{staticClass:"menu-content"},[a("el-col",{ref:"menu",style:{maxWidth:t.cmaxWidth+"px"},attrs:{span:24}},[a("div",{staticClass:"ul-contaier"},[a("ul",{staticClass:"tag-nav",class:{activeHeight:t.isActiveH}},t._l(t.options,(function(e,i){return a("li",{key:e.value,staticClass:"navItem",class:!0===e.checked?"activeClass":"",on:{click:function(e){return t.changeTags(i)}}},[a("span",[t._v(t._s(e.label))])])})),0),t._v(" "),t.isMoreShow?a("div",{staticClass:"col-handle"},[a("a",{staticClass:"open-btn icon-open-select",class:{open:t.isActiveH},attrs:{href:"javascript:void(0)"},on:{click:t.moreShow}})]):t._e()])])],1)],1)},s=[],n=(a("1bc7"),a("aa18"),a("982e"),a("fc02"),a("e680"),a("7f43")),o=a.n(n),r={name:"LinkTag",model:{prop:"value",event:"update-value"},props:{value:{type:String,default:""},contextPath:{type:String,default:"/ei-web/"},parentId:{type:String,default:""},include:{type:String,default:null},cmaxWidth:{type:[String,Number],default:"inherit"},cmarginTop:{type:Number,default:10},dataArr:{type:Array,default:function(){return[]}},selectType:{type:Number,default:1}},data:function(){return{isActive:!0,isActiveH:!1,isMoreShow:!1,filterMore:!0,multipleData:[],options:[]}},computed:{myValue:function(){return""!==this.value?this.value.split(","):[]},randomNum:function(){return this.dataArr.length+Math.ceil(10*Math.random())}},watch:{randomNum:function(t){this.updateParentCreateData(this.dataArr),this.updateParentData(this.dataArr)},value:function(t){""===t&&this.allTags()}},created:function(){},mounted:function(){var t=this;this.$nextTick((function(){if(t.dataArr.length>0)return t.updateParentCreateData(t.dataArr),void t.updateParentData(t.dataArr);var e=t.parentId;t.getCodeByParentId(e)}))},methods:{getCodeByParentId:function(t){var e=this,a="".concat(this.contextPath,"commonTCode/getCodeByParentId?parentId=").concat(t);o()({url:a,method:"get"}).then((function(t){var a=t.data;if("0"===a.status&&a.data.options){var i=a.data.options;e.updateParentCreateData(i),e.updateParentData(i)}}))},updateParentData:function(t){var e=this;this.$nextTick((function(){var a=e.cmaxWidth,i=t.length,s=70*i;"inherit"===a&&(a=e.$refs.tag.offsetWidth),a=parseInt(a),e.isMoreShow=s>a}))},updateParentCreateData:function(t){var e=this;this.$nextTick((function(){var a=[],i=t;if(e.include)for(var s=e.include.split(","),n=0;n<i.length;n++)s.includes(i[n].value)&&a.push(i[n]);else a=i;e.options=a,e.myValue.forEach((function(t,a){for(var i=0;i<e.options.length;i++)if(e.options[i].value===t){var s=e.options[i];s.checked=!0,e.$set(e.options,i,s),e.isActive=!1}}))}))},allTags:function(){for(var t in this.isActive=!0,this.options){var e=this.options[t];e.checked=!1,this.$set(this.options,t,e)}this.$emit("update-value","")},changeTags:function(t){console.log(t),this.isActive=!1;var e=this.selectType;if(1===e){var a=this.options[t];if(a.checked=!a.checked,this.$set(this.options,t,a),!0===this.options[t].checked){this.myValue.push(this.options[t].value);var i=this.myValue.join(",");this.$emit("update-value",i)}else{var s=this.options[t].value,n=this.myValue.indexOf(s);this.myValue.splice(n,1);var o=this.myValue.join(",");0===this.myValue.length&&(o="",this.isActive=!0),this.$emit("update-value",o)}}if(2===e){for(var r=0;r<this.options.length;r++){var l=this.options[r];l.checked=!1,this.$set(this.options,r,l)}var c=this.options[t];c.checked=!0,this.$set(this.options,t,c);var u=this.options[t].value;this.$emit("update-value",u)}},moreShow:function(){this.isActiveH=!this.isActiveH},clear:function(){this.allTags()}}},l=r,c=(a("65f3"),a("4ac2")),u=Object(c["a"])(l,i,s,!1,null,"0a292608",null);e["a"]=u.exports},c8fc:function(t,e,a){},cc97:function(t,e,a){"use strict";a("c8fc")},dee5:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",[a("div",[a("span",{staticClass:"tagText"},[t._v("关键字")]),t._v(" "),a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入绩效名称搜索",size:"small"},model:{value:t.queryParams.keyWord,callback:function(e){t.$set(t.queryParams,"keyWord",e)},expression:"queryParams.keyWord"}}),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search",size:"mini",type:"primary"},on:{click:t.search},slot:"append"},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-delete",size:"mini",type:"primary"},on:{click:t.clear},slot:"append"},[t._v("清空")])],1),t._v(" "),a("a",{on:{click:t.conditionsOn}},[t._v(t._s(t.showCondition))]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCondition,expression:"isShowCondition"}],staticClass:"conditions"},[a("div",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{width:"130px",fontSize:"14px",paddingTop:"10px"}},[t._v("绩效年度   ")]),t._v(" "),a("el-date-picker",{attrs:{type:"year",size:"small","value-format":"yyyy",placeholder:"选择年"},model:{value:t.queryParams.pYear,callback:function(e){t.$set(t.queryParams,"pYear",e)},expression:"queryParams.pYear"}}),t._v(" "),t._e()],1),t._v(" "),a("div",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{width:"130px",fontSize:"14px"}},[t._v("考核状态")]),t._v(" "),a("link-tag",{attrs:{"parent-id":"1018","select-type":2},on:{"update-value":t.updatePStatus},model:{value:t.queryParams.pStatus,callback:function(e){t.$set(t.queryParams,"pStatus",e)},expression:"queryParams.pStatus"}})],1)])])],1),t._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"optionButtons",staticStyle:{"padding-top":"0px!important"}},[t._l(t.buttons,(function(e,i){return a("el-button",{key:i,attrs:{disabled:t.setStatus(e.btnScope),type:"danger",plain:"",icon:t.iconFlter(e.code),size:"mini"},on:{click:function(a){return t.option(e.code)}}},[t._v(t._s(e.name))])})),t._v(" "),a("a",{staticClass:"daochu",attrs:{href:"exportSelectPerf?keyWord="+t.queryParams.keyWord+"&currPage=1&pageSize=1000&pStatus="+t.queryParams.pStatus+"&pYear="+t.queryParams.pYear,download:"filename"}},[t._v("导出")])],2),t._v(" "),a("my-table",{ref:"myTable",attrs:{"query-params":t.queryParams},on:{transferSelectItem:t.transferSelectItem}})],1),t._v(" "),a("add-or-modify",{ref:"addOrModify",on:{getTableList:t.getTableList}}),t._v(" "),a("detail",{ref:"detail"}),t._v(" "),a("release",{ref:"release",on:{getTableList:t.getTableList}})],1)},s=[],n=(a("1bc7"),a("f0b7")),o=a("ad1d"),r=a("ab08"),l=a("f30e"),c=a("57c2"),u=a("37ec"),d={name:"",components:{myTable:n["default"],addOrModify:o["default"],linkTag:r["a"],detail:l["default"],release:c["default"]},data:function(){return{options:[{value:"选项1",label:"第一季度"},{value:"选项2",label:"第二季度"},{value:"选项3",label:"第三季度"},{value:"选项4",label:"第四季度"},{value:"选项5",label:"上半年"},{value:"选项6",label:"下半年"},{value:"选项7",label:"全年"}],seletedItem:[],queryParams:{currPage:1,pageSize:10,keyWord:"",pStatus:"",pYear:""},fixedData:{applyNo:"",applicantDepartment:"",applyTime:"",applicantName:""},showConditionIcon:"el-icon-arrow-up",showCondition:"收起全部筛选项",isShowCondition:!0,allItem:0,buttons:[{code:"111",name:"新增",btnScope:"normal"},{code:"116",name:"发布",btnScope:"single"},{code:"112",name:"编辑",btnScope:"single"},{code:"115",name:"查看",btnScope:"single"},{code:"113",name:"删除",btnScope:"multi"}]}},watch:{queryParams:{handler:function(t,e){""!==t.endTime&&""!==t.startTime&&t.endTime<t.startTime&&(this.$message({type:"warning",offset:150,message:"结束时间不能小于开始时间"}),this.queryParams.endTime="")},deep:!0}},methods:{ceshi:function(t){},clear:function(){this.queryParams.keyWord="",this.queryParams.pStatus="",this.queryParams.pYear=""},iconFlter:function(t){return"111"===t?"el-icon-circle-plus-outline":"113"===t?"el-icon-delete":"112"===t?"el-icon-edit-outline":"115"===t?"el-icon-zoom-in":"116"===t?"el-icon-top":void 0},search:function(){this.getTableList()},conditionsOn:function(){"el-icon-arrow-up"===this.showConditionIcon?(this.showConditionIcon="el-icon-arrow-down",this.showCondition="展开全部筛选项",this.isShowCondition=!1):"el-icon-arrow-down"===this.showConditionIcon&&(this.showConditionIcon="el-icon-arrow-up",this.showCondition="收起全部筛选项",this.isShowCondition=!0)},option:function(t){var e=this;if("111"==t)this.$refs.addOrModify.showDialog(t,{});else if("112"==t){if("1"==this.seletedItem[0].pStatus||"2"==this.seletedItem[0].pStatus)return void this.$message({type:"warning",offset:150,message:"已发布状态和未发布不能修改"});var a=[];u["a"].selectPerfDetails(this.seletedItem[0].pPerID).then((function(i){a.push(i.data.data),e.$refs.addOrModify.showDialog(t,a)}))}else if("113"==t){if("1"==this.seletedItem[0].pStatus)return void this.$message({type:"warning",offset:150,message:"已发布状态不能删除"});this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=[];e.seletedItem.forEach((function(e){t.push(e.pPerID)})),u["a"].deletePerfMangeAll(t.join(",")).then((function(t){"0"==t.data.status&&(e.$message({type:"success",offset:150,message:"删除成功"}),e.getTableList())}))})).catch((function(){e.$message({offset:150,type:"info",message:"已取消删除"})}))}else if("115"==t){var i=[];u["a"].selectPerfDetails(this.seletedItem[0].pPerID).then((function(a){i.push(a.data.data),e.$refs.addOrModify.showDialog(t,i)}))}else if("116"==t){if("0"==this.seletedItem[0].pStatus)return void this.$message({type:"warning",offset:150,message:"草稿状态不能发布"});var s=[];u["a"].selectPerfDetails(this.seletedItem[0].pPerID).then((function(a){s.push(a.data.data),e.$refs.release.showDialog(t,s)}))}},getTableList:function(){this.$refs.myTable.getTableList()},transferSelectItem:function(t){this.seletedItem=t},setStatus:function(t){return"single"==t?1!=this.seletedItem.length:"multi"==t?!(this.seletedItem.length>=1):"normal"!=t},updatePStatus:function(){this.getTableList()}}},p=d,h=a("4ac2"),f=Object(h["a"])(p,i,s,!1,null,null,null);e["default"]=f.exports},f0b7:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{staticStyle:{textAlign:"center"},attrs:{type:"selection",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pName",label:"绩效名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pYear",label:"绩效年度"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pAssessStartTime",label:"考核开始时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pAssessEndTime",label:"考核结束时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"psFundCount",label:"考核基金数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pStatusName",label:"考核状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.pStatusName)+"\n        "),"2"===e.row.pStatus?a("el-button",{staticStyle:{"margin-left":"6px"},attrs:{type:"text",size:"mini"},on:{click:function(a){return t.back(e.row)}}},[t._v("重新编辑")]):t._e()]}}])})],1),t._v(" "),a("div",[a("el-pagination",{attrs:{"current-page":t.queryParams.currPage,background:"",small:"","page-sizes":[10,20,30,40],layout:" prev, pager, next,total ,jumper",total:t.totalPage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},s=[],n=a("37ec"),o={props:{queryParams:{type:Object,required:!0}},data:function(){return{tableData:[],totalPage:0}},mounted:function(){this.getTableList()},methods:{getTableList:function(){var t=this;null==this.queryParams.pYear?this.queryParams.pYear="":this.queryParams.pYear=this.queryParams.pYear;var e={params:this.queryParams};n["a"].selectPerf(e).then((function(e){t.tableData=e.data.data,t.totalPage=e.data.totalCount}))},handleSizeChange:function(t){this.queryParams.pageSize=t,this.getTableList()},handleCurrentChange:function(t){this.queryParams.currPage=t,this.getTableList()},handleSelectionChange:function(t){this.$emit("transferSelectItem",t)},back:function(t){var e=this;console.log(t),this.$confirm("是否撤销?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n["a"].updatePerf({pPerID:t.pPerID,pStatus:"0"}).then((function(t){"0"==t.data.status?(e.$message({message:"撤销成功",type:"success",offset:150}),e.getTableList()):e.$message({message:t.data.msg,type:"warning",offset:150})}))})).catch((function(){}))}}},r=o,l=a("4ac2"),c=Object(l["a"])(r,i,s,!1,null,null,null);e["default"]=c.exports},f30e:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"zhibiaoDetail"},[a("el-dialog",{attrs:{title:"详情页",visible:t.dialogFormVisible,width:"1212px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-row",[a("div",{staticClass:"title"},[a("div",{staticStyle:{width:"140px",padding:"5px"}},[t._v("一级指标")]),t._v(" "),a("div",{staticStyle:{width:"240px",padding:"5px"}},[t._v("二级指标")]),t._v(" "),a("div",{staticStyle:{width:"252px",padding:"5px"}},[t._v("三级指标")]),t._v(" "),a("div",{staticStyle:{width:"252px",padding:"5px"}},[t._v("评分细则")]),t._v(" "),a("div",{staticStyle:{width:"252px",padding:"5px"}},[t._v("说明")])]),t._v(" "),t._l(t.data,(function(e,i){return a("el-col",{key:i,attrs:{span:24}},[a("div",{staticClass:"father"},[a("div",{staticStyle:{padding:"5px",border:"1px solid #F7E5E4",width:"140px",paddingTop:"5%"}},[t._v(t._s(e.oOneName)+"("+t._s(e.oOneScore)+")分")]),t._v(" "),a("div",t._l(e.perfSecondNormModel,(function(e,i){return a("div",{key:i,staticClass:"two"},[a("div",{staticStyle:{padding:"5px",border:"1px solid #F7E5E4",width:"240px",paddingTop:"5%"}},[t._v(t._s(e.sTwoName)+"("+t._s(e.sTwoScore)+")分")]),t._v(" "),a("div",{staticClass:"sanjiwaicen"},t._l(e.perfThreeNormModel,(function(t,e){return a("div",{key:e,staticStyle:{padding:"5px",border:"1px solid #F7E5E4"}},[a("el-input",{staticStyle:{overflow:"hidden"},attrs:{type:"textarea",rows:2,value:t.tThreeName+"("+t.tThreeScore+")",resize:"none",disabled:""}})],1)})),0),t._v(" "),a("div",{staticClass:"sanjiwaicen"},t._l(e.perfThreeNormModel,(function(t,e){return a("div",{key:e,staticStyle:{padding:"5px",border:"1px solid #F7E5E4"}},[a("el-input",{attrs:{type:"textarea",rows:2,value:t.tSuggest,resize:"none",disabled:""}})],1)})),0),t._v(" "),a("div",{staticClass:"sanjiwaicen"},t._l(e.perfThreeNormModel,(function(t,e){return a("div",{key:e,staticStyle:{padding:"5px",border:"1px solid #F7E5E4"}},[a("el-input",{attrs:{type:"textarea",rows:2,value:t.tExplain,resize:"none",disabled:""}})],1)})),0)])})),0)])])}))],2),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.close}},[t._v("关 闭")])],1)],1)],1)},s=[],n=a("37ec"),o={filters:{getTitle:function(t){return"applicantDepartment"===t?"所在的部门":"applicantName"===t?"姓名":"applyName"===t?"会议名称":"applyNo"===t?"表单号":"applyStatus"===t?"状态":"applyTime"===t?"申请日期":"applyTime"===t?"申请时间":"backDt"===t?"还款计划":"borrowAmount"===t?"金额":"borrowDesc"===t?"借款事由":"isEntry"===t?"款项已入账":"openBank"===t?"开户行":"paymentTypeName"===t?"付款方式":"useTypeName"===t?"用途":void 0}},data:function(){return{dialogFormVisible:!1,data:[]}},computed:{sanjiconten:function(){}},methods:{showDialog:function(t){var e=this;this.dialogFormVisible=!this.dialogFormVisible,n["a"].selectPerfDetails(t[0].pPerID).then((function(t){e.data=t.data.data.perfOneNormModel}))},close:function(){this.dialogFormVisible=!this.dialogFormVisible}}},r=o,l=(a("cc97"),a("4ac2")),c=Object(l["a"])(r,i,s,!1,null,"23cd5459",null);e["default"]=c.exports}}]);