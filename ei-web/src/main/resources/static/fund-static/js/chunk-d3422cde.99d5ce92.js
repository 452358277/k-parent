(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3422cde","chunk-1b205fa5","chunk-58f38bc6"],{"0b51":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orgName",label:"机构名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orgTypeName",label:"机构类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contact",label:"联系人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phoneNo",label:"联系方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orgAdd",label:"地址"}})],1),t._v(" "),a("div",[a("el-pagination",{attrs:{"current-page":t.queryParams.currPage,background:"",small:"","page-sizes":[10,20,30,40],layout:" prev, pager, next,total ,sizes ,jumper",total:t.totalPage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},n=[],o=a("7379"),s={props:{queryParams:{type:Object,required:!0}},data:function(){return{tableData:[],totalPage:0}},mounted:function(){this.getTableList()},methods:{getTableList:function(){var t=this,e={params:this.queryParams};o["a"].cooOrgList(e).then((function(e){t.tableData=e.data.data,t.totalPage=e.data.totalCount,t.$parent.allItem=t.totalPage}))},handleSizeChange:function(t){this.queryParams.pageSize=t,this.getTableList()},handleCurrentChange:function(t){this.queryParams.currPage=t,this.getTableList()},handleSelectionChange:function(t){this.$emit("transferSelectItem",t)}}},l=s,r=a("4ac2"),c=Object(r["a"])(l,i,n,!1,null,null,null);e["default"]=c.exports},"4e34":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("el-dialog",{attrs:{title:"详情页",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-row",t._l(t.data,(function(e,i,n){return a("el-col",{key:n,attrs:{span:12}},[a("div",{staticClass:"left"},[t._v(t._s(t._f("getTitle")(i)))]),t._v(" "),a("div",{staticClass:"right"},[t._v(t._s(e))])])})),1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{height:"auto"},attrs:{span:24}},[a("div",{staticClass:"left"},[t._v("备注 ")]),t._v(" "),a("div",{staticClass:"right",staticStyle:{width:"70%"}},[a("el-input",{staticStyle:{marginBottom:"5px"},attrs:{type:"textarea",disabled:"true"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)])],1),t._v(" "),a("el-row",{staticStyle:{borderTop:"0"}},[a("el-col",{staticStyle:{height:"auto"},attrs:{span:24}},[a("div",{staticClass:"left"},[t._v("附件")]),t._v(" "),a("div",{staticClass:"right"},[t.dialogFormVisible?a("up-load",{attrs:{hiddenUpload:!0},model:{value:t.fileToken,callback:function(e){t.fileToken=e},expression:"fileToken"}}):t._e()],1)])],1)],1)],1)},n=[],o=a("f8f6"),s={components:{upLoad:o["default"]},filters:{getTitle:function(t){return"orgName"==t?"机构名称":"orgTypeName"==t?"机构类型":"orderNo"==t?"信用代码/注册号":"contact"==t?"联系人":"phoneNo"==t?"联系电话":"contactEmail"==t?"邮箱":"orgAdd"==t?"地址":"qualification"==t?"资质":"succCase"==t?"成功案例":"honor"==t?"企业荣誉":void 0}},data:function(){return{dialogFormVisible:!1,data:{},fileToken:"",remark:"",isshowDesc:!1}},methods:{showDialog:function(t){this.dialogFormVisible=!this.dialogFormVisible,this.data={},this.data.orgName=t[0].orgName,this.data.orgTypeName=t[0].orgTypeName,this.data.orderNo=t[0].orderNo,this.data.contact=t[0].contact,this.data.phoneNo=t[0].phoneNo,this.data.contactEmail=t[0].contactEmail,this.data.orgAdd=t[0].orgAdd,this.data.qualification=t[0].qualification,this.data.succCase=t[0].succCase,this.data.honor=t[0].honor,this.remark=t[0].remark,this.fileToken=null==t[0].approveFile?"":t[0].approveFile}}},l=s,r=a("4ac2"),c=Object(r["a"])(l,i,n,!1,null,null,null);e["default"]=c.exports},"5af9":function(t,e,a){"use strict";a("a48c")},6003:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",[a("div",[a("span",{staticClass:"tagText"},[t._v("关键字")]),t._v(" "),a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入机构名称搜索",size:"small"},model:{value:t.queryParams.keyWord,callback:function(e){t.$set(t.queryParams,"keyWord",e)},expression:"queryParams.keyWord"}}),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search",size:"mini"},on:{click:t.search},slot:"append"},[t._v("查询")])],1),t._v(" "),a("a",{on:{click:t.conditionsOn}},[t._v(t._s(t.showCondition))]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCondition,expression:"isShowCondition"}],staticClass:"conditions"},[a("div",[a("span",[t._v("机构类型:")]),t._v(" "),a("link-tag",{attrs:{parentId:"237"},on:{"update-value":t.valchange},model:{value:t.queryParams.orgType,callback:function(e){t.$set(t.queryParams,"orgType",e)},expression:"queryParams.orgType"}})],1)])])],1),t._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"optionButtons"},t._l(t.buttons,(function(e,i){return a("el-button",{key:i,attrs:{disabled:t.setStatus(e.btnScope),type:"danger",plain:"",icon:t.iconFlter(e.code),size:"mini"},on:{click:function(a){return t.option(e.code)}}},[t._v(t._s(e.name))])})),1),t._v(" "),a("my-table",{ref:"myTable",attrs:{queryParams:t.queryParams},on:{transferSelectItem:t.transferSelectItem}})],1),t._v(" "),a("add-or-modify",{ref:"addOrModify",on:{getTableList:t.getTableList,refresh:t.refresh}}),t._v(" "),a("detail",{ref:"detail"})],1)},n=[],o=(a("1bc7"),a("0b51")),s=a("ab08"),l=a("1bf8"),r=a("7379"),c=a("4e34"),u={name:"",components:{myTable:o["default"],linkTag:s["a"],addOrModify:l["default"],detail:c["default"]},data:function(){return{fundList:[],tagVal:"",arrVal:[],seletedItem:[],queryParams:{keyWord:"",currPage:1,pageSize:10,orgType:""},showConditionIcon:"el-icon-arrow-up",showCondition:"收起全部筛选项",isShowCondition:!0,allItem:0,buttons:[{code:"111",name:"新增",btnScope:"normal"},{code:"112",name:"编辑",btnScope:"single"},{code:"114",name:"查看",btnScope:"single"},{code:"113",name:"删除",btnScope:"multi"}]}},methods:{iconFlter:function(t){return"111"===t?"el-icon-circle-plus-outline":"113"===t?"el-icon-delete":"112"===t?"el-icon-edit-outline":"115"===t?"el-icon-zoom-in":void 0},valchange:function(t){this.$refs.myTable.getTableList()},clear:function(){this.queryParams.keyWord=""},search:function(){this.getTableList()},conditionsOn:function(){"el-icon-arrow-up"===this.showConditionIcon?(this.showConditionIcon="el-icon-arrow-down",this.showCondition="展开全部筛选项",this.isShowCondition=!1):"el-icon-arrow-down"===this.showConditionIcon&&(this.showConditionIcon="el-icon-arrow-up",this.showCondition="收起全部筛选项",this.isShowCondition=!0)},option:function(t){var e=this;"111"==t?this.$refs.addOrModify.showDialog(t):"112"==t?this.$refs.addOrModify.showDialog(t,this.seletedItem):"113"==t?this.$confirm("是否确定删除这选中数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=[];e.seletedItem.forEach((function(e){t.push(e.orgId)})),r["a"].cooOrgDelete(t.join(",")).then((function(t){"0"==t.data.status&&(e.$message.success("删除成功"),e.refresh())}))})).catch((function(){e.$message({offset:150,type:"info",message:"已取消删除"})})):"114"==t&&this.$refs.detail.showDialog(this.seletedItem)},refresh:function(){this.queryParams.currPage=1,this.getTableList()},getTableList:function(){this.$refs.myTable.getTableList()},transferSelectItem:function(t){this.seletedItem=t},setStatus:function(t){return"single"==t?1!=this.seletedItem.length:"multi"==t?!(this.seletedItem.length>=1):"normal"!=t}}},d=u,h=a("4ac2"),p=Object(h["a"])(d,i,n,!1,null,null,null);e["default"]=p.exports},"65f3":function(t,e,a){"use strict";a("76ef")},"76ef":function(t,e,a){},a48c:function(t,e,a){},ab08:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"tag",staticClass:"link-tag-box",style:{marginTop:t.cmarginTop+"px"}},[a("div",{staticClass:"all"},[a("span",{staticClass:"spa",class:{allActiveClass:t.isActive},on:{click:t.allTags}},[t._v("不限")])]),t._v(" "),a("el-row",{staticClass:"menu-content"},[a("el-col",{ref:"menu",style:{maxWidth:t.cmaxWidth+"px"},attrs:{span:24}},[a("div",{staticClass:"ul-contaier"},[a("ul",{staticClass:"tag-nav",class:{activeHeight:t.isActiveH}},t._l(t.options,(function(e,i){return a("li",{key:e.value,staticClass:"navItem",class:!0===e.checked?"activeClass":"",on:{click:function(e){return t.changeTags(i)}}},[a("span",[t._v(t._s(e.label))])])})),0),t._v(" "),t.isMoreShow?a("div",{staticClass:"col-handle"},[a("a",{staticClass:"open-btn icon-open-select",class:{open:t.isActiveH},attrs:{href:"javascript:void(0)"},on:{click:t.moreShow}})]):t._e()])])],1)],1)},n=[],o=(a("1bc7"),a("aa18"),a("982e"),a("fc02"),a("e680"),a("7f43")),s=a.n(o),l={name:"LinkTag",model:{prop:"value",event:"update-value"},props:{value:{type:String,default:""},contextPath:{type:String,default:"/ei-web/"},parentId:{type:String,default:""},include:{type:String,default:null},cmaxWidth:{type:[String,Number],default:"inherit"},cmarginTop:{type:Number,default:10},dataArr:{type:Array,default:function(){return[]}},selectType:{type:Number,default:1}},data:function(){return{isActive:!0,isActiveH:!1,isMoreShow:!1,filterMore:!0,multipleData:[],options:[]}},computed:{myValue:function(){return""!==this.value?this.value.split(","):[]},randomNum:function(){return this.dataArr.length+Math.ceil(10*Math.random())}},watch:{randomNum:function(t){this.updateParentCreateData(this.dataArr),this.updateParentData(this.dataArr)},value:function(t){""===t&&this.allTags()}},created:function(){},mounted:function(){var t=this;this.$nextTick((function(){if(t.dataArr.length>0)return t.updateParentCreateData(t.dataArr),void t.updateParentData(t.dataArr);var e=t.parentId;t.getCodeByParentId(e)}))},methods:{getCodeByParentId:function(t){var e=this,a="".concat(this.contextPath,"commonTCode/getCodeByParentId?parentId=").concat(t);s()({url:a,method:"get"}).then((function(t){var a=t.data;if("0"===a.status&&a.data.options){var i=a.data.options;e.updateParentCreateData(i),e.updateParentData(i)}}))},updateParentData:function(t){var e=this;this.$nextTick((function(){var a=e.cmaxWidth,i=t.length,n=70*i;"inherit"===a&&(a=e.$refs.tag.offsetWidth),a=parseInt(a),e.isMoreShow=n>a}))},updateParentCreateData:function(t){var e=this;this.$nextTick((function(){var a=[],i=t;if(e.include)for(var n=e.include.split(","),o=0;o<i.length;o++)n.includes(i[o].value)&&a.push(i[o]);else a=i;e.options=a,e.myValue.forEach((function(t,a){for(var i=0;i<e.options.length;i++)if(e.options[i].value===t){var n=e.options[i];n.checked=!0,e.$set(e.options,i,n),e.isActive=!1}}))}))},allTags:function(){for(var t in this.isActive=!0,this.options){var e=this.options[t];e.checked=!1,this.$set(this.options,t,e)}this.$emit("update-value","")},changeTags:function(t){console.log(t),this.isActive=!1;var e=this.selectType;if(1===e){var a=this.options[t];if(a.checked=!a.checked,this.$set(this.options,t,a),!0===this.options[t].checked){this.myValue.push(this.options[t].value);var i=this.myValue.join(",");this.$emit("update-value",i)}else{var n=this.options[t].value,o=this.myValue.indexOf(n);this.myValue.splice(o,1);var s=this.myValue.join(",");0===this.myValue.length&&(s="",this.isActive=!0),this.$emit("update-value",s)}}if(2===e){for(var l=0;l<this.options.length;l++){var r=this.options[l];r.checked=!1,this.$set(this.options,l,r)}var c=this.options[t];c.checked=!0,this.$set(this.options,t,c);var u=this.options[t].value;this.$emit("update-value",u)}},moreShow:function(){this.isActiveH=!this.isActiveH},clear:function(){this.allTags()}}},r=l,c=(a("65f3"),a("4ac2")),u=Object(c["a"])(r,i,n,!1,null,"0a292608",null);e["a"]=u.exports},f8f6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-box"},[t.hiddenUpload?a("div",{staticClass:"fileView"},t._l(t.fileList,(function(e){return a("h3",{key:e.uid},[a("a",{attrs:{href:t.contextPath+"attachController/download?fileId="+e.uid,target:"_blank"}},[t._v(t._s(e.name))])])})),0):t._e(),t._v(" "),t.hiddenUpload?t._e():a("div",{staticClass:"el-upload-box"},[a("el-upload",{ref:"upload",attrs:{action:t.updatePath,"auto-upload":!0,name:t.upLoadName,data:t.extraData,"file-list":t.fileList,accept:t.acceptFormat,"on-success":t.handleSuccess,"on-exceed":t.handleExceed,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-error":t.handleError,"on-change":t.handleChange,"before-remove":t.beforeRemove,"before-upload":t.beforeUpload}},[a("el-button",{class:{active:t.hiddenUpload},attrs:{size:t.size,type:"primary"}},[t._v(t._s(t.uploadTitle))]),t._v(" "),t.isShowTip?a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(t._s(t.TipTitle))]):t._e()],1)],1)])},n=[],o=(a("fc02"),a("a450"),a("e680"),a("7f43")),s=a.n(o),l={name:"GuluUpload",model:{prop:"value",event:"update-value"},props:{value:[String],isShowTip:{type:Boolean,default:!1},hiddenUpload:{type:Boolean,default:!1},tipTitle:{type:String,default:"只能上传jpg / png文件， 且不超过500kb"},uploadTitle:{type:String,default:"点击上传"},limit:{type:Number,default:1},extraData:{type:Object,default:function(){return{bizTableName:"",bizTablePk:"",fieldName:""}}},size:{type:String,default:"small"},upLoadName:{type:String,default:"file"},contextPath:{type:String,default:"/oa-web/"},acceptFormat:{type:String,default:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF,.rp,.vsd"}},data:function(){return{updatePath:this.contextPath+"attachController/upload?fieldToken="+this.value,fileList:[]}},created:function(){var t=this;setTimeout((function(){t.$nextTick((function(){t.updatePath=t.contextPath+"attachController/upload?fieldToken="+t.value,t.getFileData()}))}),500)},methods:{getFileData:function(){var t=this,e=this.value;""!=e&&null!=e||(e="-1"),s()({url:this.contextPath+"attachController/getFileList?fieldToken="+e,method:"get"}).then((function(e){"0"===e.data.status?e.data.data.fileList&&t.$nextTick((function(){t.fileList=e.data.data.fileList,0==t.fileList.length&&t.$emit("update-value","")})):t.$message({type:"info",duration:1e3,message:e.data.msg})}))},beforeUpload:function(t){},handleChange:function(t,e){var a=t.name.substring(t.name.lastIndexOf(".")+1),i="rp"===a,n="vsd"===a;(i||n)&&(this.$message({message:"上传文件不能是 rp 、vsd 格式!",type:"warning"}),this.$refs.upload.clearFiles())},handleExceed:function(t,e){this.$message.warning("当前限制选择 ".concat(t.length," 个文件，本次选择了 ").concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},handleRemove:function(t,e){var a=this;s()({url:this.contextPath+"attachController/delete?fileId="+t.uid,method:"get"}).then((function(t){"0"===t.data.status&&0==e.length&&a.$emit("update-value","")}))},handleError:function(t,e,a){},handleSuccess:function(t,e,a){var i=t.data.fieldToken;void 0==i&&(i=this.value);var n=this.updatePath.split("=");""!=n[1]&&""==i&&(i=n[1]),this.updatePath=this.contextPath+"attachController/upload?fieldToken="+i,this.$emit("update-value",i)},beforeRemove:function(t,e){return this.$confirm("确定移除 ".concat(t.name,"？"))},handlePreview:function(t){window.open(this.contextPath+"attachController/download?fileId="+t.uid)}}},r=l,c=(a("5af9"),a("4ac2")),u=Object(c["a"])(r,i,n,!1,null,"9e912a16",null);e["default"]=u.exports}}]);