(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fa13a776"],{"3e4b":function(e,t,n){},8208:function(e,t,n){"use strict";n("3e4b")},"88bd":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"24px 4px"}},["1"===e.projType?n("div",{staticClass:"infoBox"},["4"!==e.projectInfo.projStatus||"1"!==this.$route.params.isFit&&e.addProjectInfo.projId&&e.buttonList.includes("50030101")?n("div",{staticClass:"btnBox"},[e.isEdit?e._e():n("button",{on:{click:e.editProjTable}},[n("i",{staticClass:"iconfont iconbianji"}),e._v("\n          编辑\n        ")]),e._v(" "),e.isEdit&&"0"===e.addProjectInfo.status?n("button",{on:{click:function(t){return e.saveProjTable("save")}}},[n("i",{staticClass:"iconfont iconicon-"}),e._v("\n          保存\n        ")]):e._e(),e._v(" "),e.isEdit?n("button",{on:{click:function(t){return e.saveProjTable("submit")}}},[n("i",{staticClass:"iconfont iconicon-"}),e._v("\n          提交\n        ")]):e._e(),e._v(" "),e.isEdit?n("button",{on:{click:e.cancelProjTable}},[n("i",{staticClass:"iconfont iconquxiao"}),e._v("\n          取消编辑\n        ")]):e._e()]):e._e(),e._v(" "),n("projFormPage",{ref:"projFormPage",attrs:{"is-edit":e.isEdit,"proj-status-value":e.projStatusValue,"detail-page":!0},model:{value:e.addProjectInfo,callback:function(t){e.addProjectInfo=t},expression:"addProjectInfo"}})],1):e._e(),e._v(" "),"1"!==e.projType?n("div",{staticClass:"infoBox"},[e.addFundInfo.projId&&e.buttonList.includes("50030101")?n("div",{staticClass:"btnBox"},[e.isEdit?e._e():n("button",{on:{click:e.editProjTable}},[n("i",{staticClass:"iconfont iconbianji"}),e._v("\n          编辑\n        ")]),e._v(" "),e.isEdit&&"0"===e.addFundInfo.status?n("button",{on:{click:function(t){return e.saveProjTable("save")}}},[n("i",{staticClass:"iconfont iconicon-"}),e._v("\n          保存\n        ")]):e._e(),e._v(" "),e.isEdit?n("button",{on:{click:function(t){return e.saveProjTable("submit")}}},[n("i",{staticClass:"iconfont iconicon-"}),e._v("\n          提交\n        ")]):e._e(),e._v(" "),e.isEdit?n("button",{on:{click:e.cancelProjTable}},[n("i",{staticClass:"iconfont iconquxiao"}),e._v("\n          取消编辑\n        ")]):e._e()]):e._e(),e._v(" "),n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          基金名称"),n("span",{staticClass:"mustIn"},[e._v("*")])]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s(e.addFundInfo.regName))]),e._v(" "),e.isEdit&&"2"===e.addFundInfo.fundSts?n("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"small",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":e.searchProjectList,loading:e.loading},on:{change:e.getProject},model:{value:e.addFundInfo.projObject,callback:function(t){e.$set(e.addFundInfo,"projObject",t)},expression:"addFundInfo.projObject"}},e._l(e.ProjectNameList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),e._v(" "),e.isEdit&&"0"===e.addFundInfo.fundSts?n("el-input",{attrs:{size:"small"},model:{value:e.addFundInfo.regName,callback:function(t){e.$set(e.addFundInfo,"regName",t)},expression:"addFundInfo.regName"}}):e._e()],1),e._v(" "),n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          基金注册状态"),n("span",{staticClass:"mustIn"},[e._v("*")])]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit||"0"!==e.addFundInfo.fundSts?e._e():n("div",[e._v(e._s("未注册"))]),e._v(" "),e.isEdit||"2"!==e.addFundInfo.fundSts?e._e():n("div",[e._v(e._s("已注册"))]),e._v(" "),e._l(e.registerSts,(function(t){return e.isEdit?n("el-radio",{key:t.label,attrs:{label:t.value},on:{change:e.fundSetStatus},model:{value:e.addFundInfo.fundSts,callback:function(t){e.$set(e.addFundInfo,"fundSts",t)},expression:"addFundInfo.fundSts"}},[e._v("\n            "+e._s(t.label)+"\n          ")]):e._e()}))],2)],1),e._v(" "),n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          项目编号"),n("span",{staticClass:"mustIn"},[e._v("*")])]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:"4"===e.projType?8:20}},[n("div",[e._v(e._s(e.addFundInfo.projNo))])]),e._v(" "),"4"===e.addFundInfo.projType?n("el-col",{staticClass:"col-title",attrs:{span:4}},[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("SPV分两种类型，第一种：不存在外部募集行为[即除该私募基金及其私募基金管理人"),n("br"),e._v("\n              （含员工），以及该私募基金的投资人以外，不存在其他外部投资者]、管理方和"),n("br"),e._v("\n              本基金的管理人是同一人、不需要考虑备案的SPV。第二种：存在外部募集行为的SPV。\n            ")]),e._v(" "),n("div",[e._v(" SPV类型"),n("span",{staticClass:"mustIn"},[e._v("*")])])])],1):e._e(),e._v(" "),"4"===e.addFundInfo.projType?n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s(e.addFundInfo.spvTypeName))]),e._v(" "),e.isEdit?n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择"},on:{change:function(e){}},model:{value:e.addFundInfo.spvType,callback:function(t){e.$set(e.addFundInfo,"spvType",t)},expression:"addFundInfo.spvType"}},e._l(e.spvTypeList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e()],1):e._e()],1),e._v(" "),"2"!==e.addFundInfo.isRecord?n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          基金备案状态"),n("span",{staticClass:"mustIn"},[e._v("*")])]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:20}},[e.isEdit?e._e():n("div",["0"===e.addFundInfo.isRecord?n("div",[e._v("未备案")]):e._e(),e._v(" "),"2"===e.addFundInfo.isRecord?n("div",[e._v("已备案")]):e._e()]),e._v(" "),e._l(e.recodeList,(function(t){return e.isEdit?n("el-radio",{key:t.value,attrs:{label:t.value},model:{value:e.addFundInfo.isRecord,callback:function(t){e.$set(e.addFundInfo,"isRecord",t)},expression:"addFundInfo.isRecord"}},[e._v(e._s(t.label)+"\n          ")]):e._e()}))],2)],1):e._e(),e._v(" "),"2"===e.addFundInfo.isRecord?n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          基金备案状态"),n("span",{staticClass:"mustIn"},[e._v("*")])]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",["0"===e.addFundInfo.isRecord?n("div",[e._v("未备案")]):e._e(),e._v(" "),"2"===e.addFundInfo.isRecord?n("div",[e._v("已备案")]):e._e()]),e._v(" "),e._l(e.recodeList,(function(t){return e.isEdit?n("el-radio",{key:t.value,attrs:{label:t.value},model:{value:e.addFundInfo.isRecord,callback:function(t){e.$set(e.addFundInfo,"isRecord",t)},expression:"addFundInfo.isRecord"}},[e._v(e._s(t.label)+"\n          ")]):e._e()}))],2),e._v(" "),n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          备案号\n          "),"2"===e.addFundInfo.isRecord?n("span",{staticClass:"mustIn"},[e._v("*")]):e._e()]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s(e.addFundInfo.recordCode))]),e._v(" "),e.isEdit?n("el-input",{model:{value:e.addFundInfo.recordCode,callback:function(t){e.$set(e.addFundInfo,"recordCode",t)},expression:"addFundInfo.recordCode"}}):e._e()],1)],1):e._e(),e._v(" "),n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          统一社会信用代码\n        ")]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:20}},["2"===e.addFundInfo.fundSts?n("div",[e._v(e._s(e.addFundInfo.socode))]):e._e()])],1),e._v(" "),n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          组织机构代码\n        ")]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},["2"===e.addFundInfo.fundSts?n("div",[e._v(e._s(e.addFundInfo.code1))]):e._e()]),e._v(" "),n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          法定事务代表人/执行事务合伙人\n        ")]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},["2"===e.addFundInfo.fundSts?n("div",[e._v(e._s(e.addFundInfo.people))]):e._e()])],1),e._v(" "),n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          注册地址\n        ")]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:20}},["2"===e.addFundInfo.fundSts?n("div",[e._v(e._s(e.addFundInfo.address))]):e._e()])],1),e._v(" "),n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          项目状态"),n("span",{staticClass:"mustIn"},[e._v("*")])]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s(e.addFundInfo.projStatusName))]),e._v(" "),e.isEdit?n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",placeholder:"请选择"},model:{value:e.addFundInfo.projStatus,callback:function(t){e.$set(e.addFundInfo,"projStatus",t)},expression:"addFundInfo.projStatus"}},e._l(e.projStatus,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e()],1),e._v(" "),n("el-col",{staticClass:"col-title",attrs:{span:4}},["2"===e.addFundInfo.fundSts?n("div",[e._v("成立日期")]):e._e()]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},["2"===e.addFundInfo.fundSts?n("div",[e._v(" "+e._s(e.addFundInfo.date))]):e._e()])],1),e._v(" "),n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          基金形式\n          "),n("span",{staticClass:"mustIn"},[e._v("*")])]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s(e.addFundInfo.fundStructName))]),e._v(" "),e.isEdit?n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",placeholder:"请选择"},model:{value:e.addFundInfo.fundStruct,callback:function(t){e.$set(e.addFundInfo,"fundStruct",t)},expression:"addFundInfo.fundStruct"}},e._l(e.fundProp,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e()],1),e._v(" "),n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          管理人"),n("span",{staticClass:"mustIn"},[e._v("*")])]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s(e.addFundInfo.projMc))]),e._v(" "),e.isEdit?n("el-input",{attrs:{size:"small"},model:{value:e.addFundInfo.projMc,callback:function(t){e.$set(e.addFundInfo,"projMc",t)},expression:"addFundInfo.projMc"}}):e._e()],1)],1),e._v(" "),n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          项目名称"),n("span",{staticClass:"mustIn"},[e._v("*")])]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s(e.addFundInfo.projName))]),e._v(" "),e.isEdit?n("el-input",{attrs:{size:"small"},model:{value:e.addFundInfo.projName,callback:function(t){e.$set(e.addFundInfo,"projName",t)},expression:"addFundInfo.projName"}}):e._e()],1),e._v(" "),n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          "+e._s("4"===e.projType?"子基金(SPV)目标规模（万元）":"子基金目标规模(万元)")+"\n        ")]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s(e.addFundInfo.planAmount))]),e._v(" "),e.isEdit?n("el-input",{attrs:{size:"small"},model:{value:e.addFundInfo.planAmount,callback:function(t){e.$set(e.addFundInfo,"planAmount",t)},expression:"addFundInfo.planAmount"}}):e._e()],1)],1),e._v(" "),n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          "+e._s("4"===e.projType?"子基金(SPV)认缴总规模（万元）":"子基金认缴总规模(万元)")+"\n        ")]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s(e.addFundInfo.currentAmount))]),e._v(" "),e.isEdit?n("el-input",{attrs:{size:"small"},model:{value:e.addFundInfo.currentAmount,callback:function(t){e.$set(e.addFundInfo,"currentAmount",t)},expression:"addFundInfo.currentAmount"}}):e._e()],1),e._v(" "),n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          "+e._s("4"===e.projType?"子基金(SPV)实缴总规模(万元)":"子基金实缴总规模(万元)")+"\n        ")]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s(e.addFundInfo.raiseAmount))]),e._v(" "),e.isEdit?n("el-input",{attrs:{size:"small"},model:{value:e.addFundInfo.raiseAmount,callback:function(t){e.$set(e.addFundInfo,"raiseAmount",t)},expression:"addFundInfo.raiseAmount"}}):e._e()],1)],1),e._v(" "),n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          是否关联交易"),n("span",{staticClass:"mustIn"},[e._v("*")])]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s("1"===e.addFundInfo.isCorr?"是":"否"))]),e._v(" "),e.isEdit?n("div",e._l(e.trueOrfalse,(function(t){return n("el-radio",{key:t.label,attrs:{label:t.value},on:{change:e.setFundIsMeeting},model:{value:e.addFundInfo.isCorr,callback:function(t){e.$set(e.addFundInfo,"isCorr",t)},expression:"addFundInfo.isCorr"}},[e._v("\n              "+e._s(t.label)+"\n\n            ")])})),1):e._e()]),e._v(" "),n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          是否需要上合伙人会议\n        ")]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s("1"===e.addFundInfo.isMeeting?"是":"否"))]),e._v(" "),e.isEdit?n("div",e._l(e.trueOrfalse,(function(t){return n("el-radio",{key:t.label,attrs:{disabled:Boolean(Number(e.addFundInfo.isCorr)),label:t.value},model:{value:e.addFundInfo.isMeeting,callback:function(t){e.$set(e.addFundInfo,"isMeeting",t)},expression:"addFundInfo.isMeeting"}},[e._v("\n              "+e._s(t.label)+"\n            ")])})),1):e._e()])],1),e._v(" "),n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          出资主体"),n("span",{staticClass:"mustIn"},[e._v("*")])]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",[e._v(e._s(e.addFundInfo.inveName))]),e._v(" "),e.isEdit?n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",placeholder:"请选择"},on:{change:e.setInveName},model:{value:e.addFundInfo.inveId,callback:function(t){e.$set(e.addFundInfo,"inveId",t)},expression:"addFundInfo.inveId"}},e._l(e.inveTypeList,(function(e){return n("el-option",{key:e.fundId,attrs:{label:e.fundName,value:e.fundId}})})),1):e._e()],1),e._v(" "),n("el-col",{staticClass:"col-title",attrs:{span:4}},[n("div",[e._v("是否属于江苏省内")])]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:8}},[e.isEdit?e._e():n("div",["1"===e.addFundInfo.isJs?n("div",[e._v("是")]):e._e(),e._v(" "),"0"===e.addFundInfo.isJs?n("div",[e._v("否")]):e._e()]),e._v(" "),e._l(e.trueOrfalse,(function(t){return e.isEdit?n("el-radio",{key:t.value,attrs:{label:t.value},model:{value:e.addFundInfo.isJs,callback:function(t){e.$set(e.addFundInfo,"isJs",t)},expression:"addFundInfo.isJs"}},[e._v(e._s(t.label)+"\n          ")]):e._e()}))],2)],1),e._v(" "),n("el-row",{staticClass:"infoRow",attrs:{align:"center"}},[n("el-col",{staticClass:"col-title",attrs:{span:4}},[e._v("\n          附件\n        ")]),e._v(" "),n("el-col",{staticClass:"col-content",attrs:{span:20}},["1"!==e.projType?n("upLoadFile",{key:e.addFundInfo.inveFile,staticStyle:{width:"100%"},attrs:{"hidden-upload":!e.isEdit,"context-path":e.url.upApi},model:{value:e.addFundInfo.inveFile,callback:function(t){e.$set(e.addFundInfo,"inveFile",t)},expression:"addFundInfo.inveFile"}}):e._e()],1)],1)],1):e._e()])},a=[],o=(n("aa18"),n("982e"),n("a450"),n("1bc7"),n("58b9")),d=n("698e"),i=n("e19c"),r=n("4d47"),l=n.n(r),c=(n("3d1e"),n("29c6")),u=n("fa8a"),f={name:"ProjInfo",components:{upLoadFile:o["default"],treeSelect:l.a,projFormPage:c["default"]},props:["projectInfo"],data:function(){return{addProjectInfo:{projName:"",projPropertyIds:[],enteId:"",isMeeting:"",projObject:"",perShare:"",intendedAmount:"",isCorr:"",inveId:"",socode:"",code1:"",people:"",date:"",address:"",projType:"1",projStatus:"",projNo:"",isRegion:"",isRegister:"",labelId:[]},addFundInfo:{regName:"",enteId:"",fundSts:"",isRecord:"",recordCode:"",isJs:"",socode:"",code1:"",people:"",date:"",address:"",fundStruct:"",inveId:"",projMc:"",projName:"",planAmount:"",currentAmount:"",raiseAmount:"",isCorr:"",isMeeting:"",perShare:"",intendedAmount:"",projType:"",projStatus:"",projNo:""},projectStsList:"",trueOrfalse:"",registerSts:"",regionList:"",fundProp:"",recodeList:"",projStatus:"",inveTypeList:"",loading:!1,ProjectNameList:[],url:i["a"],isEdit:!1,projType:"1",labelList:[],projectPropList:[],submitType:"",industryList:[],changeLabel:function(e){return{id:e.id,label:e.text,children:e.children}},isNewIndustry:!0,newIndustryList:[],SPVFundList:[],newIndustry:!1,spvTypeList:[],investmentRoundList:[],inveRoundsList:[],buttonList:[],projStatusValue:""}},watch:{projectInfo:{handler:function(e,t){var n=this,s=e;this.projType=s.projType,this.submitType=s.projType,s.bdTFitRegulationSelfModel=s.bdTFitRegulationSelfModel?s.bdTFitRegulationSelfModel:{},"1"===s.projType?(this.addProjectInfo={projName:s.projName,projPropertyName:s.projPropertyName,projId:s.projId,isMeeting:s.isMeeting,projObject:s.projObject,perShare:s.projAppInfoModel.perShare,intendedAmount:s.projAppInfoModel.intendedAmount,isCorr:s.bdTFitRegulationSelfModel.isCorr,isJs:s.bdTFitRegulationSelfModel.isJs,inveId:s.inveId,inveName:s.inveName,industryCategory:s.industryCategory,industryCategoryName:s.industryCategoryName,inveFile:s.inveFile,socode:s.entBaseInfoModel?s.entBaseInfoModel.creditCode:"无",stockCategory:s.entBaseInfoModel?s.entBaseInfoModel.stockCategory:"",code1:s.entBaseInfoModel?s.entBaseInfoModel.orgCode:"无",people:s.entBaseInfoModel?s.entBaseInfoModel.operName:"无",date:s.entBaseInfoModel?s.entBaseInfoModel.startDate:"无",address:"".concat(s.entBaseInfoModel.addressProvince?s.entBaseInfoModel.addressProvince:"","-").concat(s.entBaseInfoModel.addressCity,"-").concat(s.entBaseInfoModel.addressArea," ").concat(s.entBaseInfoModel.addressDetails),isOnStock:s.entBaseInfoModel?s.entBaseInfoModel.isPublicComp:"未上市",isAfterListed:s.isAfterListed,isIpo:s.entBaseInfoModel.isIpo,applyIpoDt:s.entBaseInfoModel.applyIpoDt,listedSector:s.baseInfoExtendModel?s.baseInfoExtendModel.listedSector:"",projType:s.projType,projStatus:s.projStatus,projStatusName:s.projStatusName,projMc:s.projMc,entePhase:s.entePhase,entePhaseName:s.entePhaseName,labelName:s.labelName?s.labelName:"",labelId:[],listLabel:s.listLabel?s.listLabel:[],enterpriseId:s.entBaseInfoModel?s.entBaseInfoModel.enterpriseId:"",projPropertyIds:s.projPropertyIds,names:s.names,industryName:s.industryName,industry:s.industry,newIndustry:s.newIndustry,newIndustryName:s.newIndustryName,isSPVFundId:s.isSPVFundId,isSPVFundName:s.isSPVFundName,isSPVProj:s.isSPVProj,projNo:s.projNo,spvType:s.spvType,spvTypeName:s.spvTypeName,status:s.status,finaRounds:s.projAppInfoModel.finaRounds,finaRoundsName:s.finaRoundsName,finaTimes:s.projAppInfoModel.finaTimes,finaAmount:s.projAppInfoModel.finaAmount,allTmoney:s.bdTFitRegulationSelfModel.allTmoney,isTwelve:s.bdTFitRegulationSelfModel.isTwelve,isRegion:s.isRegion,isRegister:s.isRegister},this.projStatusValue=this.addProjectInfo.projStatus,s.listLabel&&s.listLabel.forEach((function(e){n.addProjectInfo.labelId.push(e.labelId)})),this.ProjectNameList=[{label:s["projName"],value:s["projObject"]}]):(this.addFundInfo={regName:s.fundInfo.regName,projId:s.projId,projObject:s.projObject,fundSts:s.fundInfo?s.fundInfo.fundSts:"",isRecord:s.fundInfo?s.fundInfo.isRecord:"",recordCode:s.fundInfo?s.fundInfo.recordCode:"",isJs:s.bdTFitRegulationSelfModel.isJs,socode:s.entBaseInfoModel?s.entBaseInfoModel.creditCode:"",code1:s.entBaseInfoModel?s.entBaseInfoModel.orgCode:"",people:s.entBaseInfoModel?s.entBaseInfoModel.operName:"",date:s.entBaseInfoModel?s.entBaseInfoModel.startDate:"",address:s.entBaseInfoModel?s.entBaseInfoModel.addressDetails:"",fundStruct:s.fundInfo?s.fundInfo.fundStruct:"",fundStructName:s.fundStructName,inveId:s.inveId,inveName:s.inveName,projMc:s.projMc,projName:s.projName,planAmount:s.fundInfo?s.fundInfo.planAmount:"",currentAmount:s.fundInfo?s.fundInfo.currentAmount:"",raiseAmount:s.fundInfo?s.fundInfo.raiseAmount:"",isCorr:s.bdTFitRegulationSelfModel.isCorr,isMeeting:s.isMeeting,perShare:s.projAppInfoModel.perShare,intendedAmount:s.projAppInfoModel.intendedAmount,inveFile:s.inveFile,projType:s.projType,projStatus:s.projStatus,projStatusName:s.projStatusName,labelName:s.labelName?s.labelName:"",labelId:[],listLabel:s.listLabel,enterpriseId:s.entBaseInfoModel?s.entBaseInfoModel.enterpriseId:"",projPropertyIds:s.projPropertyIds,names:s.names,industryName:s.industryName,industry:s.industry,newIndustry:s.newIndustry,newIndustryName:s.newIndustryName,isSPVFundId:s.isSPVFundId,isSPVFundName:s.isSPVFundName,isSPVProj:s.isSPVProj,projNo:s.projNo,spvType:s.spvType,spvTypeName:s.spvTypeName,status:s.status},this.projStatusValue=this.addFundInfo.projStatus,s.listLabel&&s.listLabel.forEach((function(e){n.addFundInfo.labelId.push(e.labelId)})),this.ProjectNameList=[{label:s["projName"],value:s["projObject"]}]),sessionStorage.setItem("proj".concat(s.projId),s.projName),this.setTagsViewTitle()},deep:!0}},mounted:function(){var e=this;d["a"].getFundInfoList({pageSize:1e3,currPage:1,keyword:"",fundStruct:"",platProp:"",fundSts:"",fundSrc:"1"}).then((function(t){e.inveTypeList=t.data.data})),d["a"].getSpvList({id:"4"}).then((function(t){e.SPVFundList=t.data.data})),d["a"].labelList({pageSize:1e3,currPage:1}).then((function(t){e.labelList=t.data.data})),this.getParentId(1013,"projectStsList"),this.getParentId(102,"trueOrfalse"),this.getParentId(249,"registerSts"),this.getParentId(9008,"regionList"),this.getParentId(210,"fundProp","1,2,3"),this.getParentId(248,"recodeList"),this.getParentId(216,"projStatus"),this.getParentId(1015,"spvTypeList"),this.getParentId(214,"inveRoundsList"),this.getParentId(213,"investmentRoundList"),d["a"].projTreeInfo().then((function(t){var n=function e(t){t.forEach((function(t){if(0!==t.children.length)return e(t.children);delete t.children}))};t.data.forEach((function(e){n(e.children)})),e.industryList=t.data}))},methods:{setButtonList:function(e){var t=this;this.$route.meta.buttons.forEach((function(e){"基本信息"===e.name&&e.buttons.forEach((function(e){"50030101"===e.code&&t.buttonList.push(e.code)}))}))},setTagsViewTitle:function(){var e=sessionStorage.getItem("proj".concat(this.$route.params.projId))?sessionStorage.getItem("proj".concat(this.$route.params.projId)):"项目详情";this.tempRoute=Object.assign({},this.$route);var t=Object.assign({},this.tempRoute,{title:"".concat(e)});this.$store.dispatch("tagsView/updateVisitedView",t)},getParentId:function(e,t){var n=this;sessionStorage.getItem("code".concat(e))?this[t]=JSON.parse(sessionStorage.getItem("code".concat(e))):d["a"].getCodeByParentId({parentId:e}).then((function(s){n[t]=s.data.data.options,sessionStorage.setItem("code".concat(e),JSON.stringify(s.data.data.options))}))},getProject:function(e){var t=this;this.$forceUpdate(),d["a"].QCCDataGetDetailsByName({keyword:e}).then((function(e){var n=JSON.parse(e.data.data.value).Result;return null===n?(t.$message({offset:150,type:"warning",message:"查询无结果，请重新选择合适数据"}),!1):n})).then((function(e){return"1"===t.projType?(t.addProjectInfo.socode=e.CreditCode?e.CreditCode:"...",t.addProjectInfo.code1=e.OrgNo?e.OrgNo:"...",t.addProjectInfo.people=e.OperName?e.OperName:"...",t.addProjectInfo.date=e.StartDate.substr(0,10)?e.StartDate.substr(0,10):"...",t.addProjectInfo.address=e.Address?e.Address:"...",t.addProjectInfo.projName=e.Name?e.Name:"..."):(t.addFundInfo.socode=e.CreditCode?e.CreditCode:"...",t.addFundInfo.code1=e.OrgNo?e.OrgNo:"...",t.addFundInfo.people=e.OperName?e.OperName:"...",t.addFundInfo.date=e.StartDate.substr(0,10)?e.StartDate.substr(0,10):"...",t.addFundInfo.address=e.Address?e.Address:"...",t.addFundInfo.regName=e.Name?e.Name:"...",t.addFundInfo.projName=e.Name?e.Name:"..."),d["a"].saveEntBaseInfo(e)})).then((function(e){"1"===t.addProjectInfo.projType?t.addProjectInfo.projObjectId=e.data.msg:t.addFundInfo.projObjectId=e.data.msg})).catch((function(e){console.error(e)}))},searchProjectList:function(e){var t=this;e?(this.loading=!0,d["a"].QCCSearchData({keyword:e}).then((function(e){var n=JSON.parse(e.data.data.value);t.loading=!1,null==n.Result||(t.loading=!1,t.ProjectNameList=n.Result.map((function(e){return{value:e.CreditCode,label:e.Name}})))}))):this.loading=!1},editProjTable:function(){var e=this;this.isEdit=!0,this.$nextTick((function(){e.$refs.projFormPage.getInveList(e.addProjectInfo.inveName),e.$refs.projFormPage.searchProjectList(e.addProjectInfo.projName)}))},saveProjTable:function(e){var t=this;this.addProjectInfo.projectId=this.$route.params.projId,this.addFundInfo.projectId=this.$route.params.projId;var n="";if("1"===this.projType){if(n=this.addProjectInfo,"submit"===e){if(!n.projMc||""===n.projMc)return void this.$message({offset:150,type:"warning",message:"请填写管理人"});if(!n.projName||""===n.projName)return void this.$message({offset:150,type:"warning",message:"请填写项目名称"});if(!n.industry||""===n.industry)return void this.$message({offset:150,type:"warning",message:"请选择所属行业"});if(!n.inveName||""===n.inveName)return void this.$message({offset:150,type:"warning",message:"请选择出资主体"});if(!n.projPropertyIds||0===n.projPropertyIds.length)return void this.$message({offset:150,type:"warning",message:"请选择企业性质"});if(!n.projStatus||""===n.projStatus)return void this.$message({offset:150,type:"warning",message:"请选择项目状态"});if(!n.isCorr||""===n.isCorr)return void this.$message({offset:150,type:"warning",message:"请选择是否关联交易"});n.status="1"}else n.status="0";this.addProjectInfo.projObject=this.addProjectInfo.projObjectId?this.addProjectInfo.projObjectId:this.addProjectInfo.projObject,this.ProjectNameList=[{label:n["projName"],value:n["projObject"]}],d["a"].saveProjInfo(n).then((function(e){"成功"===e.data.msg?(t.$message({offset:150,type:"success",message:"保存成功"}),Object(u["Gb"])({projId:t.$route.params.projId}),t.isEdit=!1,t.$emit("refreshInfo")):(t.$message({offset:150,type:"warning",message:e.data.msg}),t.$emit("refreshInfo"))}))}if("1"!==this.projType){if(n=this.addFundInfo,"submit"===e){if(!n.projMc||""===n.projMc)return void this.$message({offset:150,type:"warning",message:"请填写管理人"});if(!n.projName||""===n.projName)return void this.$message({offset:150,type:"warning",message:"请填项目名称"});if(!n.inveName||""===n.inveName)return void this.$message({offset:150,type:"warning",message:"请选择出资主体"});if(!n.fundSts||""===n.fundSts)return void this.$message({offset:150,type:"warning",message:"请选择基金注册状态"});if(!n.isRecord||""===n.isRecord)return void this.$message({offset:150,type:"warning",message:"请选择基金备案状态"});if(!n.projStatus||""===n.projStatus)return void this.$message({offset:150,type:"warning",message:"请选择项目状态"});if(!n.isCorr||""===n.isCorr)return void this.$message({offset:150,type:"warning",message:"请选择是否关联交易"});if(void 0===n.fundStruct||null===n.fundStruct||""===n.fundStruct)return void this.$message({offset:150,type:"warning",message:"请选择基金形式"});if("4"===this.projType&&(!n.spvType||""===n.spvType))return void this.$message({offset:150,type:"warning",message:"请选择SPV类型"});if("2"===this.addFundInfo.isRecord&&(!this.addFundInfo.recordCode||""===this.addFundInfo.recordCode))return void this.$message({offset:150,type:"warning",message:"请填写备案号"});n.status="1"}else n.status="0";this.addFundInfo.projObject=this.addFundInfo.projObjectId?this.addFundInfo.projObjectId:this.addFundInfo.projObject,this.addFundInfo.projObjectName=this.addFundInfo.projName,this.ProjectNameList=[{label:n["projName"],value:n["projObject"]}],d["a"].saveProjInfo(n).then((function(e){"成功"===e.data.msg?(t.$message({offset:150,type:"success",message:"编辑保存成功"}),Object(u["Gb"])({projId:t.$route.params.projId}),t.isEdit=!1,t.$emit("refreshInfo")):(t.$message({offset:150,type:"warning",message:e.data.msg}),t.$emit("refreshInfo"))}))}},cancelProjTable:function(){this.isEdit=!this.isEdit,this.$emit("refreshInfo")},isCorrChange:function(e){"1"===e&&(this.addProjectInfo.isMeeting="1",this.addFundInfo.isMeeting="1")},setInveName:function(e){var t=this;this.inveTypeList.forEach((function(n){e===n.fundId&&("1"===t.projectInfo.projType?(t.addProjectInfo.inveName=n.fundName,t.addProjectInfo.projMc=n.fundName):(t.addFundInfo.inveName=n.fundName,t.addFundInfo.projMc=n.fundName))}))},checkIsSPV:function(e){"0"===e&&("1"===this.submitType?(this.addProjectInfo.isSPVFundName="",this.addProjectInfo.isSPVFundId=""):(this.addFundInfo.isSPVFundName="",this.addFundInfo.isSPVFundId=""))},setSPVFundName:function(e){var t=this;this.$forceUpdate(),this.SPVFundList.forEach((function(n){n.fundId===e&&("1"===t.submitType?t.addProjectInfo.isSPVFundName=n.regName:t.addFundInfo.isSPVFundName=n.regName)}))},changeIndustryFund:function(e){var t=this;"1"===this.submitType?this.addProjectInfo.industryName=e.text:this.addFundInfo.industryName=e.text,this.addFundInfo.industry=e.id,this.addFundInfo.newIndustry="",this.addFundInfo.newIndustryName="",d["a"].getCommTNewList({id:e.id}).then((function(e){"0"===e.data.status&&(t.newIndustry=!0,t.newIndustryList=e.data.data)}))},changeIndustryProj:function(e){var t=this;"1"===this.submitType?this.addProjectInfo.industryName=e.text:this.addFundInfo.industryName=e.text,this.addProjectInfo.industry=e.id,this.addProjectInfo.newIndustry="",this.addProjectInfo.newIndustryName="",d["a"].getCommTNewList({id:e.id}).then((function(e){"0"===e.data.status&&(t.newIndustry=!0,t.newIndustryList=e.data.data)}))},sureNewIndustry:function(){var e=this;"1"===this.submitType&&(""!==this.addProjectInfo.newIndustryName?this.addProjectInfo.labelId.includes("4")||this.addProjectInfo.labelId.push("4"):""===this.addProjectInfo.newIndustryName&&this.addProjectInfo.labelId.forEach((function(t,n){"4"===t&&e.addProjectInfo.labelId.splice(n,1)}))),this.newIndustry=!1},cancelNewIndustry:function(){this.newIndustry=!1,this.addProjectInfo.newIndustry="",this.addFundInfo.newIndustry="",this.addProjectInfo.newIndustryName="",this.addFundInfo.newIndustryName=""},getProjPropertyIds:function(e){this.$forceUpdate()},setnewIndustryName:function(e){var t=this;this.$forceUpdate(),this.newIndustryList.forEach((function(n){n.id===e&&("1"===t.submitType?t.addProjectInfo.newIndustryName=n.newName:t.addFundInfo.newIndustryName=n.newName)}))},setFundIsMeeting:function(e){"1"===e&&(this.addFundInfo.isMeeting="1")},fundSetStatus:function(e){},checkIsqcc:function(){this.ProjectNameList=[],this.addProjectInfo.projName="",this.addProjectInfo.projObject="",this.addProjectInfo.socode="",this.addProjectInfo.code1="",this.addProjectInfo.people="",this.addProjectInfo.date="",this.addProjectInfo.address="",this.addProjectInfo.projName=""}}},p=f,I=(n("8208"),n("4ac2")),v=Object(I["a"])(p,s,a,!1,null,"7dc8f77c",null);t["default"]=v.exports}}]);